---
name: Bitcoin та BTCPay Server
goal: Встановити BTCPay Server для вашого бізнесу
objectives:
  - Зрозуміти, що таке btcpayserver.
  - Самостійно розмістити та налаштувати BTCPay Server.
  - Використовувати btcpayserver у вашому щоденному бізнесі.
---

# Bitcoin та BTCPay Server

Це вступний курс по роботі з BTCPay Server, написаний Алекосом та Басом, який був адаптований до формату курсу PlanB melontwist та asi0.

НЕЗАВЕРШЕНА ІСТОРІЯ

"Це брехня, моя довіра до вас зруйнована, я зроблю вас застарілими".

Створено Фондом BTCPay Server

+++

# Вступ

<partId>59e43fe3-b494-5da6-b4b4-9df5bdf08916</partId>

## Критичні відгуки автора про Bitcoin та BTCPay Server

<chapterId>e1fe6294-3c82-5203-9537-779f9087c35a</chapterId>

Почнемо з того, що таке BTCPay Server і звідки він взявся. Ми цінуємо прозорість та певні стандарти для формування довіри у просторі Bitcoin.
Один з проектів у цьому просторі порушив ці цінності. Головний розробник BTCPay Server, Ніколас Дор'є, сприйняв це особисто і пообіцяв зробити їх застарілими. Ось ми, багато років потому, працюємо над цим майбутнім, повністю відкритим кодом, щодня.

> Це брехня, моя довіра до вас зруйнована, я зроблю вас застарілими.
> Ніколас Дор'є

Після слів Ніколаса настав час почати будувати. Багато роботи було вкладено в те, що ми зараз називаємо BTCPay Server. Більше людей хотіли допомогти з цим поштовхом. Найбільш впізнаваними є r0ckstardev, MrKukks, Pavlenex, та перший торговець, який використовував програмне забезпечення, astupidmoose.

Що означає відкритий код, і що входить в такий проект?

FOSS означає Вільне та Відкрите Програмне Забезпечення. Перше відноситься до умов, які дозволяють будь-кому копіювати, модифікувати, а навіть розповсюджувати версії (навіть з метою отримання прибутку) програмного забезпечення. Останнє відноситься до відкритого обміну вихідним кодом, заохочуючи громадськість до участі та вдосконалення його.
Це залучає досвідчених користувачів, які ентузіастично бажають внести свій вклад у програмне забезпечення, яке вони вже використовують і отримують від нього користь, доводячи з часом, що такий підхід перемагає пропрієтарне програмне забезпечення у плані адопції. Це відповідає етосу Bitcoin, що "інформація прагне бути вільною". Це об'єднує пристрасних людей, які формують спільноту, і просто більш весело. Як і Bitcoin, FOSS неминучий.

### Перед тим як ми почнемо

Цей курс складається з декількох частин. Багато з них будуть виконані вашим викладачем у класі, демонстраційні середовища, до яких ви отримаєте доступ, хостинг сервера для себе, і, можливо, доменне ім'я. Якщо ви проходите цей курс самостійно, будь ласка, зверніть увагу, що середовища, позначені як DEMO, не будуть доступні для вас.
УВАГА. Якщо ви слідуєте цьому курсу в класі, назви серверів можуть відрізнятися залежно від налаштувань вашого класу. Змінні в назвах серверів можуть бути різними через це.

### Структура курсу

Кожен розділ має цілі та оцінки знань. У цьому курсі ми розглянемо кожну з них і матимемо підсумок ключових особливостей у кожному блоку уроків (тобто розділі). Ілюстрації представлені для надання візуального зворотного зв'язку та підкріплення ключових концепцій у візуальному аспекті. Цілі встановлені на початку кожного блоку уроків. Ці цілі виходять за рамки простого списку завдань. Вони надають вам керівництво до нового набору навичок. Оцінки знань поступово стають складнішими у налаштуванні вашого BTCPay Server.

### Що отримують студенти з курсу?
З курсом BTCPay Server студент може зрозуміти базові принципи, як технічні, так і нетехнічні, Bitcoin. Розширене навчання використанню Bitcoin через BTCPay Server дозволить студентам керувати власною інфраструктурою Bitcoin.

### Важливі веб-адреси або можливості зв'язку

Фонд BTCPay Server, який дозволив Алекосу та Басу написати цей курс, знаходиться в Токіо, Японія. З фондом BTCPay Server можна зв'язатися через вебсайт, що вказаний;

- https://foundation.btcpayserver.org
- приєднуйтесь до офіційних чат-каналів: https://chat.btcpayserver.org

## Вступ до Bitcoin

<chapterId>5c0bc234-c188-5b4a-94d5-adee87a120e2</chapterId>

### Розуміння Bitcoin через класні вправи

Це класна вправа, тому якщо ви проходите цей курс самостійно, ви не можете виконати її, але все одно можете пройти через цю вправу. Для завершення цього завдання мінімальна кількість людей між 9 та 11.

Вправа починається після перегляду вступу "Як працюють Bitcoin і блокчейн" від BBC.

![як працюють bitcoin і блокчейн](https://youtu.be/mhE_vvwAiRc)

Для участі в цій вправі потрібно щонайменше дев'ять осіб. Мета цієї вправи - фізично уявити, як працює Bitcoin. Граючи кожну роль у мережі, ви матимете інтерактивний і веселий спосіб навчання. Ця вправа не включає Lightning Network.

### Приклад; Потрібно 9 / 11 людей

Ролі такі:

- 1 Покупець
- 1 Продавець
- 7 до 9 вузлів Bitcoin

**Налаштування наступне:**

Покупець купує продукт у магазині за Bitcoin.

**Сценарій 1 - Традиційна банківська система**

- Налаштування:
  - Дивіться діаграми/пояснення у прикріпленому Figjam - [Схема активності](https://www.figma.com/file/ckmvMq02Jm2MegSsVCDFhc/Day-1-Classroom-Activity?type=whiteboard&node-id=0-1&t=KR31ofMaJX6S95UL-0).
  - Залучіть трьох студентів-волонтерів для гри в ролі Покупця (Аліса), Продавця (Боб), та Банку.
- Дії за сценарієм:
  - Покупець- переглядає магазин онлайн і знаходить товар за 25 доларів, який вони хочуть, і повідомляє Продавця, що хотіли б придбати
  - Продавець- просить оплату.
  - Покупець- відправляє інформацію картки Продавцю
  - Продавець- пересилає інформацію Банку (ідентифікуючи як свою, так і ідентичність/інформацію) з проханням про оплату
  - Банк збирає інформацію про Покупця та Продавця (Алісу та Боба) і перевіряє, що баланс покупця достатній.
  - Знімає 25 доларів з рахунку Аліси, додає 24 долари на рахунок Боба, бере 1 долар за послугу
  - Продавець отримує сигнал "все добре" від Банку і відправляє товар покупцю.
- Коментарі:
  - Боб і Аліса повинні мати відносини з банком.
  - Банк збирає ідентифікаційну інформацію про обох, Боба і Алісу.
  - Банк бере комісію.
  - Банку потрібно довіряти зберіганню грошей кожного учасника весь час.

**Сценарій 2 - Система Bitcoin**

- Налаштування:
  - Дивіться діаграми/пояснення у прикріпленому Figjam - [Схема активності](https://www.figma.com/file/ckmvMq02Jm2MegSsVCDFhc/Day-1-Classroom-Activity?type=whiteboard&node-id=0-1&t=KR31ofMaJX6S95UL-0).
- Замініть Банк на дев'ять студентів, які виконуватимуть роль Комп'ютера (Вузли/Майнери Bitcoin) у мережі, щоб замінити Банк.
- Кожен з 9 Комп'ютерів має повний історичний запис усіх минулих транзакцій, що були здійснені (таким чином точні залишки без підробок), а також набір правил:
  - Перевіряти, що транзакція належним чином підписана (ключ підходить до замка)
  - Транслювати та отримувати дійсні транзакції від пірів у мережі, відкидати недійсні (включаючи будь-які, що намагаються витратити ті ж кошти двічі)
- Періодично оновлювати/додавати записи з новими транзакціями, отриманими від "випадкового" комп'ютера, за умови, що всі вміст дійсний (зауважте: наразі ми ігноруємо компонент Доказу Виконаної Роботи для всього цього, для спрощення), інакше відхилити ці та продовжувати як раніше до наступного "випадкового" комп'ютера, який надсилає оновлення
  - Належна кількість була винагороджена, якщо вміст був дійсний.
- Відтворіть послідовність подій:
  - Клієнт- переглядає магазин онлайн і знаходить товар за $25, який вони хочуть, і повідомляє Торговця, що хотіли б придбати
  - Торговець- просить оплату, надсилаючи клієнту рахунок/адресу з їхнього гаманця.
  - Клієнт- створює транзакцію (відправляючи $25 вартістю BTC на адресу, надану Торговцем) і транслює її в мережу Bitcoin.
- Комп'ютери- отримують транзакцію і перевіряють:
  - Чи є принаймні $25 BTC на адресі, з якої відправляють
  - Чи належним чином підписана транзакція (“відкрита” клієнтом)
  - Якщо це не так, тоді транзакція не буде розповсюджена через мережу, а якщо так, то вона розповсюджується і чекає.
  - Торговці можуть перевірити, що транзакція в очікуванні та чекає.
- Один комп'ютер “випадково” обирається для того, щоб запропонувати завершити запропоновану транзакцію, транслюючи “блок”, що містить її; якщо вона перевіряється, вони отримають винагороду BTC.
  - ДОДАТКОВО/ПРОДВИНУТО - замість випадкового вибору Комп'ютера, симулюйте майнінг, дозволяючи Комп'ютерам кидати кості до тих пір, поки не відбудеться певний передбачений результат (наприклад, перший, хто викине подвійні шістки, обирається)
  - Також можна відтворити, що станеться, якщо два Комп'ютери виграють приблизно одночасно, що призведе до розколу ланцюга.
  - Комп'ютери перевіряють дійсність, оновлюють/додають записи до своїх реєстрів, якщо правила виконані, і транслюють блок пірам.
  - Випадково обраний комп'ютер отримує винагороду за пропозицію дійсного блоку.
  - Торговець перевіряє, що транзакція була завершена; таким чином, кошти були отримані, і товар був відправлений клієнту.
- Коментарі:
  - Зверніть увагу, що не було потреби в попередніх банківських відносинах.
  - Не потрібно третьої сторони для посередництва; замінено кодом/стимулами.
  - Збір даних ніким ззовні прямого обміну не проводиться, і лише необхідна кількість має бути обміняна між учасниками (наприклад, адреса доставки).
  - Довіра між людьми не вимагається (крім як Торговець, який відправляє товар), подібно до покупки за готівку в багатьох випадках.
  - Гроші належать безпосередньо особам.
  - Реєстр Bitcoin зображено в доларах для спрощення, але насправді це BTC.
  - Ми симулюємо одну транзакцію, яка транслюється, але насправді в мережі очікуються кілька транзакцій, і блоки включають тисячі транзакцій одночасно. Вузли також перевіряють, чи немає транзакцій подвійної витрати в очікуванні (якби це було так, я б викинув усі, крім однієї).
- Сценарії обману:
  - Що якщо у клієнта не було $25 BTC?
    - Вони не змогли б створити транзакцію, тому що “відкривання” та “власність” є одним і тим же, і комп'ютери перевіряють, чи належним чином підписана транзакція; інакше вони відхиляють її.
- Що якщо випадково обраний комп'ютер спробує "змінити реєстр"?    - Блок буде відхилений, оскільки кожен інший комп'ютер має повну історію і помітить зміну, що порушує одне з їхніх правил.
    - Випадковий Комп'ютер не отримає винагороду, і жодна транзакція з їхнього блоку не буде завершена.

## Оцінка знань

<chapterId>1461f064-933d-50ea-8935-324b68ec5d5f</chapterId>

### Обговорення в класі KA

Обговоріть деякі спрощення, зроблені під час класної вправи в другому сценарії, і опишіть, що реальна система Bitcoin робить детальніше.

### Перегляд словникового запасу KA

Визначте наступні ключові терміни, введені в попередньому розділі:

- Вузол
- Mempool
- Ціль складності
- Блок

**Обговоріть значення деяких додаткових термінів як група:**

Blockchain, Транзакція, Подвійне Витрачання, Проблема Візантійських Генералів, Майнінг, Доказ Роботи (PoW), Хеш-функція, Винагорода за Блок, Blockchain, Найдовший Ланцюг, Атака 51%, Вихід, Блокування Виходу, Зміна, Сатоші, Публічний/Приватний Ключ, Адреса, Криптографія з Відкритим Ключем, Цифровий Підпис, Гаманець

# Введення в BTCPay Server

<partId>9c8a2d0c-9ba1-5c39-874c-f9eaf1bba663</partId>

## Розуміння екрану входу в BTCPay Server

<chapterId>14aad54c-9bd8-54f2-9455-178b8ae63408</chapterId>

### Робота з BTCPay Server

Метою цього блоку курсу буде отримання загального розуміння програмного забезпечення BTCPay Server. У спільному середовищі рекомендується слідувати демонстрації інструктора та користуватися посібником BTCPay Server Coursebook для супроводу вчителя. Ви навчитеся створювати гаманець кількома методами. Приклади включають налаштування гарячого гаманця та апаратні гаманці, підключені через BTCPay Server Vault. Ці цілі відбуваються в демонстраційному середовищі, яке демонструється та надається доступом вашим інструктором курсу.

Якщо ви слідуєте цьому курсу самостійно, ви можете знайти список сторонніх хостів для демонстраційних цілей за адресою https://directory.btcpayserver.org/filter/hosts. Ми настійно радимо не використовувати ці сторонні варіанти як виробничі середовища, але вони служать правильними цілями для введення в використання Bitcoin і BTCPay Server.

Як стажер-зірка BTCPay Server, у вас може бути попередній досвід налаштування вузла Bitcoin. Цей курс буде конкретно адаптований до програмного стеку BTCPay Server.

Багато опцій у BTCPay Server існують у тій чи іншій формі в іншому програмному забезпеченні, пов'язаному з Bitcoin гаманцем.

### Екран входу в BTCPay Server

Коли вас вітають у демонстраційному середовищі, вас просять ‘Увійти’ або ‘Створити свій акаунт’. Адміністратори сервера можуть вимкнути функцію створення нових акаунтів з міркувань безпеки. Логотипи та кольори кнопок BTCPay Server можна змінити, оскільки BTCPay Server є програмним забезпеченням з відкритим вихідним кодом. Сторонній хост може використовувати White-label програмне забезпечення та змінити весь вигляд.

![image](assets/en/0.webp)

### Вікно створення акаунту

Для створення акаунтів на BTCPay Server потрібні дійсні рядки електронної пошти; example@email.com буде дійсним рядком для Email.

Пароль повинен бути не менше 8 символів довжиною, включаючи літери, цифри та символи. Після встановлення пароля один раз, вам доведеться перевірити введений пароль, щоб переконатися, що він відповідає тому, що було введено в першому полі пароля.
Коли поля "Електронна пошта" та "Пароль" правильно заповнені, натисніть кнопку "Створити акаунт". Це збереже електронну пошту та пароль на інстанції BTCPay Server інструктора.
![зображення](assets/en/1.webp)

**!Увага!**

Якщо ви проходите цей курс самостійно, створення цього акаунта може бути виконано на сторонньому хостингу; тому, знову ж таки, ми наголошуємо, щоб ніколи не використовувати ці середовища для виробництва, а лише для навчальних цілей.

### Створення акаунта адміністратором BTCPay Server

Адміністратор інстанції BTCPay Server також може створювати акаунти для BTCPay Server. Адміністратор інстанції BTCPay Server може натиснути на "Налаштування сервера" (1), перейти на вкладку "Користувачі" (2) та натиснути кнопку "+ Додати користувача" (3) у верхньому правому куті вкладки Користувачі. У Цілі (4.3) ви дізнаєтеся більше про адміністративне керування Акаунтами.

![зображення](assets/en/2.webp)

Як адміністратор, вам буде потрібна електронна адреса користувача та стандартний пароль. Рекомендується адміністратору повідомити користувача, що він повинен змінити цей пароль перед використанням акаунта з міркувань безпеки. Якщо адміністратор НЕ встановлює пароль і на сервері налаштовано SMTP, користувач отримає електронний лист з посиланням-запрошенням для створення свого акаунта та встановлення пароля самостійно.

### Приклад

Коли ви слідуєте курсу під керівництвом інструктора, перейдіть за посиланням, наданим інструктором, та створіть свій акаунт у демонстраційному середовищі, яке надано. Переконайтеся, що ваша електронна адреса та пароль збережені в безпеці; вам знадобляться ці дані для входу для решти демонстраційних цілей у цьому курсі.

Ваш інструктор міг заздалегідь зібрати електронну адресу та надіслати посилання-запрошення перед цим завданням. Якщо вам сказано, перевірте свою електронну пошту.

Коли ви проходите курс без інструктора, створіть свій акаунт, використовуючи демонстраційне середовище BTCPay Server; перейдіть до

https://mainnet.demo.btcpayserver.org/login.

Цей акаунт слід використовувати лише для демонстраційних/навчальних цілей і ніколи для бізнесу.

### Підсумок навичок

У цьому розділі ви дізналися наступне:

- Як створити акаунт на хостинговому сервері через інтерфейс.
- Як адміністратор сервера може вручну додавати користувачів у налаштуваннях сервера.

### Оцінка знань

#### Концептуальний огляд KA

Наведіть причини, чому використання Демо-сервера є поганою ідеєю для виробничих цілей.

## Управління акаунтом(ами) користувача

<chapterId>b58ca6ee-b7fc-5e81-a6aa-c8ff212b4c55</chapterId>

### Управління акаунтом на BTCPay Server

Після того, як власник магазину створив свій акаунт, він може керувати ним у нижньому лівому куті інтерфейсу BTCPay Server. Під кнопкою Акаунт знаходяться кілька налаштувань вищого рівня.

- Темний/Світлий режим.
- Перемикач "Приховати конфіденційну інформацію".
- Управління акаунтом.

![зображення](assets/en/3.webp)

### Темний і світлий режими

Користувачі BTCPay Server можуть вибирати між версією інтерфейсу в темному або світлому режимі. Сторінки, що відображаються клієнтам, не зміняться. Вони використовують налаштування клієнта щодо темного або світлого режиму.

### Перемикач "Приховати конфіденційну інформацію"

Кнопка "Приховати конфіденційну інформацію" додає швидкий і простий рівень безпеки. Коли вам потрібно працювати з вашим BTCPay Server, але можливо, що хтось стоїть за вашою спиною у громадському місці, увімкніть "Приховати конфіденційну інформацію", і всі значення в BTCPay Server будуть приховані. Хтось може дивитися вам через плече, але більше не зможе бачити значення, з якими ви працюєте.

### Управління акаунтом

Після створення акаунта користувача, ось де можна керувати паролями, двофакторною аутентифікацією або API ключами.
### Керування обліковим записом - Обліковий запис

За бажанням оновіть свій обліковий запис новою адресою електронної пошти. Щоб переконатися, що ваша адреса електронної пошти вірна, BTCPay Server дозволяє вам відправити листа для підтвердження. Натисніть зберегти, якщо користувач встановив нову адресу електронної пошти та підтвердив, що підтвердження працює. Ім'я користувача залишається таким же, як і попередня адреса електронної пошти.

Користувач може вирішити видалити свій обліковий запис повністю. Це можна зробити, натиснувши кнопку видалення на вкладці Обліковий запис.

![зображення](assets/en/4.webp)

**!Увага!**

Після зміни адреси електронної пошти, ім'я користувача для облікового запису не зміниться. Попередня надана адреса електронної пошти залишиться ім'ям для входу.

### Керування обліковим записом - Пароль

Студент може захотіти змінити свій пароль. Він може зробити це, перейшовши на вкладку Пароль. Тут він повинен ввести свій старий пароль і може змінити його на новий.

![зображення](assets/en/5.webp)

### Двофакторна аутентифікація (2fa)

Щоб обмежити наслідки викрадення пароля, ви можете використовувати двофакторну аутентифікацію (2fa), відносно новий метод безпеки. Ви можете активувати двофакторну аутентифікацію через керування обліковим записом та вкладку для двофакторної аутентифікації. Ви повинні виконати другий крок після входу з вашим ім'ям користувача та паролем.

BTCPay Server дозволяє два способи включення 2FA, App-based 2FA (Authy, Google, Microsoft authenticators) або через Секуріті пристрої (FIDO2 або LNURL Auth).

### Двофакторна аутентифікація - На основі додатку

Залежно від Операційної Системи вашого мобільного телефону (Android або iOS), користувачі можуть вибрати між наступними додатками;

1. Завантажте двофакторний аутентифікатор;
   - Authy для [Android](https://play.google.com/store/apps/details?id=com.authy.authy) або [iOS](https://apps.apple.com/us/app/authy/id494168017)
   - Microsoft Authenticator для [Android](https://play.google.com/store/apps/details?id=com.azure.authenticator) або [iOS](https://apps.apple.com/us/app/microsoft-authenticator/id983156458)
   - Google Authenticator для [Android](https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=e%C2%80) або [iOS](https://apps.apple.com/us/app/google-authenticator/id388497605)
2. Після завантаження та встановлення додатку Authenticator.
   - Скануйте QR-код, наданий BTCPay Server
   - Або введіть згенерований ключ від BTCPay Server вручну у ваш додаток Authenticator.
3. Додаток Authenticator надасть вам унікальний код. Введіть унікальний код у BTCPay Server для підтвердження налаштувань, і натисніть підтвердити, щоб завершити процес.

![зображення](assets/en/6.webp)

### Підсумок навичок

У цьому розділі ви дізналися наступне:

- Варіанти керування обліковим записом та різні способи керування обліковим записом на екземплярі BTCPay Server.
- Як налаштувати app-based 2FA.

### Оцінка знань

#### Концептуальний огляд KA

Опишіть, як app-based 2FA допомагає захистити ваш обліковий запис

## Створення нового магазину

<chapterId>463b3634-b49f-5512-a711-3b2e096fc2e0</chapterId>

### Майстер створення вашого магазину
Коли новий користувач увійде в BTCPay Server, середовище буде порожнім і потребуватиме створення першого магазину. Майстер введення в BTCPay Server дасть користувачу можливість "Створити ваш магазин" (1). Магазин можна розглядати як Дім для ваших потреб у Bitcoin. Новий вузол BTCPay Server почне з Синхронізації блокчейна Bitcoin (2). Залежно від інфраструктури, на якій ви запускаєте BTCPay Server, це може зайняти від кількох годин до кількох днів. Поточна версія екземпляра відображається в нижньому правому кутку інтерфейсу користувача BTCPay Server. Це корисно для посилання при вирішенні проблем.
![зображення](assets/en/7.webp)

### Майстер створення магазину

Слідуючи за цим курсом, ви побачите трохи інший екран, ніж на попередній сторінці. Оскільки ваш інструктор підготував демонстраційне середовище, блокчейн Bitcoin був синхронізований заздалегідь, і тому ви не побачите статус синхронізації вузлів.

Користувач може вирішити видалити свій цілковитий обліковий запис. Це можна зробити, натиснувши кнопку видалення на вкладці облікового запису.

![зображення](assets/en/8.webp)

**!Примітка!**

Обліковий запис BTCPay Server може створювати необмежену кількість магазинів. Кожен магазин - це гаманець або "дім".

### Приклад

Почніть з натискання на "Створити ваш магазин".

![зображення](assets/en/9.webp)

Це створить ваш перший Дім та панель керування для використання BTCPay сервера.

(1) Після натискання "Створити ваш магазин", BTCPay Server вимагатиме від вас назвати магазин; це може бути будь-що корисне для вас.

![зображення](assets/en/10.webp)

(2) Далі потрібно встановити валюту магазину за замовчуванням, будь то фіатна валюта або номінована в стандарті Bitcoin / Sats. Для демонстраційного середовища ми встановимо її як USD.

![зображення](assets/en/11.webp)

(3) Як останній параметр налаштування магазину, BTCPay Server вимагає від вас встановити "Переважне джерело ціни" для порівняння ціни Bitcoin з поточною фіатною ціною, щоб ваш магазин відображав правильний обмінний курс між Bitcoin і валютою магазину. Ми залишимося зі стандартним у демонстраційному прикладі та встановимо це на біржу Kraken. BTCPay Server використовує API Kraken для перевірки обмінних курсів.

![зображення](assets/en/12.webp)

(4) Тепер, коли ці параметри магазину були встановлені, натисніть на кнопку Створити, і BTCPay Server створить панель керування вашого першого магазину, де майстер продовжить роботу.

![зображення](assets/en/13.webp)

Вітаємо, ви створили свій перший магазин, і це завершує це завдання.

![зображення](assets/en/14.webp)

### Підсумок навичок

У цьому розділі ви дізналися:

- Створення магазину та налаштування валюти за замовчуванням разом з перевагами джерела ціни.
- Кожен "Магазин" - це новий дім, відокремлений від інших магазинів на цій інсталяції BTCPay Server.

# Введення в захист ключів Bitcoin

<partId>25da22d8-fd37-51c5-af2a-58b9f3b046b2</partId>

## Розуміння генерації ключів Bitcoin

<chapterId>d162735b-847b-578e-83b8-a044ab703ec5</chapterId>

### Що включено в генерацію ключів bitcoin?

Коли створюються гаманці Bitcoin, вони створюють так зване "насіння". У останньому завданні ви створили "насіння", Серія слів, що були згенеровані до цього, також відомі як мнемонічні фрази. Насіння використовується для похідних індивідуальних ключів Bitcoin і використовується для відправлення або отримання Bitcoin. Фрази насіння ніколи не слід ділитися з третіми сторонами або ненадійними учасниками.
Генерація seed виконується відповідно до галузевого стандарту, відомого як "Ієрархічно-Детермінована" (HD) структура.
![зображення](assets/en/15.webp)

### Адреси

BTCPay Server створений для генерації нової Адреси. Це зменшує проблему повторного використання публічного ключа або Адреси. Використання того самого Публічного ключа значно спрощує відстеження вашої повної історії платежів. Сприйняття ключів як купонів для одноразового використання значно покращить вашу конфіденційність. Ми також використовуємо Біткойн Адреси, не плутайте їх з Публічними ключами.

Адреса отримується з Публічного ключа через "хешувальний алгоритм". Проте, більшість гаманців і транзакцій показуватимуть Адреси, а не ці публічні ключі. Адреси, загалом, коротші за публічні ключі і зазвичай починаються з `1`, `3`, або `bc1`, тоді як публічні ключі починаються з `02`, `03`, або `04`.

- Адреси, що починаються з `1.....`, досі дуже поширені. Як зазначено в розділі Створення нового магазину, це старі адреси. Цей тип адреси призначений для транзакцій P2PKH. P2Pkh використовує кодування Base58, що робить адресу чутливою до регістру. Її структура базується на публічному ключі з додаванням однієї цифри як ідентифікатора.

- Адреси, що починаються з `bc1...`, поступово стають дуже поширеними. Вони відомі як (рідні) SegWit Адреси. Вони пропонують кращу структуру комісій, ніж інші згадані Адреси. Рідні SegWit Адреси використовують кодування Bech32 і дозволяють лише малі літери.

- Адреси, що починаються з `3...`, зазвичай все ще використовуються біржами для депозитних адрес. Ці адреси згадуються в розділі Створення нового магазину, як обгорнуті або вкладені SegWit адреси. Однак, вони також можуть функціонувати як "Адреса Мультіпідпису". Коли використовуються як SegWit адреса, знову ж таки, є економія на комісіях за транзакції, хоча менша, ніж у Native SegWit. Адреси P2SH використовують кодування Base58. Це робить їх чутливими до регістру, як і старі адреси.

- Адреси, що починаються з `2...`, є адресами Testnet. Вони призначені для отримання біткойнів в тестовій мережі (tBTC). Ви ніколи не повинні плутати це і відправляти біткойни на ці адреси. Для розробницьких цілей ви можете створити гаманець для тестової мережі. В інтернеті є кілька кранів для отримання біткойнів тестової мережі. Ніколи не купуйте біткойни тестової мережі. Біткойни тестової мережі видобуваються. Це може бути причиною для розробника використовувати Regtest замість цього. Це середовище для ігор для розробників, в якому відсутні деякі компоненти мережі. Однак, біткойни, для розробницьких цілей, дуже корисні.

### Публічні Ключі

Публічні ключі сьогодні використовуються менше на практиці. З часом користувачі біткойнів замінили їх на Адреси. Вони все ще існують і іноді використовуються. Публічні ключі, загалом, набагато довші, ніж адреси. Як і з адресами, вони починаються з певного ідентифікатора.

- Перш за все, `02...` і `03...` є дуже стандартними ідентифікаторами публічних ключів, закодованими у форматі SEC. Їх можна обробити і перетворити на адреси для отримання, використовувати для створення адрес мультіпідпису або для перевірки підпису. Транзакції біткойнів на початковому етапі використовували публічні ключі як частину транзакцій P2PK.

- HD гаманці, однак, використовують іншу структуру. `xpub...`, `ypub...` або `zpub...` називаються розширеними публічними ключами, або xpubs. Ці ключі використовуються для похідних багатьох публічних ключів, оскільки вони є частиною HD гаманця. Оскільки ваш xpub містить записи вашої повної історії, тобто минулих і майбутніх транзакцій, ніколи не діліться ними з ненадійними сторонами.

### Підсумок Навичок

У цьому розділі ви дізналися наступне:
- Різниця між адресами та типами даних публічних ключів та переваги використання адрес над публічними ключами.
### Оцінка знань

Опишіть перевагу використання нових адрес для кожної транзакції порівняно з повторним використанням адрес або методами публічних ключів

## Захист ключів за допомогою апаратного гаманця

<chapterId>c54a6d61-5a43-5fdb-93ae-c6750de9c612</chapterId>

### Зберігання ключів Bitcoin

Після генерації фрази-насіння, список з 12 - 24 слів, створений у цій книзі, потребує належного резервного копіювання та безпеки, оскільки ці слова є єдиним способом відновлення доступу до гаманця. Структура HD-гаманців та спосіб їх генерації адрес детерміновано за допомогою цієї однієї фрази-насіння, всі ваші створені адреси будуть збережені за допомогою цього одного списку мнемонічних слів, які представляють вашу фразу-насіння або фразу для відновлення.

Зберігайте вашу фразу для відновлення в безпеці. Якщо до неї отримає доступ хтось, зокрема зі злим наміром, вони можуть перемістити ваші кошти. Збереження насіння в безпеці та пам'ятання його є взаємопов'язаними. Існує кілька методів зберігання приватних ключів Bitcoin, кожен з яких має переваги та недоліки, будь то в безпеці, приватності, зручності або фізичних засобах. Через важливість приватних ключів, користувачі Bitcoin схильні зберігати та надійно зберігати ці ключі в "самоопіці" замість використання "опікунських" послуг, таких як банки. Залежно від користувача, він має використовувати або рішення для холодного зберігання, або гарячий гаманець.

### Гаряче та холодне зберігання ключів bitcoin

Зазвичай, bitcoin-гаманці поділяються на Гарячі Гаманці або Холодні Гаманці. Більшість компромісів полягає в зручності, легкості використання та ризиках безпеки. Кожен з цих методів також може бути використаний у рішенні опікунського типу. Однак, компроміси тут здебільшого базуються на безпеці та приватності та виходять за рамки цього курсу.

### Гарячий гаманець

Гарячі гаманці є найзручнішим способом взаємодії з Bitcoin через мобільні, веб або настільні програми. Гаманець завжди підключений до інтернету, що дозволяє користувачам відправляти або отримувати Bitcoin. Однак, це також є його слабкістю, оскільки гаманець, будучи завжди онлайн, тепер більш вразливий до атак хакерів або шкідливого програмного забезпечення на вашому пристрої. У BTCPay Server, гарячі гаманці зберігають приватні ключі на інстанції. Кожен, хто отримає доступ до вашого магазину BTCPay Server, може вкрасти кошти з цієї адреси, якщо має злий намір. Коли BTCPay Server працює в орендованому середовищі, ви завжди повинні враховувати це у вашому профілі безпеки і, бажано, не використовувати Гарячий-гаманець у такому випадку. Коли BTCPay Server встановлено на власному обладнанні, захищеному і довіреному вами, профіль ризику значно знижується, але ніколи не зникає!

### Холодний гаманець

Особи переводять свої Bitcoin у холодний гаманець, оскільки він може ізолювати приватні ключі від інтернету. Видалення інтернет-з'єднання з рівняння знижує ризик шкідливого програмного забезпечення, шпигунських програм та заміни SIM-карт. Вважається, що холодне зберігання є кращим за гаряче зберігання з точки зору безпеки та автономії, доки вживаються належні заходи, щоб уникнути втрати приватних ключів Bitcoin. Холодне зберігання найбільш підходить для великих сум Bitcoin, які не призначені для частого витрачання через складність налаштування гаманця.

Існують різні методи зберігання ключів Bitcoin у холодному зберіганні, від паперових гаманців до мозкових гаманців, апаратних гаманців або, спочатку, файлу гаманця. Більшість гаманців використовують BIP 39 для генерації фрази-насіння. Однак, у програмному забезпеченні Bitcoin Core ще не досягнуто консенсусу щодо його використання. Програмне забезпечення Bitcoin Core все ще буде генерувати файл Wallet.dat, який вам потрібно зберігати в безпечному офлайн місці.

### Підсумок навичок

У цьому розділі ви дізналися:

- Різницю між гарячими та холодними гаманцями з точки зору функціональності та їх компромісів.

### Оцінка знань Концептуальний огляд
- Що таке гаманець?
- У чому різниця між гарячими та холодними гаманцями?

- Опишіть, що мається на увазі під "генерацією гаманця"?

## Використання ваших Bitcoin ключів

<chapterId>bff488de-5052-56e6-b696-97e896f762ae</chapterId>

### Гаманець BTCPay Server

BTCPay Server складається з наступних стандартних функцій гаманця:

- Транзакції
- Відправлення
- Отримання
- Пересканування
- Пулові платежі
- Виплати
- PSBT
- Загальні налаштування

### Транзакції

Адміністратори можуть бачити вхідні та вихідні транзакції для гаманця на ланцюжку, пов'язаного з цим конкретним магазином, у вигляді перегляду транзакцій. Кожна транзакція має розрізнення між отриманими та відправленими. Отримані будуть зеленими, а вихідні транзакції будуть червоними. У перегляді транзакцій BTCPay Server адміністратори також побачать набір стандартних міток.

| Тип транзакції  | Опис                                                  |
| --------------- | ----------------------------------------------------- |
| App             | Платіж було отримано через створений додатком рахунок |
| invoice         | Платіж було отримано через рахунок                    |
| payjoin         | Не оплачено, таймер рахунку ще не закінчився          |
| payjoin-exposed | UTXO було викрито через пропозицію payjoin у рахунку  |
| payment-request | Платіж було отримано через запит на платіж            |
| payout          | Платіж було відправлено через виплату або повернення  |

### Як відправити

Функція відправлення сервера BTCPay відправляє транзакції з вашого гаманця BTCPay Server на ланцюжку. BTCPay Server дозволяє кількома способами підписати ваші транзакції для витрати коштів. Транзакцію можна підписати за допомогою:

- Апаратний гаманець
- Гаманці, що підтримують PSBT
- HD приватний ключ або мнемонічні сіди.
- Гарячий гаманець

#### Апаратний гаманець

BTCPay Server має вбудовану підтримку апаратних гаманців, що дозволяє вам використовувати ваш апаратний гаманець з BTCPay Vault без витоку інформації до сторонніх додатків або серверів. Інтеграція апаратного гаманця в BTCPay Server дозволяє вам імпортувати ваш апаратний гаманець і витрачати вхідні кошти з простим підтвердженням на вашому пристрої. Ваші приватні ключі ніколи не залишають пристрій, і всі кошти перевіряються проти вашого повного вузла, тому немає витоку даних.

#### Підписання гаманцем, що підтримує PSBT

PSBT (Partially Signed Bitcoin Transactions - Частково підписані Bitcoin транзакції) - це формат обміну для Bitcoin транзакцій, які ще потребують повного підпису. PSBT підтримується в BTCPay Server і може бути підписаний з сумісними апаратними та програмними гаманцями.

Конструкція повністю підписаної Bitcoin транзакції проходить наступні кроки:

- PSBT конструюється з конкретними входами та виходами, але без підписів
- Експортований PSBT може бути імпортований гаманцем, що підтримує цей формат
- Дані транзакції можуть бути перевірені та підписані за допомогою гаманця
- Підписаний файл PSBT експортується з гаманця та імпортується в BTCPay Server
- BTCPay Server створює остаточну Bitcoin транзакцію
- Ви перевіряєте результат і транслюєте його в мережу

#### Підписання HD приватним ключем або мнемонічним сідом

Якщо ви створили гаманець до використання BTCPay Server, ви можете витратити кошти, ввівши ваш приватний ключ у відповідне поле. Встановіть відповідний "AccountKeyPath" у налаштуваннях гаманця; інакше ви не зможете витратити.

#### Підписання гарячим гаманцем

Якщо ви створили новий гаманець під час налаштування вашого магазину та активували його як гарячий гаманець, він автоматично використовуватиме сід, збережений на сервері, для підпису.

### RBF (Replace-By-Fee)
Replace-By-Fee (RBF) - це функція протоколу Bitcoin, яка дозволяє замінити раніше трансльовану транзакцію (поки що не підтверджену). Це дозволяє рандомізувати відбиток транзакції вашого гаманця або замінити його на транзакцію з вищою комісією, щоб перемістити транзакцію вище в черзі на підтвердження (пріоритет майнінгу). Це ефективно замінить оригінальну транзакцію, оскільки транзакція з вищою комісією буде мати пріоритет, і після підтвердження вона анулює оригінальну (без подвійної витрати).
Натисніть кнопку "Розширені налаштування", щоб переглянути опції RBF;

![зображення](assets/en/16.webp)

- Рандомізація для більшої конфіденційності, дозволяє автоматично замінювати транзакцію для рандомізації відбитка транзакції.
- Так, Позначити транзакцію для RBF і бути заміненою явно (Не замінюється за замовчуванням, тільки за введенням)
- Ні, Не дозволяти заміну транзакції.

### Вибір монет

Вибір монет - це передова функція, що підвищує конфіденційність, яка дозволяє вам вибирати монети, які ви хочете витратити при створенні транзакції. Наприклад, оплата монетами, які щойно отримані з міксу конджойн.

Вибір монет працює нативно з функцією міток гаманця. Це дозволяє маркувати вхідні кошти для плавнішого управління UTXO та витрат.

BTCPay Server також підтримує BIP-329 для управління мітками. BIP-329 дозволяє накладати мітки на; якщо ви переказуєте з гаманця, який підтримує цей конкретний BIP і встановлюєте мітки, BTCPay Server впізнає їх і імпортує. При міграції серверів цю інформацію також можна експортувати та імпортувати в нове середовище.

### Як отримати

Коли ви натискаєте на кнопку отримання в BTCPay Server, генерується не використана адреса, яку можна використовувати для отримання платежів. Адміністратори також можуть генерувати нову адресу, створюючи новий “Рахунок”.

BTCPay Server завжди просить генерувати наступну доступну адресу, щоб уникнути повторного використання адреси. Після натискання “Генерувати наступну доступну BTC адресу”, BTCPay Server створив нову адресу та QR. Також ви можете безпосередньо встановити Мітку для адреси для кращого управління вашими адресами.

![зображення](assets/en/17.webp)

![зображення](assets/en/18.webp)

#### Повторне сканування

Функція повторного сканування залежить від “Scantxoutset” Bitcoin Core 0.17.0 для сканування поточного стану блокчейна (називається UTXO Set) на наявність монет, що належать до налаштованої схеми похідних. Повторне сканування гаманця вирішує дві проблеми, з якими стикаються користувачі BTCPay Server.

1. Проблема ліміту прогалин - Більшість сторонніх гаманців є легкими гаманцями, які ділять вузол між багатьма користувачами. Легкі та повні вузлові гаманці обмежують кількість (зазвичай 20) адрес без балансу, які вони відстежують у блокчейні, щоб запобігти проблемам з продуктивністю. BTCPay Server генерує нову адресу для кожного рахунку. З урахуванням вищесказаного, після того, як BTCPay Server генерує 20 послідовних неоплачених рахунків, зовнішній гаманець припиняє отримувати транзакції, вважаючи, що нових транзакцій не відбулося. Ваш зовнішній гаманець не покаже їх, як тільки рахунки будуть оплачені на 21-му, 22-му тощо. З іншого боку, внутрішній гаманець BTCPay Server відстежує будь-яку адресу, яку він генерує, разом з набагато більшим лімітом прогалин. Він не покладається на сторонніх і завжди може показувати правильний баланс.
2. Рішення проблеми з лімітом гепів - Якщо ваш [зовнішній/існуючий гаманець](https://docs.btcpayserver.org/WalletSetup/#use-an-existing-wallet) дозволяє налаштування ліміту гепів, легке вирішення полягає в його збільшенні. Однак, більшість гаманців цього не дозволяють. Єдині гаманці, які ми знаємо, що дозволяють налаштування ліміту гепів - це Electrum, Wasabi та Sparrow Wallet. На жаль, ви, ймовірно, зіткнетеся з проблемою з багатьма іншими гаманцями. Для найкращого досвіду користувача та конфіденційності, розгляньте можливість відмови від зовнішніх гаманців та використання внутрішнього гаманця BTCPay Server.
#### BTCPay Server використовує “mempoolfullrbf=1”

BTCPay Server використовує “mempoolfullrbf=1”; ми додали це як значення за замовчуванням до вашого налаштування BTCPay Server. Однак, ми також зробили це фрагментом, який ви можете вимкнути самостійно. Без “mempoolfullrbf=1”, якщо клієнт здійснює подвійну витрату платежу з транзакцією, яка не сигналізує про RBF, торговець дізнається про це лише після підтвердження.

Адміністратор може захотіти відмовитися від цього налаштування. За допомогою наступного рядка ви можете змінити налаштоване за замовчуванням значення.

```
BTCPAYGEN_EXCLUDE_FRAGMENTS="$BTCPAYGEN_EXCLUDE_FRAGMENTS;opt-mempoolfullrbf"
. btcpay-setup.sh -i**
```

### Налаштування гаманця BTCPay Server

Налаштування гаманця в BTCPay Server надають чіткий та швидкий огляд загальних налаштувань вашого гаманця. Всі ці налаштування заповнені заздалегідь, якщо гаманець був створений за допомогою BTCPay Server.

![image](assets/en/19.webp)

Налаштування гаманця в BTCPay Server надають чіткий та швидкий огляд загальних налаштувань вашого гаманця. Налаштування гаманця BTCPay Server починаються зі статусу гаманця. Чи є це гаманець тільки для перегляду або гарячий гаманець? Залежно від типу гаманця, дії можуть варіюватися від повторного сканування гаманця для виявлення втрачених транзакцій, видалення старих транзакцій з історії, реєстрації гаманця для платіжних посилань, або заміни та видалення поточного гаманця, прикріпленого до магазину. У налаштуваннях гаманця BTCPay Server адміністратори можуть встановити мітку для гаманця для кращого управління гаманцем. Тут адміністратор також зможе побачити Схему похідності, ключ облікового запису (xpub), Відбиток та Шлях ключа. Платежі в налаштуваннях гаманця мають лише 2 основні налаштування. Платіж вважається недійсним, якщо транзакція не підтверджується протягом (встановлених хвилин) після закінчення терміну дії рахунку-фактури. Вважати рахунок-фактуру підтвердженим, коли транзакція платежу має X кількість підтверджень. Адміністратори також можуть встановити перемикач для показу рекомендованих комісій при платежах або встановити ручний цільовий показник підтвердження в кількості блоків.

![image](assets/en/20.webp)

**!Примітка!**

Якщо ви проходите цей курс самостійно, створення цього облікового запису може бути чимось, що ви могли б зробити на сторонньому хості, тому ми знову зазначаємо, що ніколи не використовуйте їх як виробничі середовища, а лише для навчальних цілей.

### Приклад

#### Налаштування Bitcoin гаманця в BTCPay Server

BTCPay Server дозволяє два способи налаштування гаманця. Один спосіб - імпортувати вже існуючий Bitcoin гаманець. Імпорт можна здійснити, підключивши апаратний гаманець, імпортувавши файл гаманця, ввівши Розширений публічний ключ, відсканувавши QR-код гаманця, або найменш бажаним способом, ввівши вручну раніше створене Сід-відновлення гаманця. У BTCPay Server також можливо створити новий гаманець. Є два можливі способи налаштування BTCPay Server при генерації нового гаманця.
Опція гарячого гаманця в BTCPay Server дозволяє використовувати такі функції, як 'Payjoin' або 'Liquid'. Однак, існує недолік: відновлювальна фраза, створена для цього гаманця, буде збережена на сервері, де будь-хто, хто має адміністративний контроль, може отримати доступ до відновлювальної фрази. Оскільки ваш приватний ключ походить від вашої відновлювальної фрази, зловмисник може отримати доступ до ваших поточних та майбутніх коштів!
Щоб зменшити такий ризик в BTCPay Server, адміністратор може встановити в Налаштуваннях сервера > Політики > "Дозволити неадмінам створювати гарячі гаманці для своїх магазинів" на "ні", як це встановлено за замовчуванням. Для підвищення безпеки цих гарячих гаманців адміністратор сервера повинен увімкнути двофакторну аутентифікацію для акаунтів, яким дозволено мати гарячі гаманці. Зберігання приватних ключів на публічному сервері є небезпечним і супроводжується ризиками. Деякі з них схожі на ризики Lightning Network (дивіться наступний розділ для ризиків Lightning Network).

Другий варіант, який пропонує BTCPay Server для створення нового гаманця, полягає у створенні гаманця лише для перегляду. BTCPay Server згенерує ваші приватні ключі один раз. Після того, як користувач підтвердить, що він записав свою Фразу відновлення, BTCPay Server видалить приватні ключі з сервера. В результаті ваш магазин тепер має гаманець лише для перегляду, підключений до нього. Щоб витратити отримані кошти на ваш гаманець лише для перегляду, дивіться розділ Як відправити, використовуючи BTCPay Server Vault, PSBT (частково підписана біткойн-транзакція), або, що менш рекомендовано, вручну надаючи вашу фразу відновлення.

Ви створили новий 'Магазин' у останній частині. Майстер встановлення продовжить, запитуючи "Налаштувати гаманець" або "Налаштувати вузол Lightning". У цьому прикладі ви слідуватимете процесу майстра "Налаштувати гаманець" (1).

![зображення](assets/en/21.webp)

Після натискання "Налаштувати гаманець", майстер продовжить, запитуючи, як ви хочете продовжити; BTCPay Server тепер пропонує опцію підключення існуючого біткойн-гаманця до вашого нового магазину. Якщо у вас немає гаманця, BTCPay Server пропонує створити новий. Цей приклад слідуватиме крокам для "створення нового гаманця" (2). Слідуйте крокам, щоб дізнатися, як "Підключити існуючий гаманець" (1).

![зображення](assets/en/22.webp)

**!Примітка!**

Якщо ви проходите цей курс у класі, поточний приклад і згенерована нами фраза призначені лише для навчальних цілей. На цих адресах ніколи не повинно бути жодних значних сум, крім необхідних протягом вправ.

(1) Продовжуйте майстер "Новий гаманець", натиснувши на кнопку "Створити новий гаманець".

![зображення](assets/en/23.webp)

(2) Після натискання “Створити новий гаманець”, наступне вікно майстра запропонує опції “Гарячий гаманець” та “Гаманець лише для перегляду”. Якщо ви слідуєте разом з інструктором, ваше середовище - спільна Демо, і ви можете створити лише гаманець лише для перегляду. Зверніть увагу на різницю між обома нижченаведеними фігурами. Оскільки ви перебуваєте в демо-середовищі разом з інструктором, створіть "Гаманець лише для перегляду" і продовжуйте з майстром "Новий гаманець".

![зображення](assets/en/24.webp)

![зображення](assets/en/25.webp)

(3) Продовжуючи майстер нового гаманця, ви зараз у розділі Створення BTC гаманця лише для перегляду. Тут ми можемо встановити тип адреси гаманця. BTCPay Server дозволяє вам вибрати бажаний тип адреси; на момент написання цього курсу все ще рекомендується використовувати адреси bech32. Дізнайтеся більше детально про адреси в першому розділі цієї частини.

- Segwit (bech32)
- Native SegWit - це адреси, які починаються з `bc1q`.
  - Приклад: `bc1qXXXXXXXXXXXXXXXXXXXXXX`
- Legacy
  - Адреси Legacy починаються з цифри `1`.
  - Приклад: `15e15hXXXXXXXXXXXXXXXXXXXX`
- Taproot (Для досвідчених користувачів)
  - Адреси Taproot починаються з `bc1p`.
  - Приклад: `bc1pXXXXXXXXXXXXXXXXXXXXXXXX`
- Segwit wrapped
  - Адреси Segwit wrapped починаються з `3`.
  - Приклад: `37BBXXXXXXXXXXXXXXX`

Виберіть segwit (рекомендовано) як бажаний тип адреси вашого гаманця.

![зображення](assets/en/26.webp)

(4) При налаштуванні параметрів гаманця, BTCPay Server дозволяє користувачам встановити необов'язковий пароль через BIP39, обов'язково підтвердіть свій пароль.

![зображення](assets/en/27.webp)

(5) Після налаштування типу адреси гаманця та можливого встановлення деяких додаткових опцій, натисніть Створити, і BTCPay Server згенерує ваш новий гаманець. Зверніть увагу, що це останній крок перед генерацією вашої фрази Seed. Переконайтеся, що ви робите це в середовищі, де ніхто не може вкрасти фразу Seed, дивлячись на ваш екран.

![зображення](assets/en/28.webp)

(6) На наступному екрані майстра, BTCPay Server показує вам фразу відновлення Seed для вашого щойно створеного гаманця; це ключі для відновлення вашого гаманця та підписання транзакцій. BTCPay Server генерує фразу Seed з 12 слів. Ці слова будуть видалені з сервера після цього етапу налаштування. Цей гаманець є специфічно гаманцем лише для перегляду. Рекомендується не зберігати цю фразу Seed в цифровому вигляді або у вигляді фотографічного зображення. Користувачі можуть перейти далі в майстрі лише якщо вони активно підтверджують, що записали свою фразу Seed.

![зображення](assets/en/29.webp)

(7) Після натискання Готово та забезпечення безпеки щойно створеної фрази Seed Bitcoin, BTCPay Server оновить ваш магазин з прикріпленим новим гаманцем і буде готовий приймати платежі. У користувацькому інтерфейсі, в лівому навігаційному меню, зверніть увагу, як Bitcoin тепер виділено та активовано під розділом Гаманець.

![зображення](assets/en/30.webp)

### Приклад: Запис фрази Seed

Це дуже особливий і безпечний момент для використання Bitcoin. Як зазначалося раніше, лише ви повинні мати доступ до або знання про вашу фразу Seed. Слідуючи за інструктором та в класі, згенерована фраза повинна використовуватися лише в цьому курсі. Занадто багато факторів, таких як цікаві погляди однокласників, незахищені системи та багато інших, роблять ці ключі лише освітніми та ненадійними. Однак, згенеровані ключі все ж повинні зберігатися для прикладів курсу.

Перший метод, який ми використовуватимемо в даній ситуації, також найменш безпечний, - це запис фрази Seed у правильному порядку. Картка фрази Seed є в навчальних матеріалах, наданих студенту або знайдена на GitHub BTCPay Server. Ми використовуватимемо цю картку для запису слів, згенерованих на попередньому етапі. Переконайтеся, що ви записали їх у правильному порядку. Після того, як ви їх записали, перевірте їх проти того, що було надано програмним забезпеченням, щоб переконатися, що ви записали їх у правильному порядку. Після того, як ви записали їх, натисніть прапорець, заявляючи, що ви правильно записали свою фразу Seed.

### Приклад: Зберігання фрази Seed на апаратному гаманці

У цьому курсі ми торкаємося зберігання фрази Seed на апаратному гаманці. Слідування цьому курсу за інструктором може не завжди включати такий пристрій. У навчальних матеріалах курсу написаний список апаратних гаманців, які підходили б для цього вправи.
Ми використаємо BTCPay Server Vault та апаратний гаманець Blockstream Jade в цьому прикладі.
Ви також можете слідувати відеоінструкції для довідки про підключення апаратного гаманця.
![BTCPay Server - Як підключити ваш апаратний гаманець до BTCPay Vault.](https://youtu.be/s4qbGxef43A)

Завантажте BTCPay Server Vault: https://github.com/btcpayserver/BTCPayServer.Vault/releases

Переконайтеся, що ви завантажили правильні файли для вашої системи. Користувачі Windows повинні завантажити пакет [BTCPayServerVault-2.0.5-setup.exe](https://github.com/btcpayserver/BTCPayServer.Vault/releases/download/Vault%2Fv2.0.5/BTCPayServerVault-2.0.5-setup.exe), користувачі Mac - [BTCPayServerVault-osx-x64-2.0.5.dmg](https://github.com/btcpayserver/BTCPayServer.Vault/releases/download/Vault%2Fv2.0.5/BTCPayServerVault-osx-x64-2.0.5.dmg), а користувачі Linux повинні завантажити [BTCPayServerVault-Linux-2.0.5.tar.gz](https://github.com/btcpayserver/BTCPayServer.Vault/releases/download/Vault%2Fv2.0.5/BTCPayServerVault-Linux-2.0.5.tar.gz)

Після встановлення BTCPay Server Vault запустіть програму, натиснувши на іконку на вашому Робочому столі. Коли BTCPay Server Vault встановлено належним чином і запущено вперше, він запитає дозвіл на використання з веб-додатками. Він запропонує надати доступ до конкретного BTCPay Server, з яким ви працюєте. Прийміть ці умови. BTCPay Server Vault тепер почне пошук апаратного пристрою. Як тільки пристрій буде знайдено, BTCPay Server визнає, що Vault працює і отримав дані вашого пристрою.

**!Примітка!**

Не передавайте ваші SSH ключі або адміністративний доступ до сервера нікому, крім адміністраторів, коли використовуєте гарячий гаманець. Кожен, хто має доступ до цих облікових записів, матиме доступ до коштів у Гарячому Гаманці.

### Підсумок навичок

У цьому розділі ви дізналися наступне:

- Перегляд транзакцій у гаманці Bitcoin та їх різні категоризації.
- Різні опції доступні при відправленні з гаманця Bitcoin, від апаратних до гарячих гаманців.
- Проблема ліміту проміжків, з якою стикаються при використанні більшості гаманців, та як це виправити.
- Як створити новий гаманець Bitcoin у BTCPay Server, включаючи зберігання ключів у апаратному гаманці та резервне копіювання фрази відновлення.

У цій цілі ви дізналися, як створити новий гаманець Bitcoin у BTCPay Server. Ми ще не говорили про те, як забезпечити безпеку або використовувати ці ключі. У короткому огляді цієї цілі ви дізналися, як налаштувати перший магазин. Ви дізналися, як створити фразу відновлення Bitcoin.

### Практичний огляд оцінки знань

Опишіть метод генерації ключів та схему їх забезпечення безпеки, разом з компромісами/ризиками цієї схеми безпеки.

## BTCPay Server Lightning Wallet

<chapterId>1bbece7e-0197-57e6-a93a-561cf384d946</chapterId>

Коли адміністратор сервера налаштовує новий екземпляр BTCPay Server, він може налаштувати реалізацію мережі Lightning, LND, Core Lightning або Eclair; дивіться розділ Налаштування BTCPay Server для більш детальних інструкцій з встановлення.
Якщо ви слідуєте інструкціям у класі, підключення Lightning вузла до вашого BTCPay Server відбувається через Користувацький вузол. Користувач, який не є адміністратором сервера на BTCPay Server, за замовчуванням не зможе використовувати внутрішній Lightning вузол. Це зроблено для захисту власника сервера від втрати його коштів. Адміністратори серверів можуть встановити Плагін, щоб надати доступ до їхнього Lightning вузла через LNBank; це виходить за рамки цієї книги; детальніше про LNBank читайте на офіційній сторінці плагіна.

### Підключення внутрішнього вузла (адміністратор сервера)

Адміністратор сервера може використовувати внутрішній Lightning вузол BTCPay Server. Незалежно від реалізації Lightning, підключення до внутрішнього Lightning вузла відбувається однаково.

Перейдіть до раніше налаштованого магазину і натисніть на "Lightning" гаманець у лівому меню. BTCPay Server пропонує два варіанти налаштування: використання Внутрішнього вузла (тільки для адміністратора сервера за замовчуванням) або користувацького вузла (зовнішнє підключення). Адміністратори серверів можуть натиснути на опцію "Використовувати внутрішній вузол". Додаткові налаштування не потрібні. Натисніть кнопку "зберегти" і зверніть увагу на повідомлення, що говорить, "BTC Lightning вузол оновлено". Тепер магазин успішно отримав можливості мережі Lightning.

### Підключення зовнішнього вузла (власник магазину/сервера)

Оскільки власникам магазинів за замовчуванням не дозволено використовувати Lightning вузол адміністратора сервера. Підключення має бути здійснене до зовнішнього вузла, будь то вузол, який належить власнику магазину до налаштування BTCPay Server, плагін LNBank, якщо його надав адміністратор сервера, або рішення опіки, як Alby.

Перейдіть до раніше налаштованого магазину і натисніть "Lightning" під гаманцями у лівому меню. Оскільки власникам магазинів за замовчуванням не дозволено використовувати внутрішній вузол, ця опція буде неактивною. Використання користувацького вузла є єдиною опцією, яка за замовчуванням доступна для власників магазинів.

BTCPay Server потребує інформацію для підключення; попередньо створений (або рішення опіки) надасть цю інформацію специфічно для реалізації Lightning. У BTCPay Server власники магазинів можуть використовувати наступні підключення;

- C-lightning через TCP або Unix domain socket connection.
- Lightning Charge через HTTPS
- Eclair через HTTPS
- LND через REST proxy
- LNDhub через REST API

![зображення](assets/en/31.webp)

Натисніть "тестувати підключення", щоб переконатися, що ви правильно ввели деталі підключення. Після підтвердження успішного підключення натисніть зберегти, і BTCPay Server покаже, що магазин оновлено з Lightning вузлом.

### Управління внутрішнім Lightning вузлом LND (Адміністратор сервера)

Після підключення внутрішнього Lightning вузла адміністратори серверів помітять нові плитки на Панелі керування, спеціально для інформації про Lightning.

- Баланс Lightning
- BTC у каналах
  - BTC відкривають канали
  - BTC локальний баланс
  - BTC віддалений баланс
  - BTC закривають канали
- BTC на ланцюжку
  - BTC підтверджено
  - BTC непідтверджено
  - BTC зарезервовано
- Сервіси Lightning
  - Ride the Lightning (RTL).

Натиснувши на логотип Ride the Lightning у плитці "Сервіси Lightning" або "Lightning" під гаманцями у лівому меню, адміністратори серверів можуть отримати доступ до RTL для управління вузлом Lightning.

**Примітка!**

Якщо підключення внутрішнього Lightning вузла не вдається - переконайтеся, що:

1. Вузол Bitcoin на ланцюжку повністю синхронізований
2. Внутрішній lightning вузол "Включений" у "Lightning" > "Налаштування" > "Налаштування BTC Lightning"
Якщо ви не можете підключитися до свого Lightning вузла, спробуйте перезавантажити свій сервер або прочитайте більше деталей в офіційній документації BTCPay Server; https://docs.btcpayserver.org/Troubleshooting/. Ви не зможете приймати платежі через Lightning у своєму магазині, поки ваш Lightning вузол не буде відображатися як "Онлайн". Спробуйте перевірити своє підключення до Lightning, натиснувши на посилання "Public Node Info".

### Гаманець Lightning

У меню зліва, в опції гаманця Lightning, адміністратори сервера знайдуть легкий доступ до RTL, їхньої інформації Public node та налаштувань Lightning, специфічних для їхнього магазину BTCPay Server.

#### Внутрішня інформація вузла

Адміністратори сервера можуть натиснути на внутрішню інформацію вузла та переглянути статус свого сервера (Онлайн/ Офлайн) та рядок підключення для Clearnet або Tor.

![зображення](assets/en/32.webp)

#### Зміна підключення

Якщо власник магазину вирішує використовувати зміни в налаштуваннях Lightning - Зміна підключення.
Поруч з інформацією Public Node власники магазинів можуть знайти цю опцію. Це поверне початкову настройку для зовнішнього підключення вузла Lightning, заповніть нову інформацію про Lightning вузол, натисніть зберегти та оновіть магазин новою інформацією про вузол.

![зображення](assets/en/33.webp)

#### Сервіси

Якщо адміністратор сервера вирішує встановити кілька сервісів для реалізації Lightning, вони будуть перелічені тут. Зі стандартною реалізацією LND, адміністратори матимуть Ride The Lightning (RTL) як стандартний інструмент для управління вузлом.

#### Налаштування гаманця BTC Lightning

Після додавання вузла Lightning до магазину на попередньому кроці, у налаштуваннях гаманця Lightning, власники магазинів все ще можуть вирішити деактивувати його для свого магазину, використовуючи перемикач у верхній частині налаштувань Lightning.

![зображення](assets/en/34.webp)

#### Опції платежів через Lightning

Власники магазинів можуть встановити параметри для наступного, щоб покращити досвід використання Lightning для своїх клієнтів.

- Відображення сум платежів через Lightning у Сатоші.
- Додавання підказок для приватних каналів до рахунку-фактури Lightning.
- Уніфікація URL/QR кодів для платежів через ланцюг та через Lightning при оформленні покупки.
- Встановлення шаблону опису для рахунків-фактур через Lightning.

#### LNURL

Власники магазинів можуть вирішити використовувати або не використовувати LNURL. URL мережі Lightning, або LNURL, є запропонованим стандартом для взаємодії між платником та отримувачем через Lightning. Коротко кажучи, LNURL - це bech32 закодований URL, що починається з lnurl. Від гаманця Lightning очікується, що він декодує URL, зв'язується з URL та очікує на об'єкт JSON з подальшими інструкціями, найважливішим з яких є тег, що визначає поведінку knurl.

- Увімкнути LNURL
- Класичний режим LNURL
  - Для сумісності гаманців, Bech32 закодований (класичний) проти звичайного URL (майбутнє)
- Дозволити отримувачу передавати коментар.

### Приклад 1

#### Підключення до Lightning з внутрішнім вузлом (Адміністратор)

Ця опція доступна лише, якщо ви є Адміністратором цього екземпляру або якщо Адміністратор змінив налаштування за замовчуванням, де користувачі можуть використовувати внутрішній вузол Lightning.

Як адміністратор, натисніть на Гаманець Lightning у лівому меню. BTCPay Server запропонує використати один з двох варіантів для підключення вузла Lightning, внутрішній вузол або зовнішній вузол на вибір. Натисніть на Використати внутрішній вузол та збережіть.

#### Управління вашим вузлом Lightning (RTL)

Після підключення до внутрішнього вузла Lightning, BTCPay Server оновиться та покаже сповіщення "BTC Lightning вузол оновлено", підтверджуючи, що ви тепер підключили Lightning до свого магазину.

Управління вузлом Lightning - завдання для Адміністратора сервера. Це включає:

- Управління транзакціями
- Управління ліквідністю
  - Вхідна ліквідність
  - Вихідна ліквідність
- Управління пірами та каналами
  - Підключені піри
  - Комісії каналу
  - Статус каналу
- Робіть часті резервні копії станів каналів.
- Перевіряйте звіти про маршрутизацію.
- Альтернативно, використовуйте такі сервіси, як Loop.

Управління всіма lightning вузлами стандартно виконується за допомогою RTL (за умови, що ви використовуєте реалізацію LND). Адміністратори можуть натиснути на свій Lightning Гаманець у BTCPay Server і знайти кнопку для відкриття RTL. Основна панель керування BTCPay Server тепер оновлена з плитками Lightning Network, включаючи швидкий доступ до RTL.

### Приклад 2

#### Підключення до lightning за допомогою Alby

При підключенні з кастодіальним сервісом, як Alby, власникам магазинів спочатку слід створити обліковий запис, відвідавши: https://getalby.com/

![зображення](assets/en/35.webp)

Після створення облікового запису Alby, перейдіть до вашого магазину BTCPay Server.

Крок 1: Натисніть 'Налаштувати Lightning вузол' на панелі керування або 'Lightning' під гаманцями.

![зображення](assets/en/36.webp)

Крок 2: Введіть дані для підключення вашого гаманця, надані Alby. На панелі керування Alby, натисніть на Гаманець. Тут ви знайдете "Дані для підключення гаманця". Скопіюйте ці дані. Вставте дані від Alby у поле конфігурації підключення на сервері BTCPay.

![зображення](assets/en/37.webp)

Крок 3: Після надання деталей підключення серверу BTCPay, натисніть кнопку "Тестувати підключення", щоб переконатися, що підключення працює належним чином. Зверніть увагу на повідомлення "Підключення до lightning вузла успішне" у верхній частині вашого екрану. Це підтверджує, що все працює належним чином.

![зображення](assets/en/38.webp)

Крок 4: Натисніть зберегти, і ваш магазин тепер підключений до lightning вузла за допомогою Alby.

![зображення](assets/en/39.webp)

**!Примітка!**

Ніколи не довіряйте кастодіальному рішенню Lightning більше, ніж ви готові втратити.

### Підсумок навичок

У цьому розділі ви дізналися:

- Як підключити внутрішній або зовнішній Lightning вузол
- Зміст і функції різних плиток, пов'язаних з Lightning, на панелі керування
- Як налаштувати гаманець Lightning за допомогою Voltage Surge або Alby

### Практичний огляд оцінки знань

Опишіть деякі з різних варіантів підключення гаманця Lightning до вашого магазину.

# Інтерфейс BTCPay Server

<partId>25e88b81-e1ab-515f-a035-09f2a3075556</partId>

## Огляд панелі керування

<chapterId>410ff28b-a272-5c91-93e0-48d5b28c53ab</chapterId>

BTCPay Server є модульним програмним пакетом. Однак, існують стандарти, яких дотримується кожен BTCPay Server, і з якими взаємодіють адміністратори/користувачі. Починаючи з панелі керування. Основна точка входу кожного BTCPay Server після входу в систему. Панель керування дає огляд того, як ваш магазин працює, поточний баланс гаманця, і останні транзакції за останні 7 днів. Оскільки це модульний вигляд, плагіни можуть використовувати цей вигляд для своєї користі та створювати свої плитки на панелі керування. У цьому посібнику ми будемо говорити лише про стандартні плагіни/додатки та їх відповідні вигляди по всьому BTCPay Server.

### Плитки панелі керування

У основному вигляді панелі керування BTCPay Server є кілька стандартних плиток, доступних. Ці плитки призначені для того, щоб власник магазину або адміністратор міг швидко керувати своїм магазином в одному огляді.

- Баланс гаманця
- Активність транзакцій
- Баланс Lightning (якщо Lightning включено для магазину)
- Сервіси Lightning (якщо Lightning включено для магазину)
- Недавні транзакції.
- Недавні інвойси
- Поточні активні краудфандинги
- Продуктивність магазину / найпопулярніші товари.
Плитка "Баланс Гаманця" надає швидкий огляд коштів та ефективності вашого гаманця. Її можна переглядати у BTC або у фіатній валюті на графіку за тиждень, місяць або рік.
![зображення](assets/en/40.webp)

### Активність транзакцій

Поруч із плиткою "Баланс Гаманця", BTCPay Server показує швидкий огляд очікуваних виплат, кількості транзакцій за останні 7 днів, і чи ваш магазин здійснив якісь повернення коштів. Натискання на кнопку "Управління" переводить вас до управління очікуваними виплатами (дізнайтеся більше про виплати в BTCPay Server - розділ "Платежі").

![зображення](assets/en/41.webp)

### Баланс Lightning

Це видно лише коли активовано Lightning.

Коли Адміністратор надав доступ до мережі Lightning, на панелі керування BTCPay Server тепер є нова плитка з інформацією про ваш Lightning вузол. Скільки BTC знаходиться в каналах, як це збалансовано локально або віддалено (вхідна або вихідна ліквідність), чи канали закриваються або відкриваються, і скільки біткоїнів утримується на ланцюгу на Lightning вузлі.

![зображення](assets/en/42.webp)

### Послуги Lightning

Це видно лише коли активовано Lightning.

Поруч із переглядом вашого балансу Lightning на панелі керування BTCPay Server, адміністратори також побачать плитку для Послуг Lightning. Тут адміністратори можуть знайти швидкі кнопки для інструментів, які вони використовують для управління своїм Lightning вузлом; наприклад, Ride the Lightning є одним із стандартних інструментів з BTCPay Server для управління вузлом Lightning.

![зображення](assets/en/43.webp)

### Нещодавні Транзакції

Плитка нещодавніх транзакцій покаже найсвіжіші транзакції вашого магазину. Одним кліком Адміністратор інстанції BTCPay Server тепер може побачити останню транзакцію і визначити, чи потрібна увага до неї.

![зображення](assets/en/44.webp)

### Нещодавні Рахунки-Фактури

Плитка нещодавніх рахунків-фактур показує 6 останніх рахунків-фактур, створених вашим BTCPay Server, включаючи Статус і суму рахунку-фактури. Плитка також включає кнопку "Переглянути всі" для легкого доступу до повного огляду рахунків-фактур.

![зображення](assets/en/45.webp)

### Точка Продажу та Краудфандинг

Оскільки BTCPay Server надає набір стандартних плагінів або додатків, Точка Продажу та Краудфандинг є двома основними плагінами BTCPay Server. З кожним магазином та гаманцем користувач BTCPay Server може створювати стільки Точок Продажу або Краудфандингів, скільки вважає за потрібне. Кожен створює нову плитку на панелі керування, показуючи ефективність плагінів.

![зображення](assets/en/46.webp)

Зверніть увагу на невелику різницю між плиткою Точки Продажу та Краудфандингу. Адміністратор бачить найпопулярніші товари у плитці Точки Продажу. У плитці Краудфандингу це стає Найпопулярніші Переваги. Обидві плитки мають швидкі кнопки для управління відповідним додатком та перегляду нещодавніх рахунків-фактур, створених найпопулярнішими товарами або перевагами.

![зображення](assets/en/47.webp)

**!?Примітка!?**

Графіки балансу та нещодавні транзакції доступні лише для методу оплати на ланцюгу. Інформація про баланси та транзакції Lightning Network є в роботі. Станом на версію BTCPay Server 1.6.0, базові баланси Lightning Network доступні.

### Підсумок Навичок

У цьому розділі ви дізналися наступне:

- Основний макет плиток на головній сторінці відомий як Панель керування.
- Базове розуміння вмісту кожної плитки.

### Перегляд Оцінки Знань

Перелічіть з пам'яті стільки плиток з Панелі керування, скільки зможете.

## BTCPay Server - Налаштування Магазину

<chapterId>e8faef7b-278d-550e-a511-bc3a442daf64</chapterId>
У програмному забезпеченні BTCPay Server ми знаємо про 2 типи налаштувань. Специфічні налаштування магазину BTCPay Server, кнопка налаштувань, яка знаходиться в лівому меню нижче за Dashboard, та налаштування BTCPay Server, які знаходяться внизу меню, прямо над розділом Account. Специфічні налаштування сервера BTCPay Server можуть переглядати лише адміністратори сервера.
Налаштування магазину складаються з багатьох вкладок для категоризації кожного набору налаштувань.

- Загальні
- Курси
- Вигляд оформлення
- Токени доступу
- Користувачі
- Ролі
- Вебхуки
- Процесори виплат
- Електронні листи
- Форми

### Загальні

У вкладці Загальні налаштування власники магазинів встановлюють свій брендинг та стандартні налаштування платежів. Під час початкової настройки магазину було задано назву магазину; це буде відображено в Загальних налаштуваннях під назвою Магазину. Тут власник магазину також може налаштувати свій вебсайт, щоб відповідати брендингу, та ID магазину для впізнавання адміністратором у базі даних.

#### Брендинг

Оскільки BTCPay Server є FOSS (вільним і відкритим програмним забезпеченням), власник магазину може налаштувати індивідуальний брендинг, щоб відповідати його магазину. Встановіть колір бренду, збережіть логотипи вашого бренду та додайте користувацький CSS для сторінок, які бачать клієнти (рахунки-фактури, запити на оплату, пулові платежі).

#### Платежі

У налаштуваннях платежів власники магазинів можуть встановити стандартну валюту магазину (або в Bitcoin, або в будь-якій фіатній валюті).

#### Дозволити будь-кому створювати рахунки-фактури

Це налаштування призначене для розробників або будівельників на базі BTCPay Server. З цим налаштуванням, увімкненим для вашого магазину, воно дозволяє зовнішньому світу створювати рахунки-фактури на вашому екземплярі BTCPay Server.

#### Додати додаткову плату (мережеву плату) до рахунків-фактур

Функція в BTCPay для захисту торговців від атак пилу або клієнтів, які можуть спричинити високі витрати на плату пізніше, коли торговцю потрібно буде перемістити багато біткойнів одночасно. Наприклад, клієнт створив рахунок-фактуру на 20$ і оплатив його частково, сплачуючи 1$ 20 разів, поки рахунок-фактура не був повністю оплачений. Тепер у торговця більша транзакція, що збільшує вартість майнінгу, у випадку, якщо торговець вирішить перемістити ці кошти пізніше. За замовчуванням, BTCPay застосовує додаткову мережеву вартість до загальної суми рахунку-фактури, щоб покрити ці витрати для торговця, коли рахунок-фактура оплачується кількома транзакціями. BTCPay пропонує кілька варіантів для налаштування цієї функції захисту. Ви можете застосувати мережеву плату:

- Тільки якщо клієнт робить більше однієї оплати за рахунок-фактуру (У вищезазначеному прикладі, якщо клієнт створив рахунок-фактуру на 20\$ і оплатив 1\$, загальна сума до сплати тепер становить 19\$ + мережева плата. Мережева плата застосовується після першої оплати)
- За кожну оплату (включаючи першу оплату, у нашому прикладі, загальна сума буде 20\$ + мережева плата відразу, навіть за першу оплату)
- Ніколи не додавати мережеву плату (повністю вимикає мережеву плату)

Хоча це захищає від транзакцій пилу, це також може негативно відображатися на бізнесі, якщо це не комунікувати належним чином. Клієнти можуть мати додаткові питання і думати, що ви їх переплачуєте.

#### Рахунок-фактура вважається простроченим, якщо повна сума не була сплачена після?

Таймер рахунку-фактури за замовчуванням встановлено на 15 хвилин. Таймер є механізмом захисту від волатильності, оскільки він фіксує кількість Bitcoin відповідно до курсів Bitcoin до фіатних валют. Якщо клієнт не оплачує рахунок-фактуру протягом визначеного періоду, рахунок-фактура вважається простроченим. Рахунок-фактура вважається "оплаченим" як тільки транзакція видима в блокчейні (0 підтверджень), але вважається "завершеним", коли він досягає кількості підтверджень, які визначив торговець (зазвичай, 1-6). Таймер можна налаштувати хвилинами.

#### Вважати рахунок-фактуру оплаченим, навіть якщо сплачена сума на X% менша, ніж очікувалося?
Коли клієнт використовує гаманець обміну для прямої оплати рахунку-фактури, обмін бере невелику комісію. Це означає, що такий рахунок-фактура не вважається повністю оплаченим. Рахунок-фактура отримує статус "частково оплачений". Ви можете встановити відсоткову ставку тут, якщо торговець хоче приймати недоплачені рахунки-фактури.
### Тарифи

У BTCPay Server, коли генерується рахунок-фактура, завжди потрібна найактуальніша і точна ціна Bitcoin до фіату. При створенні нового магазину в BTCPay Server, адміністраторів просять встановити їхнє переважне джерело цін; після налаштування магазину, власники магазинів завжди можуть змінити своє джерело цін у цій вкладці.

#### Розширене скриптування правил тарифів

Переважно використовується досвідченими користувачами. Якщо включено, власники магазинів можуть створювати скрипти навколо поведінки цін і як стягувати плату зі своїх клієнтів.

#### Тестування

Швидке місце для тестування ваших переважних валютних пар. Також включає функцію перевірки стандартних валютних пар через REST запит.

### Зовнішній вигляд оформлення

Вкладка зовнішнього вигляду оформлення починається з налаштувань специфічних для рахунку-фактури та стандартного способу оплати і дозволяє визначені способи оплати, коли виконуються встановлені вимоги.

#### Налаштування рахунку-фактури

Стандартні способи оплати. BTCPay Server у стандартній конфігурації має три варіанти.

- BTC (через ланцюг)
- BTC (LNURL-pay)
- BTC (Поза ланцюгом & Lightning)

Ми можемо встановити параметри для нашого магазину, де клієнт буде взаємодіяти лише з Lightning, коли ціна менше X суми, і навпаки для транзакцій через ланцюг, коли X більше Y завжди презентувати опцію оплати через ланцюг.

![зображення](assets/en/48.webp)

#### Оформлення

Починаючи з випуску BTCPay Server 1.7, було представлено новий інтерфейс оформлення, Checkout V2, як його називають. З моменту випуску 1.9 це стало стандартом, адміністратори та власники магазинів все ще можуть встановити оформлення на попередній випуск. Використовуючи перемикач "Використовувати класичне оформлення", власник магазину може повернути магазин до попереднього досвіду оформлення. BTCPay Server також має набір стандартних налаштувань для онлайн-комерції або досвіду в магазині.

![зображення](assets/en/49.webp)

Коли клієнт взаємодіє з магазином і генерує рахунок-фактуру, існує час закінчення дії рахунку-фактури. За замовчуванням BTCPay Server встановлює це на 5 хвилин, і Адміністратор може встановити це на будь-який термін, який вважає за потрібне. Сторінку оформлення можна додатково налаштувати, перевіривши наступні параметри:

- Відзначати оплату, показуючи конфетті
- Показувати заголовок магазину (Назва та логотип)
- Показувати кнопку "Оплатити у гаманці"
- Уніфікувати URL/QR-коди для платежів через ланцюг та поза ланцюгом
- Відображати суми платежів Lightning у Сатоші
- Автоматичне визначення мови при оформленні

![зображення](assets/en/50.webp)

Коли автоматичне визначення мови не встановлено, BTCPay Server за замовчуванням відображатиме англійську. Власник магазину може змінити цю мову за замовчуванням на свою переважну.

![зображення](assets/en/51.webp)

Натисніть на випадаюче меню, і власники магазинів можуть встановити користувацький HTML заголовок, який буде відображатися на сторінці оформлення.

![зображення](assets/en/52.webp)

Щоб забезпечити, що клієнт знає свій спосіб оплати, власник магазину може явно встановити своє оформлення завжди вимагати від користувачів вибирати їхній переважний спосіб оплати. Коли рахунок-фактура оплачений, BTCPay Server дозволяє клієнту повернутися до веб-магазину. Власники магазинів можуть встановити це автоматичне перенаправлення після оплати клієнтом.

![зображення](assets/en/53.webp)

#### Публічний квитанція

У налаштуваннях публічної квитанції власник магазину може встановити сторінки квитанцій як публічні та показати список платежів на сторінці квитанції та QR-код квитанції для легкого цифрового доступу клієнта.
![зображення](assets/en/54.webp)
### Токени Доступу

Токени доступу використовуються для з'єднання з певними інтеграціями електронної комерції або індивідуально створеними інтеграціями.

![зображення](assets/en/55.webp)

### Користувачі

Користувачі магазину - це те місце, де власник магазину може керувати своїми співробітниками, їхніми акаунтами та доступом до магазину. Після створення акаунтів співробітниками, власник магазину може додати певних користувачів до магазину як гостей або власників. Для детальнішого визначення ролі співробітника зверніться до наступного розділу про "Налаштування магазину BTCPay Server - Ролі".

![зображення](assets/en/56.webp)

### Ролі

Власник магазину може вважати стандартні ролі користувачів недостатньо значущими. У налаштуваннях індивідуальних ролей власник магазину може визначити точні потреби для кожної ролі у своєму бізнесі.

(1) Щоб створити нову роль, натисніть кнопку "+ Додати роль".

![зображення](assets/en/57.webp)

(2) Введіть назву ролі, наприклад, "Касир".

![зображення](assets/en/58.webp)

(3) Налаштуйте індивідуальні дозволи для ролі.

- Модифікувати ваші магазини.
- Керувати обмінними рахунками, пов'язаними з вашими магазинами.
  - Переглядати обмінні рахунки, пов'язані з вашими магазинами.
- Керувати вашими пуловими платежами.
- Створювати пулові платежі.
  - Створювати незатверджені пулові платежі.
- Модифікувати рахунки-фактури.
  - Переглядати рахунки-фактури.
  - Створювати рахунок-фактуру.
  - Створювати рахунки-фактури з вузлів мережі Lightning, пов'язаних з вашими магазинами.
- Переглядати ваші магазини.
  - Переглядати рахунки-фактури.
  - Переглядати ваші запити на оплату.
  - Модифікувати вебхуки магазинів.
- Модифікувати ваші запити на оплату.
  - Переглядати ваші запити на оплату.
- Використовувати вузли мережі Lightning, пов'язані з вашими магазинами.
  - Переглядати рахунки-фактури мережі Lightning, пов'язані з вашими магазинами.
  - Створювати рахунки-фактури з вузлів мережі Lightning, пов'язаних з вашими магазинами.
- Вносити кошти на обмінні рахунки, пов'язані з вашими магазинами.
- Виводити кошти з обмінних рахунків на ваш магазин.
- Торгувати коштами на обмінних рахунках вашого магазину.

Коли роль створена, її назва фіксується і не може бути змінена в режимі редагування.

![зображення](assets/en/59.webp)

### Вебхуки

У BTCPay Server досить легко створити новий "Вебхук". У вкладці налаштувань магазину BTCPay Server - Вебхуки, власник магазину може легко створити новий вебхук, натиснувши на "+ Створити Вебхук". Вебхуки дозволяють BTCPay Server надсилати HTTP події, пов'язані з вашим магазином, на інші сервери або інтеграції електронної комерції.

![зображення](assets/en/60.webp)

Ви тепер у режимі створення Вебхука. Переконайтеся, що ви знаєте ваш Payload URL і вставте його у ваш BTCPay Server. Під час вставки Payload URL, під ним відображається секрет вебхука. Скопіюйте секрет вебхука і надайте його на кінцеву точку. Коли все буде налаштовано, ви можете переключити в BTCPay Server автоматичну повторну доставку. Ми спробуємо повторно доставити будь-яку невдалу доставку після 10 секунд, 1 хвилини, і до 6 разів після 10 хвилин. Ви можете перемикатися між усіма подіями або вказувати події за вашими потребами. Обов'язково активуйте вебхук і натисніть Додати вебхук, щоб зберегти його.

![зображення](assets/en/61.webp)

Вебхуки не призначені для сумісності з Bitpay API. У BTCPay Server є два окремі IPN (за термінологією BitPay: "Миттєві Повідомлення про Платежі").

- Webhook
- Повідомлення

Використовуйте URL повідомлень лише тоді, коли ви створюєте рахунки-фактури через Bitpay API.

### Процесори Виплат
Процесори виплат працюють разом з концепцією виплат у BTCPay Server. Агрегатор виплат дозволяє об'єднувати кілька транзакцій і відправляти їх одночасно. За допомогою процесорів виплат власник магазину може автоматизувати пакетні виплати. BTCPay Server надає два методи автоматизованих виплат: On-chain та Off-chain (LN).
Власник магазину може натиснути та налаштувати обидва процесори виплат окремо. Власник магазину може захотіти запускати процесор on-chain лише раз на кожні X годин, тоді як off-chain може працювати кожні кілька хвилин. Для On-chain ви також можете встановити ціль, до якого блоку вона має бути включена. За замовчуванням це встановлено як 1 (або наступний доступний блок). Зверніть увагу, що налаштування процесора виплат Off-chain має лише інтервальний таймер і не має цільового блоку. Платежі в мережі Lightning є миттєвими.

![зображення](assets/en/62.webp)
![зображення](assets/en/63.webp)

Власники магазинів можуть налаштувати процесор on-chain лише якщо вони мають підключений Hot-wallet до свого магазину.

![зображення](assets/en/64.webp)

Після налаштування процесора виплат, ви можете швидко видалити або змінити його, повернувшись до вкладки процесора виплат у налаштуваннях магазину BTCPay Server.

**!?Зауваження!?**

Процесор виплат on-chain - Процесор виплат onchain може працювати лише в магазині, налаштованому з підключеним Hot wallet. Якщо Hot wallet не підключений, BTCPay Server не володіє ключами від гаманця і не зможе автоматично обробляти виплати.

### Електронні листи

BTCPay Server може використовувати електронні листи для сповіщень або, при правильному налаштуванні, для відновлення акаунтів, створених на інстанції, оскільки стандартно BTCPay Server не відправляє електронний лист, коли пароль втрачено, наприклад.

![зображення](assets/en/65.webp)

Перед тим, як власник магазину може встановити правила електронної пошти для певних подій свого магазину, ми повинні налаштувати деякі базові налаштування електронної пошти. BTCPay Server потребує цих налаштувань для відправлення електронних листів для подій, заснованих на вашому магазині, або для скидання паролів.

BTCPay Server спростив заповнення цієї інформації, використовуючи опцію "Швидке заповнення":

- Gmail.com
- Yahoo.com
- Mailgun
- Office365
- SendGrid

Використовуючи опцію швидкого заповнення, BTCPay Server автоматично заповнить поля для SMTP сервера та порту; тепер власнику магазину лише потрібно ввести свої дані в поле електронної адреси, логін (який зазвичай збігається з вашою електронною адресою) та ваш пароль. Розширена опція, яку BTCPay Server пропонує в налаштуваннях електронної пошти, - це відключення перевірок безпеки сертифікату TLS; за замовчуванням це включено.

![зображення](assets/en/66.webp)

За допомогою правил електронної пошти власник магазину може встановити певні події для відправлення електронних листів на певні електронні адреси.

- Створено рахунок-фактуру
- Рахунок-фактура отримав платіж
- Рахунок-фактура обробляється
- Рахунок-фактура прострочений
- Рахунок-фактура врегульований
- Рахунок-фактура недійсний
- Платіж за рахунком-фактурою врегульований

Якщо клієнт надав електронну адресу, ці тригери також можуть відправляти інформацію клієнту. Власники магазинів можуть попередньо заповнити рядок теми, щоб зробити зрозумілим, чому цей електронний лист був відправлений і який тригер його спричинив.

![зображення](assets/en/67.webp)

### Форми

Оскільки BTCPay Server не збирає жодних даних, власник магазину може захотіти додати власну форму до свого процесу оформлення покупки; таким чином, власник магазину може збирати додаткову інформацію від свого клієнта. Конструктор форм BTCPay Server складається з двох частин: візуального та більш розширеного кодового перегляду форм.
При створенні нової форми, BTCPay Server відкриває нове вікно, яке запитує базову інформацію про те, що ви хочете, щоб ваша нова форма запитувала. Спочатку власник магазину повинен дати чітку назву своїй новій формі, цю назву НЕМОЖЛИВО змінити після її встановлення.
![зображення](assets/en/68.webp)

Після того, як власник магазину дає формі назву, ви також можете перемкнути перемикач "Дозволити форму для загального використання" в положення ON, і він стане зеленим. Це робиться для того, щоб форму можна було використовувати в кожному місці, яке бачить клієнт. Наприклад, якщо власник магазину створює 1 окремий рахунок-фактуру не через свою Точку Продажу, він все одно може захотіти зібрати інформацію від клієнта; це перемикання в положення ON дозволяє збирати цю інформацію.

![зображення](assets/en/69.webp)

Кожна форма починається принаймні з 1 нового поля форми. Власник магазину може вибрати, яким має бути тип поля;

- Текст
- Число
- Пароль
- Електронна пошта
- URL
- Телефонні номери
- Дата
- Приховані поля
- Група полів
- Текстова область для відкритих коментарів.
- Селектор опцій

Кожен тип супроводжується своїми параметрами для заповнення. Власник магазину може налаштувати їх на свій смак. Нижче першого створеного поля, власники магазинів можуть продовжувати додавати нові поля до цієї однієї форми.

![зображення](assets/en/70.webp)

#### Розширені користувацькі форми

BTCPay Server також дозволяє вам будувати форми в коді. Зокрема, JSON. Замість перегляду редактора, власники магазинів можуть натиснути на кнопку CODE поруч з редактором і перейти до коду своїх форм. У визначенні поля можуть бути встановлені лише наступні поля; значення полів зберігаються у метаданих рахунку-фактури:

| Поле                   | Опис                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| .fields.constant      | Якщо true, .value має бути встановлено у визначенні форми, і користувач не зможе змінити значення поля. (приклад: версія визначення форми)                                                                                                                                                                                                                                                                                                                         |
| .fields.type          | Тип HTML вводу текст, радіо, прапорець, пароль, прихований, кнопка, колір, дата, datetime-local, місяць, тиждень, час, електронна пошта, число, діапазон, пошук, url, вибір, тел                                                                                                                                                                                                                                                                                     |
| .fields.options       | Якщо .fields.type є select, список можливих для вибору значень                                                                                                                                                                                                                                                                                                                                                                                                      |
| .fields.options.text  | Текст, що відображається для цієї опції                                                                                                                                                                                                                                                                                                                                                                                                                              |
| .fields.options.value | Значення поля, якщо ця опція вибрана                                                                                                                                                                                                                                                                                                                                                                                                                               |
| .fields.type=fieldset | Створює HTML fieldset навколо дочірніх .fields.fields (дивіться нижче)                                                                                                                                                                                                                                                                                                                                                                                               |
| .fields.name          | Назва властивості JSON поля, як вона з'явиться у метаданих рахунку-фактури                                                                                                                                                                                                                                                                                                                                                                                          |
| .fields.value         | Значення поля за замовчуванням                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| .fields.required      | якщо true, поле буде обов'язковим                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| .fields.label         | Мітка поля                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| .fields.helpText      | Додатковий текст для пояснення поля.                                                                                                                                                                                                                                                                                                                                                                                                                               |
| .fields.fields        | Ви можете організувати свої поля в ієрархію, дозволяючи дочірнім полям бути вкладеними в метадані рахунку-фактури. Ця структура може допомогти вам краще організувати та керувати зібраною інформацією, роблячи її легшою для доступу та інтерпретації. Наприклад, якщо у вас є форма, яка збирає інформацію про клієнта, ви можете групувати поля під батьківським полем під назвою клієнт. У цьому батьківському полі у вас можуть бути дочірні поля, як-от ім'я, Email та адреса. |
Назва поля представляє назву властивості JSON, яка зберігає значення, надане користувачем, в метаданих рахунку-фактури. Деякі відомі назви можуть бути інтерпретовані та змінювати налаштування рахунку-фактури.

| Назва поля       | Опис            |
| ---------------- | ---------------------- |
| invoice_amount   | Сума рахунку-фактури   |
| invoice_currency | Валюта рахунку-фактури |

Ви можете автоматично заповнити поля рахунку-фактури, додавши рядки запитів до URL форми, наприклад, "?your_field=value".

Ось деякі випадки використання цієї функції:

- Допомога у введенні даних користувачем: Автоматичне заповнення полів відомою інформацією про клієнта, щоб їм було легше заповнити форму. Наприклад, якщо ви вже знаєте електронну адресу клієнта, ви можете автоматично заповнити поле електронної пошти, щоб заощадити їх час.
- Персоналізація: Налаштування форми згідно з перевагами клієнта або сегментацією. Наприклад, якщо у вас є різні категорії клієнтів, ви можете автоматично заповнити форму відповідними даними, такими як їх рівень членства або конкретні пропозиції.
- Відстеження: Відстеження джерела відвідувань клієнтів за допомогою прихованих полів та автоматично заповнених значень. Наприклад, ви можете створити посилання з автоматично заповненими значеннями utm_media для кожного маркетингового каналу (наприклад, Twitter, Facebook, Email). Це допомагає аналізувати ефективність ваших маркетингових зусиль.
- A/B тестування: Автоматичне заповнення полів різними значеннями для тестування різних версій форми, дозволяючи вам оптимізувати досвід користувача та показники конверсії.

### Підсумок навичок

У цьому розділі ви дізналися наступне:

- Розкладка та функції вкладок у Налаштуваннях магазину
- Багато варіантів для точної настройки обробки базових обмінних курсів, часткових платежів, незначних недоплат та більше.
- Налаштування зовнішнього вигляду оформлення замовлення, включаючи залежні від ціни основні ланцюги проти активації Lightning на рахунках-фактурах.
- Керування рівнями доступу до магазину та дозволами між ролями.
- Налаштування автоматизованих електронних листів та їх тригерів
- Створення користувацьких форм для збору додаткової інформації про клієнтів під час оформлення замовлення.

### Оцінка знань

#### Огляд KA

Яка різниця між Налаштуваннями магазину та Налаштуваннями сервера?

#### Гіпотетичний KA

Опишіть деякі варіанти, які ви могли б вибрати в Зовнішньому вигляді оформлення > Налаштування рахунку-фактури, та чому.

## BTCPay Server - Налаштування сервера

<chapterId>1dd858a2-49ea-586b-9bc1-75a65f508df6</chapterId>

BTCPay Server складається з двох різних видів налаштувань. Один присвячений Налаштуванням магазину, а інший - Налаштуванням сервера. Останні доступні лише, якщо ви є адміністратором сервера, а не власником магазину. Адміністратори сервера можуть додавати користувачів, створювати користувацькі ролі, налаштовувати сервер електронної пошти, встановлювати політики, проводити обслуговувальні завдання, перевіряти всі служби, приєднані до BTCPay Server, завантажувати файли на сервер або перевіряти Логи.

### Користувачі

Як зазначалося у попередній частині, Адміністратори сервера можуть запрошувати користувачів на свій сервер, додаючи їх до вкладки Користувачі.

### Спеціальні ролі на рівні сервера

BTCPay Server знає два види спеціальних ролей: спеціальні ролі, специфічні для магазину, та спеціальні ролі на рівні сервера в налаштуваннях BTCPay Server. Обидва мають схожий набір дозволів; однак, якщо встановлено через вкладку Налаштування BTCPay Server - Ролі, застосована роль буде на рівні всього сервера та застосовуватиметься до кількох магазинів. Зверніть увагу на мітку "На рівні сервера" до спеціальних ролей у налаштуваннях сервера.
### Серверні користувацькі ролі

Набір дозволів для серверних користувацьких ролей:

- Модифікувати ваші магазини.
- Керувати обмінними рахунками, пов'язаними з вашими магазинами.
  - Переглядати обмінні рахунки, пов'язані з вашими магазинами.
- Керувати вашими платежами на вимогу.
- Створювати платежі на вимогу.
  - Створювати незатверджені платежі на вимогу.
- Модифікувати рахунки-фактури.
  - Переглядати рахунки-фактури.
  - Створювати рахунок-фактуру.
  - Створювати рахунки-фактури з вузлів Lightning, пов'язаних з вашими магазинами.
- Переглядати ваші магазини.
  - Переглядати рахунки-фактури.
  - Переглядати ваші запити на платіж.
  - Модифікувати вебхуки магазинів.
- Модифікувати ваші запити на платіж.
  - Переглядати ваші запити на платіж.
- Використовувати вузли Lightning, пов'язані з вашими магазинами.
  - Переглядати рахунки-фактури Lightning, пов'язані з вашими магазинами.
  - Створювати рахунки-фактури з вузлів Lightning, пов'язаних з вашими магазинами.
- Вносити кошти на обмінні рахунки, пов'язані з вашими магазинами.
- Виводити кошти з обмінних рахунків у ваш магазин.
- Торгувати коштами на обмінних рахунках вашого магазину.

**!?Зауваження!?**

Коли роль створена, її назва фіксується і не може бути змінена після в режимі редагування.

### Електронна пошта

Налаштування електронної пошти для всього сервера виглядають подібно до налаштувань електронної пошти для конкретного магазину. Однак, ця настройка керує не тільки тригерами для магазинів або журналами адміністратора. Це налаштування електронної пошти також робить доступним відновлення пароля на BTCPay Server при вході. Воно працює подібно до налаштувань для конкретного магазину; адміністратори можуть швидко заповнити параметри своєї електронної пошти, ввести свої облікові дані електронної пошти, і сервер тепер може відправляти електронні листи.

### Політики

Адміністратори політик BTCPay Server можуть встановити деякі налаштування на теми, як-от Налаштування для існуючих користувачів, Налаштування для нових користувачів, Налаштування сповіщень і Налаштування обслуговування. Ці налаштування призначені для реєстрації нових користувачів як адміністраторів або звичайних користувачів або навіть для приховування BTCPay Server від пошукових систем шляхом додавання до заголовка вашого сервера.

#### Налаштування для існуючих користувачів

Опції, доступні тут, відрізняються від користувацьких ролей. Ці додаткові дозволи можуть зробити магазин або власника магазину вразливими до атак. Політики, які можуть бути додані для існуючих користувачів:

- Дозволити неадміністраторам використовувати внутрішній вузол Lightning у їхніх магазинах.
  - Це дозволило б власникам магазинів використовувати вузол Lightning адміністратора сервера, а отже, його кошти! Будьте обережні, це не рішення для надання доступу до Lightning.
- Дозволити неадміністраторам створювати гарячі гаманці для їхніх магазинів.
  - Це дозволило б будь-кому з обліковим записом на вашому екземплярі BTCPay Server створювати гарячі гаманці та зберігати їхній відновлювальний ключ на сервері адміністратора. Це може зробити адміністратора відповідальним за зберігання коштів третіх сторін!
- Дозволити неадміністраторам імпортувати гарячі гаманці для їхніх магазинів.
  - Подібно до попередньої теми про створення гарячих гаманців, ця політика дозволяє імпортувати гарячий гаманець, з тими ж небезпеками, що згадані у розділі про створення гарячих гаманців.

#### Налаштування для нових користувачів

Ми можемо встановити деякі важливі налаштування для керування новими користувачами, які приходять на сервер. Ми можемо встановити підтвердження електронної пошти для нових реєстрацій, вимкнути створення нових користувачів через екран входу та обмежити доступ неадміністраторів до створення користувачів через API.

- Вимагати підтвердження електронної пошти для реєстрації.
  - Адміністратор сервера повинен мати налаштований сервер електронної пошти!
- Вимкнути реєстрацію нових користувачів на сервері
- Вимкнути доступ неадміністраторів до API-кінцевої точки створення користувача.

За замовчуванням, BTCPay Server має включену опцію вимкнення реєстрації нових користувачів і вимкнений доступ неадміністраторів до API-кінцевої точки створення користувача. Це зроблено з точки зору безпеки, щоб жодна випадкова особа, яка могла знайти сторінку входу BTCPay вашого сервера, не могла почати створювати облікові записи.
#### Налаштування сповіщень
![image](assets/en/76.webp)

#### Налаштування обслуговування

BTCPay Server - це проект з відкритим вихідним кодом, який розміщений на GitHub. Коли BTCPay Server випускає нову версію програмного забезпечення, адміністратори можуть отримувати сповіщення про доступність нової версії. Адміністраторам також може бути корисно запобігати індексації домену BTCPay Server пошуковими системами (google, yahoo, duckduckgo). Оскільки BTCPay Server є FOSS (програмне забезпечення з відкритим вихідним кодом), розробники по всьому світу можуть бажати створювати нові функції; BTCPay Server має експериментальну функцію, яку, будучи активованою, адміністратор може використовувати функції, не призначені для виробництва, лише для тестувальних цілей.

- Перевіряти релізи на GitHub та сповіщати, коли доступна нова версія BTCPay Server.
- Запобігати індексації цього сайту пошуковими системами
- Увімкнути експериментальні функції.

![image](assets/en/77.webp)

#### Плагіни

BTCPay Server може додавати плагіни та розширювати свій набір функцій. Плагіни за замовчуванням завантажуються з репозиторію плагін-білдера BTCPay Server. Однак адміністратор може вибрати перегляд плагінів у стані передвипуску, і якщо розробник плагіна дозволяє, адміністратор сервера тепер може встановлювати бета-версії плагінів.

![image](assets/en/78.webp)

##### Налаштування налаштувань

Стандартне розгортання BTCPay Server буде доступне через домен, налаштований для нього під час встановлення. Однак адміністратор сервера може змінити кореневий домен і відображати один зі створених додатків з певного магазину. Адміністратор сервера також може налаштувати специфічні домени для специфічних додатків.

- Відображати додаток на корені вебсайту
  - Показує список можливих додатків для відображення на кореневому домені.

![image](assets/en/79.webp)

- Налаштувати специфічні домени для специфічних додатків.
  - Коли ви натискаєте, щоб налаштувати специфічний домен для специфічних додатків, Адміністратор може налаштувати стільки доменів, спрямованих на специфічні додатки, скільки потрібно.

![image](assets/en/80.webp)

#### Блок-експлорери

BTCPay Server за замовчуванням використовує mempool.space як свій блок-експлорер для транзакцій. Коли BTCPay Server генерує новий рахунок-фактуру, і до нього прив'язана транзакція, власник магазину може натиснути, щоб відкрити транзакцію; BTCPay Server стандартно вказує на mempool.space як блок-експлорер; адміністратор сервера може змінити це на свій розсуд.

![image](assets/en/81.webp)

### Сервіси

Вкладка налаштувань BTCPay Server: Сервіси - це огляд компонентів, які використовує ваш BTCPay Server. Сервіси, які виставляє ваш BTCPay Server, можуть варіюватися залежно від методу розгортання.

Адміністратор BTCPay Server може натиснути на "Переглянути інформацію" за кожним сервісом, щоб відкрити його та налаштувати специфічні налаштування.

![image](assets/en/82.webp)

#### LND (gRPC)

BTCPay надає доступ до сервісу LND gRPC для зовнішнього використання; тут ви знайдете інформацію для підключення; сумісні гаманці перелічені тут. BTCPay Server також надає QR-код для підключення, який можна відсканувати та застосувати у мобільному гаманці.

Адміністратори серверів можуть відкрити більше деталей, щоб побачити;

- Деталі хоста
- Використання SSL
- Macaroon
- AdminMacaroon
- InvoiceMacaroon
- ReadonlyMacaroon
- Набір шифрів SSL GRPC (GRPC_SSL_CIPHER_SUITES)

#### LND (REST)

BTCPay надає доступ до сервісу LND REST для зовнішнього використання; тут ви знайдете інформацію для підключення; сумісні гаманці перелічені тут. Серед сумісних гаманців є Joule, Alby та ZeusLN. BTCPay Server надає QR-код для підключення, скануйте та застосовуйте у сумісному гаманці.

- REST Uri
- Macaroon
- AdminMacaroon- InvoiceMacaroon
- ReadonlyMacaroon

#### Резервне копіювання LND Seed

Резервне копіювання LND Seed є корисним для відновлення коштів з вашого гаманця LND у випадку пошкодження вашого сервера. Оскільки вузол Lightning є гаманцем з гарячим зберіганням, ви можете знайти конфіденційну інформацію про seed на цій сторінці.

LND документує процес відновлення. Дивіться https://github.com/lightningnetwork/lnd/blob/master/docs/recovery.md для документації.

#### Ride The Lightning

Ride the Lightning - це інструмент управління вузлом Lightning, створений як програмне забезпечення з відкритим вихідним кодом. BTCPay Server використовує RTL як компонент управління вузлом Lightning у своєму стеку. Адміністратори BTCPay Server можуть отримати доступ до RTL через налаштування сервера - вкладка Сервіси або натиснувши на гаманець Lightning.

#### Повний вузол P2P

Адміністратори серверів можуть захотіти підключити свій вузол Bitcoin до мобільного гаманця. Ця сторінка надає інформацію для віддаленого підключення до вашого повного вузла через протокол P2P. На момент написання цієї книги, BTCPay Server вказує Blockstream Green та Wasabi wallet як сумісні гаманці. BTCPay Server надає QR-код для підключення, скануйте та застосовуйте у сумісному гаманці.

#### Повний вузол RPC

Ця сторінка надає інформацію для віддаленого підключення до вашого повного вузла через протокол RPC.

#### SSH

SSH використовується для цілей обслуговування. BTCPay Server показує початкову команду підключення для доступу до вашого сервера та авторизовані публічні ключі SSH для підключення до вашого сервера. Адміністратори серверів можуть захотіти вимкнути зміни SSH через інтерфейс користувача BTCPay Server.

#### Динамічний DNS

Динамічний DNS дозволяє мати стабільне DNS-ім'я, яке вказує на ваш сервер, навіть якщо ваша IP-адреса регулярно змінюється. Це рекомендується, якщо ви розміщуєте BTCPay Server вдома і хочете мати чітку доменну назву для доступу до вашого сервера.

Зауважте, що вам потрібно належним чином налаштувати ваш NAT та інсталяцію BTCPay Server, щоб отримати сертифікат HTTPS.

### Тема

BTCPay Server стандартно поставляється з двома темами: світлою та темною. Їх можна перемикати, натискаючи на Акаунт у нижньому лівому куті та перемикаючи між темною темою або світлою темою. Адміністратори BTCPay Server можуть додати свою тему, надавши власну CSS-тему.

Адміністратори можуть розширити світлу/темну тему, додавши власний користувацький CSS або встановивши свою тему як повністю користувацьку.

![зображення](assets/en/83.webp)

#### Брендинг сервера

Адміністратори серверів можуть змінити брендинг BTCPay Server, встановивши брендинг вашої компанії на рівні сервера. Оскільки BTCPay Server є FOSS, адміністратори серверів можуть використовувати програмне забезпечення під власним брендом та змінювати його зовнішній вигляд відповідно до потреб свого бізнесу.

![зображення](assets/en/84.webp)

### Обслуговування

Як адміністратор сервера, від вас очікують, що ви будете добре доглядати за сервером. У вкладці Обслуговування BTCPay Server адміністратор може виконати деякі основні операції з обслуговування. Встановити доменне ім'я для екземпляра BTCPay Server, перезапустити або очистити сервер. Можливо, найважливіше, запустити оновлення.

BTCPay Server - це проект з відкритим вихідним кодом, який часто оновлюється. Кожне нове оновлення анонсується або через сповіщення вашого BTCPay Server, або через офіційні канали, через які BTCPay Server спілкується.

![зображення](assets/en/85.webp)

#### Доменне ім'я

Після налаштування BTCPay Server адміністратор може захотіти змінити своє початкове доменне ім'я. У вкладці Обслуговування адміністратор може змінити домен. Після підтвердження та налаштування відповідних DNS-записів на домені, BTCPay Server оновлюється та перезапускається, щоб повернутися до нового домену.

![зображення](assets/en/86.webp)

#### Перезапуск

Перезапустіть BTCPay Server та пов'язані служби.

![зображення](assets/en/87.webp)

#### Очищення
BTCPay Server працює з компонентами Docker; з оновленнями можуть залишатися залишки образів Docker, тимчасові файли тощо. Адміністратори серверів можуть очистити це та звільнити місце в своєму середовищі, запустивши скрипт очищення.
![image](assets/en/88.webp)

#### Оновлення

Можливо, найважливіша опція в вкладці Обслуговування. BTCPay Server створений спільнотою, і тому, його цикли оновлення частіші, ніж у більшості програмних продуктів. Коли BTCPay Server має новий реліз, адміністратори будуть повідомлені в їхньому центрі сповіщень. Натиснувши кнопку оновлення, BTCPay Server перевірить GitHub на предмет останнього релізу, оновить сервер та перезапустить його. Перед оновленням адміністраторам серверів завжди радять читати примітки до релізу, які розповсюджуються через офіційні канали BTCPay Server.

![image](assets/en/89.webp)

### Логи

Стикнутися з проблемою ніколи не весело. Цей документ пояснює найбільш загальний робочий процес та кроки для ефективного виявлення вашої проблеми та її вирішення самостійно або за допомогою спільноти.

Важливо визначити проблему.

#### Відтворення проблеми

Перш за все, спробуйте визначити, коли виникає проблема. Спробуйте відтворити проблему. Спробуйте оновити та перезапустити ваш сервер, щоб перевірити, чи можете ви відтворити вашу проблему. Якщо це краще описує вашу проблему, зробіть знімок екрану.

##### Оновлення сервера

Перевірте вашу версію BTCPay Server, якщо вона набагато старіша за [останню версію](https://github.com/btcpayserver/btcpayserver/releases) BTCPay Server. Оновлення вашого сервера може вирішити проблему.

##### Перезапуск сервера

Перезапуск вашого сервера - це простий спосіб вирішити багато найпоширеніших проблем BTCPay Server. Можливо, вам доведеться використовувати SSH для доступу до вашого сервера, щоб перезапустити його.

##### Перезапуск служби

Для деяких проблем може знадобитися лише перезапустити певну службу у вашому розгортанні BTCPay Server. Наприклад, перезапуск контейнера lets encrypt для оновлення SSL-сертифіката.

```bash
sudo su -
cd btcpayserver-docker
docker restart letsencrypt-nginx-proxy-companion
```

Використовуйте docker ps, щоб знайти назву іншої служби, яку ви хотіли б перезапустити.

#### Перегляд логів

Логи можуть надати важливу інформацію. У наступних абзацах ми опишемо, як отримати інформацію з логів для різних частин BTCPay.

##### Логи BTCPay

Починаючи з версії v1.0.3.8, ви можете легко отримати доступ до логів BTCPay Server з фронтенду. Якщо ви адміністратор сервера, перейдіть до Налаштувань сервера > Логи та відкрийте файл логів. Якщо ви не знаєте, що означає певна помилка в логах, згадайте про це під час усунення неполадок.

Якщо ви хочете більш детальні логи та використовуєте розгортання Docker, ви можете переглядати логи конкретних контейнерів Docker за допомогою командного рядка. Дивіться ці [інструкції для ssh](https://docs.btcpayserver.org/FAQ/ServerSettings/#how-to-ssh-into-my-btcpay-running-on-vp%C2%80) для доступу до екземпляру BTCPay, що працює на VPS.

На наступній сторінці загальний список назв контейнерів, що використовуються для BTCPay Server.

Виконайте наведені нижче команди, щоб вивести логи за назвою контейнера. Замініть назву контейнера, щоб переглянути логи інших контейнерів.

```bash
sudo su -
cd btcpayserver-docker
docker ps
docker logs --tail 100 generated_btcpayserver_1
```

| Логи для     | Назва контейнера                  |
| ------------ | --------------------------------- |
| BTCPayServer | generated_btcpayserver_1          |
| NBXplorer    | generated_nbxplorer_1             |
| Bitcoind     | btcpayserver_bitcoind             |
| Postgres     | generated_postgres_1              |
| proxy        | letsencrypt-nginx-proxy-companion |
| Nginx        | nginx-gen                         |
| Nginx        | nginx                             |
| c-lightning  | btcpayserver_clightning_bitcoin   |
| LND          | btcpayserver_lnd_bitcoin          |
| RTL          | generated_lnd_bitcoin_rtl_1       |
| Thunderhub   | generated_bitcoin_thub_1          |
| LibrePatron  | librepatron                       |
| Tor          | tor-gen                           |
| Tor          | tor                               |

###### Lightning Network LND - Docker

Існує кілька способів доступу до ваших логів LND при використанні Docker. Спочатку увійдіть як root:

```bash
sudo su -
Перейдіть до відповідної директорії:
cd btcpayserver-docker
# Знайдіть назву контейнера:
docker ps
Виведіть логи за назвою контейнера:
docker logs --tail 100 btcpayserver_lnd_bitcoin
```

Альтернативно, ви можете швидко вивести логи, використовуючи ID контейнера (потрібні лише перші унікальні символи ID, наприклад, два найлівіші символи):

```bash
docker logs 'додайте ваш ID контейнера'
```

Якщо з якоїсь причини вам потрібно більше логів

```bash
sudo su -
cd /var/lib/docker/volumes/generated_lnd_bitcoin_datadir/_data/logs/bitcoin/mainnet/
ls
```

Ви побачите щось на кшталт

```bash
lnd.log lnd.log.13 lnd.log.15 lnd.log.16.gz lnd.log.17.gz
```

Щоб отримати доступ до незапакованих логів цих файлів, виконайте `cat lnd.log` або якщо ви хочете інший, використовуйте `cat lnd.log.15`.

Щоб отримати доступ до запакованих логів у форматі `.gzip`, використовуйте `gzip -d lnd.log.16.gz` (у цьому випадку ми отримуємо доступ до `lnd.log.16.gz`). Це має дати вам новий файл, де ви можете виконати `cat lnd.log.16`. У випадку, якщо вищевказане не спрацює, можливо, вам потрібно спочатку встановити gzip за допомогою `sudo apt-get install gzip`.

###### Lightning Network c-lightning - Docker

```bash
sudo su -
docker ps
# Знайдіть ID контейнера c-lightning.
docker logs 'додайте ваш ID контейнера тут'
```

або використовуйте це

```bash
docker logs --tail 100 btcpayserver_clightning_bitcoin
```

Ви також можете отримати інформацію про логи за допомогою команди cli c-lightning.

```bash
bitcoin-lightning-cli.sh getlog
```

#### Логи Bitcoin Node

Крім [перегляду логів](https://docs.btcpayserver.org/Troubleshooting/#2-looking-through-the-logs) вашого контейнера Bitcoind, ви також можете використовувати будь-які з [команд bitcoin-cli](https://developer.bitcoin.org/reference/rpc/index.html)

[(відкриває нове вікно)](https://developer.bitcoin.org/reference/rpc/index.html), щоб отримати інформацію з вашого bitcoin node. BTCPay включає сценарій, який дозволяє вам легко спілкуватися з вашим Bitcoin node.

У папці btcpayserver-docker отримайте інформацію про блокчейн, використовуючи ваш node:

```bash
bitcoin-cli.sh getblockchaininfo
```

### Файли

BTCPay Server має локальну файлову систему та завантажує активи магазину (продукти), логотипи та брендинг безпосередньо на сервер. Файлова система сервера доступна лише для адміністраторів сервера; власники магазинів можуть завантажувати свої логотипи/брендинг на рівні магазину.
Коли адміністратор сервера перебуває на вкладці Зберігання файлів, можливо безпосередньо завантажити на ваш сервер або змінити провайдера зберігання файлів на Локальну файлову систему або Azure Blob Storage.
![зображення](assets/en/90.webp)

![зображення](assets/en/91.webp)

### Підсумок навичок

У цьому розділі ви дізналися наступне:

- Різниця між налаштуваннями Сховища та Сервера, зокрема як це стосується Користувачів, Ролей та Електронних листів
- Встановлення політик для всього сервера щодо використання та створення гарячих гаманців Lightning або Bitcoin, реєстрації нових користувачів та сповіщень електронною поштою.
- Як додати користувацькі теми (замість простих опцій світлої/темної теми, що надаються) та створити користувацькі логотипи
- Виконання простих завдань з обслуговування сервера через наданий графічний інтерфейс користувача
- Вирішення проблем, включаючи отримання деталей для будь-якого з контейнерів Docker або вашого вузла
- Управління зберіганням файлів

### Оцінка знань

#### Концептуальний огляд KA

Яка різниця в ролях, призначених через Налаштування Сервера проти Налаштувань Сховища, і яке потенційне використання одного над іншим?

#### Практичний огляд KA

Опишіть деякі можливі випадки використання, які активуються на вкладці Політики.

#### Практичний огляд KA

Опишіть деякі дії, які адміністратор може регулярно виконувати на вкладці Обслуговування.

## BTCPay Server - Платежі

<chapterId>e2b71ff9-3f4f-5e71-9771-8e03fbbef00f</chapterId>

Рахунок-фактура - це документ, який продавець видає покупцю для збору платежу.

У BTCPay Server рахунок-фактура представляє документ, який має бути оплачений протягом визначеного часового інтервалу за фіксованим обмінним курсом. Рахунки-фактури мають термін дії, оскільки вони фіксують обмінний курс протягом вказаного часового проміжку, захищаючи отримувача від коливань цін.

Суть BTCPay Server полягає в можливості діяти як система управління рахунками-фактурами Bitcoin. Рахунок-фактура є важливим інструментом для відстеження та управління отриманим платежем.

Якщо ви не використовуєте вбудований [Гаманець](https://docs.btcpayserver.org/Wallet/) для ручного отримання платежів, всі платежі в магазині будуть відображені на сторінці Рахунки-фактури. Ця сторінка кумулятивно сортує платежі за датою і є центральним елементом для управління рахунками-фактурами та вирішення проблем з платежами.

![зображення](assets/en/92.webp)

### Загальне

#### Статуси рахунків-фактур

Таблиця нижче перелічує та описує стандартні статуси рахунків-фактур у BTCPay та пропонує загальні дії. Дії є лише рекомендаціями. Користувачі самі визначають найкращий хід дій для свого випадку використання та бізнесу.

| Статус рахунку-фактури      | Опис                                                                                                                                   | Дія                                                                                                                        |
| -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| Новий                       | Не оплачено, таймер рахунку-фактури ще не сплив                                                                                         | Немає                                                                                                                      |
| Новий (частково оплачено)   | Оплачено, але не повністю, таймер рахунку-фактури ще не сплив                                                                           | Немає                                                                                                                      |
| Прострочений                | Не оплачено, таймер рахунку-фактури сплив                                                                                               | Немає                                                                                                                      |
| Прострочений (частково оплачено) \*\* | Оплачено, але не повною сумою, і прострочено                                                                                           | Зв'язатися з покупцем для організації повернення коштів або попросити його доплатити. Опціонально позначити рахунок-фактуру як врегульований або недійсний |
| Прострочений (оплачено пізно) | Оплачено повною сумою після спливу таймера рахунку-фактури                                                                               | Зв'язатися з покупцем для організації повернення коштів або обробити замовлення, якщо пізні підтвердження прийнятні.         |
| Врегульовано (оплачено зайве) | Оплачено більше, ніж сума рахунку-фактури, врегульовано, отримано достатню кількість підтверджень                                       | Зв'язатися з покупцем для організації повернення зайвої суми, або опціонально чекати, поки покупець зв'яжеться з вами          |
| Обробка                     | Оплачено в повному обсязі, але не отримано достатньо підтверджень, вказаних у налаштуваннях магазину                                   | Зв'язатися з покупцем, щоб організувати повернення зайвої суми, або зачекати, поки покупець зв'яжеться з вами                         |
| Обробка (зайва оплата)      | Оплачено більше, ніж сума рахунку-фактури, не отримано достатньо підтверджень                                                           | Зачекати на розрахунок, потім зв'язатися з покупцем, щоб організувати повернення зайвої суми, або зачекати, поки покупець зв'яжеться з вами |
| Розраховано                 | Оплачено в повному обсязі, отримано достатньо підтверджень у магазині                                                                   | Виконати замовлення                                                                                                            |
| Розраховано (позначено)     | Статус вручну змінено на розраховано з обробки або недійсного статусу                                                                   | Адміністратор магазину позначив платіж як розрахований                                                                        |
| Недійсний\*                 | Оплачено, але не отримано достатньо підтверджень протягом часу, вказаного в налаштуваннях магазину                                      | Перевірити транзакцію на блокчейн-експлорері, якщо вона отримала достатньо підтверджень, позначити як розраховану              |
| Недійсний (позначено)       | Статус вручну змінено на недійсний з розрахованого або простроченого статусу                                                             | Адміністратор магазину позначив платіж як недійсний                                                                           |
| Недійсний (зайва оплата)    | Оплачено більше, ніж сума рахунку-фактури, але не отримано достатньо підтверджень протягом часу, вказаного в налаштуваннях магазину     | Перевірити транзакцію на блокчейн-експлорері, якщо вона отримала достатньо підтверджень, позначити як розраховану              |

#### Деталі рахунку-фактури

Сторінка деталей рахунку-фактури містить всю інформацію, пов'язану з рахунком-фактурою.

Інформація про рахунок-фактуру створюється автоматично на основі статусу рахунку-фактури, курсу обміну тощо. Інформація про продукт створюється автоматично, якщо рахунок-фактура був створений з інформацією про продукт, наприклад, у додатку Point of Sale.

#### Фільтрація рахунків-фактур

Рахунки-фактури можна фільтрувати за допомогою швидких фільтрів, розташованих поруч з кнопкою пошуку, або розширених фільтрів, які можна включити, натиснувши на посилання (Допомога) угорі. Користувачі можуть фільтрувати рахунки-фактури за магазином, ідентифікатором замовлення, ідентифікатором товару, статусом або датою.

#### Експорт рахунків-фактур

Рахунки-фактури BTCPay Server можна експортувати у форматах CSV або JSON. Для отримання додаткової інформації про експорт рахунків-фактур та облік.

#### Повернення коштів за рахунком-фактурою

Якщо з будь-якої причини ви хочете здійснити повернення коштів, ви легко можете створити повернення з виду рахунку-фактури.

#### Архівування рахунків-фактур

В результаті функції неповторного використання адреси BTCPay Server, часто можна побачити багато прострочених рахунків-фактур на сторінці рахунків-фактур вашого магазину. Щоб приховати їх з вашого перегляду, виберіть їх у списку та позначте як архівовані. Рахунки-фактури, які були позначені як архівовані, не видаляються. Оплата за архівований рахунок-фактуру все одно буде виявлена вашим BTCPay Server (статус оплачено пізно). Ви можете переглянути архівовані рахунки-фактури магазину в будь-який час, вибравши архівовані рахунки-фактури з випадаючого списку фільтра пошуку.

#### Основна валюта

Основна валюта магазину, це було встановлено під час створення магазину.

#### Дозволити будь-кому створювати рахунок-фактуру

Ви повинні включити цю опцію, якщо хочете дозволити зовнішньому світу створювати рахунки-фактури у вашому магазині. Ця опція корисна, якщо ви використовуєте кнопку оплати або якщо ви видаєте рахунки-фактури через API або сторонній HTML-сайт. Додаток PoS авторизований заздалегідь і не потребує цього включення для того, щоб випадковий відвідувач міг відкрити ваш магазин PoS і створити рахунок-фактуру.

#### Додати додаткову плату (мережеву плату) до рахунку-фактури

- Тільки якщо клієнт здійснює більше однієї оплати за рахунок-фактуру
- За кожну оплату
- Ніколи не додавати мережеву плату

#### Рахунок-фактура закінчується, якщо повна сума не була оплачена після .. хвилин.
Таймер рахунку-фактури встановлено за замовчуванням на 15 хвилин. Таймер є механізмом захисту від волатильності, оскільки він фіксує кількість криптовалюти відповідно до курсу крипто до фіату. Якщо клієнт не оплачує рахунок-фактуру протягом визначеного періоду, рахунок-фактура вважається простроченим. Рахунок-фактура вважається "оплаченим" як тільки транзакція стає видимою в блокчейні (0-підтверджень), але вважається "завершеним", коли він досягає кількості підтверджень, визначених продавцем (зазвичай, 1-6). Таймер можна налаштувати.
#### Вважайте рахунок-фактуру оплаченим, навіть якщо оплачена сума на ..% менша, ніж очікувалося.

У ситуації, коли клієнт використовує гаманець обміну для прямої оплати рахунку-фактури, обмін бере невелику комісію. Це означає, що такий рахунок-фактура не вважається повністю завершеним. Рахунок-фактура отримує статус "частково оплачений". Якщо продавець хоче приймати недоплачені рахунки-фактури, ви можете встановити тут відсоткову ставку.

### Запити на оплату

Запити на оплату - це функція, яка дозволяє власникам магазинів BTCPay створювати довгострокові рахунки-фактури. Фонди оплачуються за запитом на оплату за курсом обміну на момент оплати. Це дозволяє користувачам здійснювати платежі на свій розсуд без необхідності узгодження або перевірки курсів обміну з власником магазину на момент оплати.

Користувачі можуть оплачувати запити частковими платежами. Запит на оплату залишається дійсним до його повної оплати або якщо власник магазину вимагає часу закінчення. Адреси ніколи не використовуються повторно. Нова адреса генерується кожного разу, коли користувач натискає оплатити, щоб створити рахунок-фактуру для запиту на оплату.

Власники магазинів можуть друкувати запити на оплату (або експортувати дані рахунків-фактур) для ведення обліку та бухгалтерії. BTCPay автоматично маркує рахунки-фактури як Запити на оплату у списку рахунків-фактур вашого магазину.

#### Налаштуйте свої запити на оплату

- Сума рахунку-фактури - Встановіть запитувану суму оплати
- Номінал - Показати запитувану суму в фіаті або криптовалюті
- Кількість платежів - Дозволити тільки одноразові платежі або часткові платежі
- Час закінчення - Дозволити платежі до дати або без терміну дії
- Опис - Текстовий редактор, Таблиці даних, Вбудовування фото та відео
- Зовнішній вигляд - Колір та стиль за допомогою тем CSS

![image](assets/en/93.webp)

#### Створіть запит на оплату

У лівому меню перейдіть до Запит на оплату та натисніть "Створити запит на оплату".

![image](assets/en/94.webp)

Вкажіть Назву запиту, Суму, Відображуваний номінал, Пов'язаний магазин, Час закінчення та Опис (Необов'язково)

Виберіть опцію Дозволити платнику створювати рахунки-фактури у своєму номіналі, якщо ви хочете дозволити часткові платежі.

Натисніть Зберегти та переглянути, щоб переглянути ваш запит на оплату.

BTCPay створює URL для запиту на оплату. Поділіться цим URL, щоб переглянути ваш запит на оплату. Потрібно кілька однакових запитів? Ви можете дублювати запити на оплату, використовуючи опцію Клонувати в головному меню.

![image](assets/en/95.webp)

**УВАГА**

Запити на оплату залежать від магазину, що означає, що кожен запит на оплату асоційований з магазином під час створення. Переконайтеся, що до вашого магазину підключений гаманець, до якого належить запит на оплату.

#### Оплачений запит

Платник та запитувач можуть переглядати статус запиту на оплату після відправлення платежу. Статус з'явиться як Врегульовано, якщо платіж було отримано повністю. Якщо були здійснені лише часткові платежі, Сума до оплати покаже залишок до сплати.

![image](assets/en/96.webp)

#### Налаштуйте запити на оплату

Вміст опису можна редагувати за допомогою текстового редактора запиту на оплату. Обидві опції доступні, якщо ви хочете використовувати додаткові кольорові теми або користувацьке стилізування CSS.

Нетехнічні користувачі можуть використовувати [bootstrap тему](https://docs.btcpayserver.org/Development/Theme/#2-bootstrap-themes). Додаткове налаштування можна здійснити, надавши додатковий код CSS, як показано нижче.

```css
```css
:root {  --btcpay-font-family-base: "Source Sans Pro", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --btcpay-primary: #7d4698;
  --btcpay-primary-accent: #59316b;
  --btcpay-body-text: #333a41;
  --btcpay-body-bg: #fff;
  --btcpay-bg-tile: #f8f9fa;
}

#mainNav {
  color: white;
  background: linear-gradient(#59316b, #331840);
}

#mainNav .btn-link {
  color: white;
}
```

### Виплати на вимогу

Традиційно, одержувач ділиться своєю Bitcoin адресою для здійснення платежу в Bitcoin, а відправник пізніше надсилає гроші на цю адресу. Така система називається платежем на вимогу відправника, оскільки відправник ініціює платіж, тоді як одержувач може бути недоступний, пересилаючи платіж одержувачу.

Але що, якщо ролі поміняти місцями?

Що, якщо замість того, щоб відправник ініціював платіж, відправник дозволяє одержувачу витягнути платіж у зручний для нього час? Це концепція платежу на вимогу одержувача. Це дозволяє використовувати кілька нових застосунків, таких як:

- Сервіс підписки (де підписник дозволяє сервісу витягувати гроші кожен певний проміжок часу)
- Повернення коштів (де продавець дозволяє покупцю витягнути гроші на свій гаманець, коли вони вважають за потрібне)
- Розрахунок за часом для фрілансерів (де замовник дозволяє фрілансеру витягувати гроші на свій гаманець по мірі звітування про витрачений час)
- Меценатство (де меценат дозволяє одержувачу витягувати гроші щомісяця для продовження підтримки їхньої роботи)
- Автоматичний продаж (де клієнт біржі дозволяє біржі витягувати гроші з їхнього гаманця для продажу автоматично кожного місяця)
- Система виведення залишку (де сервіс великого обсягу дозволяє користувачам запитувати виведення з їхнього залишку, сервіс може тоді легко об'єднати всі виплати багатьом користувачам на фіксованих інтервалах)

### Виплати

Функціональність виплат пов'язана з [Виплатами на вимогу](https://docs.btcpayserver.org/PullPayments/). Ця функція дозволяє створювати виплати у вашому BTCPay. Ця функція дозволяє обробляти виплати на вимогу (повернення коштів, виплати зарплати або виведення коштів).

#### Приклад 1: Повернення коштів

Почнемо з прикладу повернення коштів. Клієнт купив товар у вашому магазині, але, на жаль, мусить повернути товар. Вони хочуть повернення коштів. У BTCPay ви можете створити [Повернення коштів](https://docs.btcpayserver.org/Refund/) і надати клієнту посилання для вимоги їхніх коштів. Як тільки клієнт надасть свою адресу і вимагає кошти, це буде показано у Виплатах.

Перший статус, який він має, це Очікування схвалення. Клерки магазину можуть перевірити, чи чекає декілька таких, і після вибору використовують кнопку Дії.

Опції на кнопці дій

- Схвалити обрані виплати
- Схвалити та надіслати обрані виплати
- Скасувати обрані виплати

Наступний крок - Схвалити та надіслати обрані виплати, оскільки ми хочемо повернути кошти клієнту. Перевірте адресу клієнта, показано суму і чи хочемо ми, щоб збори були вирахувані з повернення чи ні. Після перевірок залишається лише підписати транзакцію.

Тепер клієнт отримує оновлення на сторінці Вимоги. Він може слідкувати за транзакцією, оскільки йому надається посилання на експлорер блоків і його транзакція. Як тільки транзакція підтверджена, і статус змінюється на Завершено.

#### Приклад 2: Зарплата
Тепер перейдемо до виплати зарплати, оскільки це здійснюється зсередини магазину, а не за запитом клієнта. Основа залишається та сама; використовуються платежі на вимогу (Pull payments). Але замість створення повернення коштів, ми зробимо [Платіж на вимогу](https://docs.btcpayserver.org/PullPayments/).
Перейдіть на вкладку Платежі на вимогу у вашому сервері BTCPay. У верхньому правому куті натисніть кнопку Створити платіж на вимогу.

Тепер ми перебуваємо в процесі створення Виплати, дайте їй назву та вкажіть бажану суму в обраній валюті, заповніть Опис, щоб співробітник знав, про що йдеться. Наступна частина схожа на повернення коштів. Співробітник вказує адресу призначення та суму, яку він хоче заявити з цієї Виплати. Він може вирішити зробити 2 окремі заявки на різні адреси, або навіть частково заявити через мережу Lightning.

Якщо є кілька очікуючих Виплат, ви можете об'єднати їх для підписання та відправлення. Після підписання виплати переміщуються на вкладку В процесі та показують Транзакцію. Коли мережа приймає виплату, вона переміщується на вкладку Завершено. Вкладка Завершено призначена виключно для історичних цілей. Вона містить оброблені Виплати та транзакцію, яка до неї належить.

### Платежі на вимогу

#### Концепція

Коли відправник налаштовує платіж на вимогу, він може налаштувати ряд властивостей:

- Назва запиту на виплату
- Лімітна сума
- Одиниця (наприклад, BTC, SAT, USD)
- Способи оплати
  - BTC в мережі
  - BTC поза мережею
- Опис
- Користувацький CSS
- Кінцева дата (необов'язково для Lightning Network BOLT11)

Після цього відправник може поділитися платежем на вимогу за допомогою посилання з одержувачем, дозволяючи одержувачу створити виплату. Одержувач обере свою виплату:

- Який спосіб оплати використовувати
- Куди відправити гроші

Як тільки виплата створена, вона буде враховуватися в межах ліміту платежу на вимогу за поточний період. Потім відправник затвердить виплату, встановивши курс, за яким виплата буде відправлена, і продовжить з оплатою.

Для відправника ми надаємо легкий у використанні спосіб об'єднання оплати кількох виплат з [Внутрішнього гаманця BTCPay](https://docs.btcpayserver.org/Wallet/).

#### Greenfield API

Сервер BTCPay надає повний API як для відправника, так і для одержувача, який документований на сторінці `/docs` вашого екземпляра. (або на сайті документації https://docs.btcpayserver.org)

Оскільки наш API відкриває повний потенціал платежів на вимогу, відправник може автоматизувати платежі відповідно до своїх потреб.

### Підсумок навичок

У цьому розділі ви дізналися наступне:

- Глибоке розуміння статусів рахунків-фактур сервера BTCPay, а також дій, які можна виконати з ними
- Налаштування та управління механізмами рахунків-фактур з подовженим терміном дії, відомими як Запити.
- Додаткові гнучкі можливості оплати, які відкриваються завдяки унікальній функції Платежів на вимогу сервера BTCPay, зокрема як обробляти повернення коштів та виплати зарплат.

### Оцінка знань

#### Концептуальний огляд KA

Які деякі відмінності між рахунками-фактурами та запитами на оплату, і яка може бути хороша причина для використання останніх?

#### Концептуальний огляд KA

Як платежі на вимогу розширюють те, що зазвичай можна зробити в мережі? Опишіть деякі випадки їх використання.

## Стандартні плагіни сервера BTCPay

<chapterId>7d673dc4-bd5d-5411-819b-f135f1d86636</chapterId>

### Стандартні плагіни та додатки
BTCPay сервер пропонує стандартний набір плагінів (додатків), які можуть перетворити BTCPay сервер в платіжний шлюз для електронної комерції. З додаванням точки продажу, платформи для краудфандингу та простої кнопки оплати, BTCPay сервер стає легким у впровадженні рішенням.
### Точка Продажу

Одним із стандартних плагінів BTCPay сервера є Точка Продажу (PoS). За допомогою плагіна PoS власник магазину може створити веб-магазин безпосередньо з BTCPay сервера, власнику магазину не потрібні сторонні рішення для електронної комерції, щоб керувати веб-магазином. Веб-додаток PoS дозволяє користувачам з магазинами, що мають фізичне розташування, легко приймати біткойни без комісій або третьої сторони, прямо у свій гаманець. PoS можна легко відображати на планшетах або інших пристроях, що підтримують веб-перегляд. Користувачі можуть легко створити ярлик на домашньому екрані для швидкого доступу до веб-додатку.

#### Як створити нову Точку Продажу

BTCPay сервер дозволяє власникам магазинів швидко створювати Точку Продажу в кількох макетах. BTCPay сервер розуміє, що не кожен магазин є електронною комерцією, і не кожен магазин є баром або рестораном, і він пропонує кілька стандартних налаштувань для вашої PoS.

Коли власник магазину натискає на "Точка Продажу" у своєму лівому меню, BTCPay сервер тепер запитає назву; ця назва буде видима в лівому меню. Натисніть Створити, щоб створити PoS.

![image](assets/en/97.webp)

#### Оновлення новоствореної Точки Продажу

Після створення нової PoS наступний екран буде для оновлення вашої Точки Продажу та додавання товарів для вашого магазину.

##### Назва додатку

Назва, дана тут вашій Точці Продажу, буде видима в основному меню BTCPay сервера.

##### Відображувана назва

Публіка побачить публічну назву або ім'я при відвідуванні вашого магазину. BTCPay сервер за замовчуванням називає ваш магазин "Чайний магазин". Замініть це на назву вашого магазину.

![image](assets/en/98.webp)

#### Вибір стилю Точки Продажу

BTCPay сервер здатний відображати свою Точку Продажу кількома способами.

- Список продуктів
  - Вид магазину, де клієнти можуть купувати лише 1 продукт за раз.
- Список продуктів з кошиком.
  - Вид магазину, де клієнти можуть купувати кілька товарів одночасно та отримувати огляд кошика з правого боку екрану.
- Тільки клавіатура
  - Без списку продуктів, лише клавіатура для прямого виставлення рахунків.
- Друкований дисплей (Друкований список продуктів з QR)
  - Якщо ви не можете завжди відображати свій список продуктів цифрово, вам потрібне "офлайн" рішення для продуктів; BTCPay сервер має друкований дисплей, який функціонує як Офлайн магазин.

![image](assets/en/99.webp)

#### Стиль Точки Продажу - Список продуктів

![image](assets/en/100.webp)

#### Стиль Точки Продажу - Список продуктів + Кошик

![image](assets/en/101.webp)

#### Стиль Точки Продажу - Тільки клавіатура

![image](assets/en/102.webp)

#### Стиль Точки Продажу - Друкований дисплей

![image](assets/en/103.webp)

#### Валюта

Власник магазину може встановити іншу валюту для своєї Точки Продажу, ніж його загально встановлена валюта за замовчуванням. Валюта магазину за замовчуванням автоматично заповнить це поле.

#### Опис

Розкажіть світу про свій магазин; що ви продаєте і за скільки? Все, що пояснює ваш магазин, йде сюди.

![image](assets/en/104.webp)

#### Продукти
Коли створюється Точка Продажу, стандартний BTCPay Сервер додає кілька товарів до магазину для довідки. Натисніть кнопку Редагувати на будь-якому зі стандартних товарів, щоб краще зрозуміти кожну можливу опцію для товару.
Створення нового продукту у вашому магазині складається з наступних полів;

- Назва
- Ціна (фіксована, мінімальна або налаштована)
- URL зображення
- Опис
- Інвентар
- ID
- Текст кнопки Купити.
- Увімкнути/Вимкнути

Як тільки власник магазину заповнить усі поля нового продукту, натисніть на зберегти, і ви помітите, що розділ Продукти в Точці Продажу тепер заповнюється. Завжди переконуйтесь, що зберігаєте у верхньому правому куті екрану, щоб уникнути втрати прогресу власниками магазинів при додаванні продуктів.

Власники магазинів також можуть використовувати "Редактор вихідного коду" для налаштування своїх продуктів. Редактор вихідного коду вимагає базового розуміння структур JSON.

![зображення](assets/en/105.webp)

#### Оформлення замовлення

BTCPay Сервер дозволяє невелику специфічну для PoS налаштування оформлення замовлення. Власник магазину може встановити текст "Купити за x" або запитати специфічні дані клієнта, додавши форми.

#### Чайові

Не всі магазини потребують опції для чайових у своїх продажах. Власники магазинів можуть вмикати або вимикати це, як вони вважають за потрібне для свого магазину. Якщо магазин використовує чайові, власник магазину може встановити текст у полі для чайових, який йому подобається. Чайові в BTCPay Сервері працюють на основі відсоткової суми. Власники магазинів можуть додавати кілька відсотків з розділенням комами.

#### Знижки

Як власник магазину, ви можете захотіти надати клієнту індивідуальну знижку при оформленні замовлення; перемикач для Знижок стає доступним у касі вашого магазину. Однак, це дуже не рекомендується для систем самообслуговування.

#### Спеціальні Платежі

Коли опція Спеціальних Платежів увімкнена, клієнт отримує можливість ввести свою ціну, рівну або вищу за оригінальний рахунок-фактуру, створений магазином.

#### Додаткові Опції

Після налаштування всього для вашої Точки Продажу, залишаються деякі додаткові опції. Власники магазинів можуть легко вбудувати свою PoS через Iframe або вбудувати кнопку оплати, яка посилається на конкретний товар магазину. Щоб стилізувати щойно створений магазин PoS, власники можуть додати власний CSS внизу додаткових опцій.

#### Видалити цей додаток

Якщо власник магазину хоче повністю видалити Точку Продажу зі свого BTCPay Сервера, внизу оновлення PoS власники магазинів можуть натиснути на кнопку Видалити цей додаток, щоб повністю знищити свій додаток PoS. При натисканні "Видалити цей додаток", BTCPay Сервер запитає підтвердження, введенням `DELETE` та підтвердженням натисканням кнопки Видалити. Після видалення власник магазину повертається до панелі керування BTCPay Сервера.

### BTCPay Сервер - Краудфандинг

Поряд з плагіном Точки Продажу, BTCPay Сервер має опцію створення краудфандингу. Як і будь-яка інша платформа краудфандингу, власники магазинів можуть встановити ціль, створити переваги для внесків та налаштувати їх за своїми потребами.

#### Як налаштувати новий краудфандинг

Натисніть на плагін Краудфандинг через головне меню зліва від вашого BTCPay Сервера, нижче розділу Плагіни. BTCPay Сервер тепер запитає назву для Краудфандингу; ця назва також буде відображена в лівій панелі меню.

![зображення](assets/en/106.webp)

#### Оновлення новоствореної Точки Продажу

Після того, як Додатку дано назву, наступний екран буде для оновлення Додатку, щоб надати йому контекст.

#### Назва Додатку

Назва, дана вашому Краудфандингу, буде видима в головному меню BTCPay Сервера.

#### Відображувана Назва

Назва, дана Краудфандингу для публіки.
#### Слоган
Надайте краудфандингу лаконічний слоган, щоб одразу зрозуміти, про що збір коштів.

![зображення](assets/en/107.webp)

#### URL головного зображення

Кожен краудфандинг має своє основне зображення, банер, який ви впізнаєте одразу. Це зображення може бути збережене на вашому сервері, якщо у вас є права адміністратора, адміністратори можуть завантажувати його в налаштуваннях сервера BTCPay Server - Файли. Коли ви власник магазину, зображення має бути завантажене в інтернет через сторонній хостинг (наприклад, imgur)

#### Зробити краудфандинг публічним

Цей перемикач робить ваш краудфандинг публічним і таким чином видимим для зовнішнього світу. Для тестування або щоб перевірити, чи правильно застосовано вашу тему, можна залишити цю опцію вимкненою на час створення краудфандингу.

#### Опис

Розкажіть світу про ваш краудфандинг, на що ви збираєте кошти? Все, що пояснює ваш краудфандинг, має бути тут.

![зображення](assets/en/108.webp)

#### Ціль краудфандингу

Встановіть цільову суму, яку має зібрати збір коштів для проекту, і в якій валюті має бути вказана ціль. Переконайтеся, що якщо ваші цілі встановлені між датами, включіть ці цільові та кінцеві дати під Цілями в краудфандингу.

![зображення](assets/en/109.webp)

#### Переваги

Переваги дуже допомагають у вашому краудфандингу. Це тому, що переваги дають людям спосіб взяти участь у вашій кампанії. Вони впливають на егоїстичні мотивації, так і на благодійні. І вони дозволяють вам звернутися до витрат ваших підтримувачів, а не лише до їхнього благодійного гаманця -- можна здогадатися, що є значнішим.

Створення нової переваги включає наступні поля:

- Назва
- Ціна (фіксована, мінімальна або на вибір)
- URL зображення
- Опис
- Кількість
- ID
- Текст кнопки купівлі
- Включити/Виключити

Після того, як власник магазину заповнить усі поля нової переваги, натисніть зберегти, і ви помітите, що розділ Переваги в краудфандингу тепер заповнений.

![зображення](assets/en/110.webp)

### BTCPay Server - Точка Продажу

#### Внески

Власники магазинів можуть вибирати, як відображати Переваги, як вони сортуються або навіть ранжуються порівняно з іншими перевагами. Однак, як тільки цілі Краудфандингу досягнуті, власники магазинів можуть захотіти зупинити потік пожертв на цей збір коштів. Тому він може включити опцію "Не дозволяти додаткові внески після досягнення цілі". Це зупинить краудфандинг від прийняття пожертв.

##### Поведінка краудфандингу

Стандарт краудфандингу враховує лише рахунки-фактури, створені з краудфандингом, до цілі. Однак, можуть бути випадки, коли власник магазину хоче, щоб усі рахунки-фактури, створені в цьому магазині, враховувалися до краудфандингу.

#### Додаткові опції для налаштування

BTCPay Server пропонує кілька додаткових налаштувань. Додайте звуки, анімації або навіть обговорення до краудфандингу. Власники магазинів також можуть змінити зовнішній вигляд краудфандингу, ввівши свій власний користувацький CSS.

#### Видалити цей додаток

Якщо власник магазину хоче повністю видалити краудфандинг зі свого BTCPay Server, внизу оновлення краудфандингу власники магазинів можуть натиснути на кнопку "Видалити цей додаток", щоб повністю знищити свій додаток краудфандингу. При натисканні "Видалити цей додаток", BTCPay Server запитає підтвердження, вимагаючи ввести `DELETE` та підтвердити натисканням кнопки Видалити. Після видалення власник магазину повертається до панелі керування BTCPay Server.

### BTCPay Server - Кнопка Оплати
Легко вбудовувані HTML та високо налаштовувані кнопки оплати дозволяють власникам магазинів отримувати чайові та пожертви. У лівій бічній панелі BTCPay Server, нижче розділу Плагіни, власники магазинів можуть натиснути на "Кнопку оплати" та натиснути Ввімкнути, щоб створити Кнопку оплати.

#### Загальні налаштування

У загальних налаштуваннях для Кнопки оплати, власники магазинів можуть встановити

- Стандартну ціну
- Валюту за замовчуванням
- Метод оплати за замовчуванням
  - Використовувати стандарт магазину
  - BTC через ланцюг
  - BTC поза ланцюгом (Lightning)
  - BTC поза ланцюгом (LNURL-pay)
- Опис при оформленні замовлення
- ID замовлення

#### Опції відображення

Кнопку оплати BTCPay Server можна налаштувати для різних стилів. Кнопки можуть мати фіксовану або користувацьку суму, яка показується за допомогою слайдера або кнопок плюс і мінус.

#### Використання модального вікна

При створенні кнопки оплати, власники магазинів можуть вибрати її поведінку, коли клієнт натискає на неї, і показати її у модальному вікні або як нову сторінку.

**!?Зауваження!?**

Увага: Кнопку оплати слід використовувати лише для чайових та пожертв

Використання кнопки оплати для інтеграції з електронною комерцією не рекомендується, оскільки користувач може змінювати інформацію, важливу для замовлення. Для електронної комерції ви повинні використовувати наш Greenfield API. Якщо цей магазин обробляє комерційні транзакції, ми радимо вам створити окремий магазин перед використанням кнопки оплати.

#### Налаштування тексту кнопки оплати

За замовчуванням на кнопці оплати BTCPay Server написано "Оплатити через BTCPay". Власники магазинів можуть встановити цей текст за своїм бажанням та змінити логотип BTCPay Server на свій. Встановіть текст, використовуючи "Текст кнопки оплати" та вставте URL зображення під "URL зображення кнопки оплати".

##### Розмір зображення

Розмір зображення на кнопці може бути встановлений лише на три стандарти.

- 146x40px
- 168x46px
- 209x57px

#### Тип кнопки

BTCPay Server знає про три стани Кнопки оплати.

- Фіксована сума
  - Попередньо встановлена ціна в загальних налаштуваннях кнопки.
- Користувацька сума
  - У Кнопки оплати BTCPay Server є перемикачі + і -, щоб встановити користувацьку ціну.
  - При використанні користувацької суми, BTCPay Server запитає мінімум, максимум та як поступово вона повинна збільшуватися.
  - Кнопки можуть бути встановлені на “Використовувати простий стиль вводу”. Це прибирає перемикачі +/-.
  - Вмістити кнопку в лінію, де кнопка та перемикачі з'являються в одному ряду.
- Слайдер
  - Схоже на користувацьку суму, однак візуально відрізняється, оскільки має слайдер замість перемикачів +/-.
  - При використанні слайдера, BTCPay Server запитає мінімум, максимум та як поступово вона повинна збільшуватися.

**!?Зауваження!?**

Видалення Кнопки оплати можна зробити вгорі в описі попередження.

#### Сповіщення про оплату

IPN сервера (Миттєве сповіщення про оплату) призначено для вебхуків і може бути заповнено URL-адресою для публікації даних після покупки.

#### Сповіщення електронною поштою

Коли оплата відбувається, BTCPay Server може сповістити власника магазину.

#### Перенаправлення браузера

Коли клієнт завершує покупку, він буде перенаправлений за цим посиланням, якщо власник магазину його встановив.

#### Розширені опції кнопки оплати

Вкажіть додаткові параметри рядка запиту, які мають бути додані до сторінки оформлення замовлення після створення інвойсу. Наприклад, `lang=da-DK` завантажить сторінку оформлення замовлення данською мовою за замовчуванням.

#### Використання додатку як кінцевої точки

Прямо посилайте кнопку оплати на товар у одному з додатків PoS або Crowdfund до цього.
Власники магазинів можуть натиснути на випадаюче меню та вибрати потрібний додаток; як тільки додаток вибрано, власник магазину може додати товар, який потрібно зв'язати.
#### Згенерований код

Оскільки кнопка оплати BTCPay Server є легко вбудовуваним HTML, BTCPay Server показує згенерований код для копіювання на вебсайт внизу після налаштування кнопки оплати.

Власники магазинів можуть скопіювати згенерований код на свій вебсайт, і кнопка оплати від BTCPay Server буде безпосередньо активна на їхньому вебсайті.

#### Сповіщення про оплату

IPN сервера (Миттєве сповіщення про оплату) призначено для вебхуків і може бути заповнено URL-адресою для публікації даних про покупку.

#### Сповіщення електронною поштою

Коли оплата відбувається, BTCPay Server може сповістити власника магазину.

#### Перенаправлення браузера

Коли клієнт завершує покупку, він буде перенаправлений на це посилання, якщо власник магазину його встановив.

#### Розширені опції кнопки оплати

Вкажіть додаткові параметри рядка запиту, які мають бути додані до сторінки оформлення покупки після створення інвойсу. Наприклад, `lang=da-DK` завантажить сторінку оформлення покупки датською мовою за замовчуванням.

#### Використання додатку як кінцевої точки

Пряме зв'язування кнопки оплати з товаром у одному з додатків PoS або Crowdfund до цього. Власники магазинів можуть натиснути на випадаюче меню та вибрати потрібний додаток, як тільки додаток вибрано, власник магазину може додати товар, який потрібно зв'язати.

#### Згенерований код

Оскільки кнопка оплати BTCPay Server є легко вбудовуваним HTML, BTCPay Server показує згенерований код для копіювання на вебсайт внизу після налаштування кнопки оплати. Власники магазинів можуть скопіювати згенерований код на свій вебсайт, і кнопка оплати від BTCPay Server буде безпосередньо активна на їхньому вебсайті.

### Підсумок навичок

У цьому розділі ви дізналися:

- Як використовувати інтегрований плагін PoS від BTCPay Server для легкого створення власного магазину
- Як використовувати інтегрований плагін Crowdfund від BTCPay Server для легкого створення власного краудфандингового додатку
- Генерація коду для власної кнопки оплати за допомогою плагіна Pay Button

### Оцінка знань

#### Перегляд KA

Які три вбудовані плагіни є стандартними для BTCPay Server? Коротко опишіть, як кожен з них може бути використаний.

# Налаштування BTCPay Server

<partId>ff38596c-7de3-5e5c-ba50-9b9edbbbb5eb</partId>

## Основне розуміння встановлення BTCPay Server в середовищі LunaNode

<chapterId>d0a28514-ffcf-529b-9156-29141f0b060a</chapterId>

### Встановлення BTCPay Server на хостингу (LunaNode)

Ці кроки нададуть всю необхідну інформацію для початку використання BTCPay Server на LunaNode. Існує багато варіантів розгортання програмного забезпечення.
Всі деталі про BTCPay Server можна знайти за адресою https://docs.btcpayserver.org.

#### З чого почати?

У цій частині ви ознайомитеся з LunaNode як провайдером хостингу, дізнаєтеся про перші кроки використання вашого BTCPay Server та дізнаєтеся, як працювати з Lightning Network. Після проходження всіх кроків ви зможете вести веб-магазин або платформу краудфандингу, яка приймає Bitcoin!

Це один із багатьох способів розгортання BTCPay Server. Читайте нашу документацію для отримання більш детальної інформації,

https://docs.btcpayserver.org.

### Розгортання BTCPay Server - LunaNode
Спочатку перейдіть на вебсайт LunaNode.com, де ми створимо новий обліковий запис. Натисніть на кнопку "Sign Up" у верхньому правому куті або скористайтеся майстром "Get Started" на їхній домашній сторінці.
![image](assets/en/111.webp)

Після того, як ви створили свій новий обліковий запис, LunaNode надсилає лист з підтвердженням. Одразу після верифікації облікового запису, на відміну від Voltage, вам одразу пропонується поповнити баланс облікового запису. Цей баланс необхідний для оплати простору сервера та витрат на хостинг.

![image](assets/en/112.webp)

#### Додайте кредит до вашого облікового запису LunaNode

Після того, як ви натиснете "Deposit credit", ви зможете встановити, скільки ви хочете поповнити свій обліковий запис і як ви хочете за це платити. LunaNode та BTCPay Server будуть коштувати між 10$USD та 20$USD на місяць.
На відміну від Voltage.cloud, ви отримуєте повний доступ до свого Віртуального Приватного Сервера (VPS з цього моменту) і тому маєте більше контролю над своїм сервером. Після створення вашого нового облікового запису, LunaNode надсилає лист з підтвердженням.
Одразу після верифікації облікового запису, на відміну від Voltage, вам одразу пропонується поповнити баланс облікового запису. Цей баланс необхідний для оплати простору сервера та витрат на хостинг.

#### Як розгорнути новий сервер?

У цьому посібнику ми пройдемося через налаштування, створивши набір API ключів і використовуючи запускач BTCPay Server, створений LunaNode.

У вашому панелі керування LunaNode натисніть API у верхньому правому куті. Це відкриє нову сторінку. Нам лише потрібно встановити Ім'я для API ключа. Решту зробить LunaNode і це не буде охоплено в цьому посібнику. Натисніть кнопку "Create API Credential".
Після створення API облікових даних, ви отримаєте довгий рядок літер і символів. Це ваш API ключ.

![image](assets/en/113.webp)

#### Як розгорнути новий сервер?

Є 2 частини цих облікових даних, API ключ і API ID; нам знадобляться обидва. Перед тим, як перейти до наступного кроку, давайте відкриємо другу вкладку в браузері та перейдемо на https://launchbtcpay.lunanode.com/

Тут вас попросять надати ваш API ключ і API ID. Це для того, щоб перевірити, що саме ви розгортаєте цей новий сервер. API ключ все ще має бути відкритий у попередній вкладці; якщо прокрутити вниз таблицю нижче, ви знайдете API ID.

Поверніться на сторінку з запускачем, заповніть поля вашим API ключем і ID, та натисніть продовжити.

![image](assets/en/114.webp)

На наступному кроці ви можете надати назву домену. Якщо ви вже володієте доменом і хочете використовувати його для BTCPay Server, переконайтеся, що ви також додали DNS запис (називається `A` запис) на вашому домені. Якщо ви не володієте доменом, використовуйте домен, наданий LunaNode (ви можете змінити це пізніше в налаштуваннях BTCPay Server) та натисніть Продовжити.

Дізнайтеся більше про налаштування або зміну DNS запису для BTCPay Server; https://docs.btcpayserver.org/FAQ/Deployment/#how-to-change-your-btcpay-server-domain-name

#### Запуск BTCPay Server на LunaNode

Після виконання попередніх кроків, ми можемо встановити всі опції для нашого нового сервера. Тут ми виберемо Bitcoin (BTC) як нашу підтримувану валюту; ми можемо встановити електронну пошту, щоб отримувати сповіщення про оновлення сертифікатів шифрування для цілей поновлення; це не обов'язково.
Цей посібник має на меті налаштування середовища Mainnet (реальний світ Bitcoin); однак, LunaNode також дозволяє вам встановити це для Testnet або Regtest для розробки. Ми залишимо опцію Mainnet для цього посібника.
Виберіть вашу реалізацію Lightning. LunaNode пропонує дві різні реалізації, LND та Core Lightning. Для цього посібника ми виберемо LND. Є невеликі, але справжні відмінності між обома реалізаціями; для більш детальної інформації, ми рекомендуємо прочитати розширену документацію; https://docs.btcpayserver.org/LightningNetwork#getting-started-with-btcpay-server-and-core-lightning-cln

![зображення](assets/en/115.webp)

LunaNode пропонує кілька планів Віртуальної Машини (VM). Вони відрізняються за ціновими діапазонами та специфікаціями сервера. Для цього посібника план m2 буде достатнім; однак, якщо ви вибрали більше, ніж лише Bitcoin як валюту, розгляньте використання принаймні m4.

Прискорення початкової синхронізації блокчейна; це необов'язково і залежить від ваших потреб. Є розширені опції, як-от встановлення Lightning Alias, вказівка на конкретний реліз GitHub, або налаштування SSH ключів; жодна з цих не буде торкнута в цьому посібнику.

Після заповнення форми, вам потрібно натиснути Launch VM, і Lunanode почне створення вашої нової VM, включно з встановленим на ній BTCPay Server. Цей процес займає кілька хвилин; як тільки ваш сервер буде готовий, LunaNode надасть вам посилання на ваш новий BTCPay Server.

Після процесу створення, натисніть на посилання до вашого BTCPay Server; тут вам буде запропоновано створити обліковий запис Адміністратора.

![зображення](assets/en/116.webp)

### Підсумок навичок

У цьому розділі ви дізналися:

- Створення та фінансування облікового запису на LunaNode
- Використання BTCPay Server Launcher для створення власного сервера

### Оцінка знань

#### Концептуальний огляд KA

Опишіть деякі відмінності між запуском інстанції BTCPay Server на VPS проти створення облікового запису на хостинговій інстанції.

## Встановлення BTCPay Server на середовищі Voltage

<chapterId>11c7d284-b4d2-5542-872c-df9bd9c1491b</chapterId>

Ви ознайомитеся з Voltage.cloud як з провайдером хостингу, дізнаєтесь про перші кроки використання вашого BTCPay Server, а також як працювати з Lightning Network. Після проходження всіх кроків, ви зможете вести веб-магазин або платформу для збору коштів, приймаючи Bitcoin!

Це один із багатьох способів розгортання BTCPay Server. Читайте нашу документацію для більш детальної інформації,
https://docs.btcpayserver.org.

### Розгортання BTCPay Server - Voltage.cloud

Спочатку перейдіть на вебсайт Voltage.cloud та зареєструйте новий обліковий запис. При створенні облікового запису ви можете підписатися на 7-денну безкоштовну пробну версію. Натисніть на "Sign Up" у верхньому правому куті або використовуйте "Try a free 7 day trial" на їхній домашній сторінці.

![зображення](assets/en/117.webp)

Після створення облікового запису натисніть кнопку `NODES` на вашій панелі керування. Одного разу ми вибрали Nodes і створили новий вузол, нам буде представлено можливі вузли, які пропонує Voltage. Оскільки цей посібник також охоплює LightningNetwork, на Voltage, спочатку ми повинні вибрати нашу реалізацію Lightning, перш ніж ми створимо BTCPay Server. Натисніть на LightningNode.

![зображення](assets/en/118.webp)
Тут вам доведеться вибрати, який тип вузла Lightning ви хочете. Voltage пропонує різноманітні опції для вашої системи освітлення. Це відрізняється від розгортання, наприклад, з LunaNode. Для цілей цього посібника достатньо Lite Node. Дізнайтеся більше про відмінності на Voltage.cloud.
![зображення](assets/en/119.webp)

Дайте вашому вузлу Ім'я, встановіть пароль і збережіть цей пароль у безпеці. Якщо цей пароль буде втрачено, ви втратите доступ до ваших резервних копій, і Voltage не зможе його відновити. Створіть вузол, і Voltage покаже вам прогрес. Voltage створив ваш Lightning Node. Тепер ми можемо створити інстанс BTCPay Server і безпосередньо отримати доступ до Lightning Network.

Натисніть на "Nodes" у верхньому лівому куті вашої панелі керування. Тут ви можете налаштувати наступну частину вашого інстансу BTCPay Server. Натисніть "створити новий", коли ви будете в огляді вузлів. Ви побачите екран, схожий на попередній. Тепер замість Lightning Node ми вибираємо BTCPay Server.

Voltage покаже вам геолокацію вашого BTCPay Server, Voltage розміщує хости в регіоні Захід США. Тут ви також побачите вартість хостингу сервера. Натисніть Створити і дайте вашому BTCPay Server ім'я. Увімкніть Lightning, і Voltage покаже вам Lightning вузол, створений на попередньому кроці. Натисніть Створити, і Voltage створить інстанс BTCPay Server.

![зображення](assets/en/120.webp)

Після того, як ви натиснете створити, Voltage представить вам стандартне ім'я користувача та пароль. Вони схожі на ваш попередньо встановлений пароль у Voltage. Натисніть кнопку Вхід до акаунту, щоб перенаправити вас до вашого BTCPay Server.

Ласкаво просимо до вашого нового інстансу BTCPay Server. Оскільки ми вже налаштували Lightning під час процесу створення, він показує, що Lightning вже увімкнено!

### Підсумок навичок

У цьому розділі ви дізналися:

- Як створити акаунт на Voltage.cloud
- Кроки для запуску BTCPay Server разом з вузлом Lightning на акаунті

### Оцінка знань

#### Концептуальний огляд KA

Які деякі ключові відмінності між налаштуваннями Voltage та LunaNode?

## Встановлення BTCPay Server на Umbrel вузлі

<chapterId>3298e292-6476-5fe0-836c-7fa021348799</chapterId>

На кінці цих кроків ви зможете приймати платежі через Lightning до вашого магазину BTCPay на локальній мережі. Цей процес також застосовується, якщо ви використовуєте Umbrel вузол у ресторані або бізнесі. Якщо ви хочете підключити цей магазин до публічного вебсайту, слідуйте розширеному вправі, щоб відкрити ваш Umbrel вузол для публічного доступу.

https://umbrel.com/

![зображення](assets/en/121.webp)

### Розгортання BTCPay Server - Umbrel

Після того, як ваш Umbrel вузол повністю синхронізується з блокчейном Bitcoin, перейдіть до Umbrel App Store і шукайте BTCPay Server серед додатків.

![зображення](assets/en/122.webp)

Натисніть на BTCPay Server, щоб побачити деталі додатку. Коли деталі BTCPay Server відкриті, внизу справа показані вимоги для належної роботи додатку. Там вказано, що він вимагає Bitcoin та Lightning вузол. Якщо ви ще не встановили Lightning вузол на вашому Umbrel, натисніть Встановити. Цей процес може зайняти кілька хвилин.

![зображення](assets/en/123.webp)

Після встановлення вашого Lightning вузла:

1. Натисніть відкрити в деталях додатку або на додатку в панелі керування Umbrels.
2. Натисніть налаштувати новий вузол; вам буде показано 24 слова для відновлення вашого Lightning вузла.
3. Запишіть їх.

![зображення](assets/en/124.webp)
Umbrel запитає підтвердження слів, які щойно були записані. Після налаштування вузла Lightning, поверніться до Магазину додатків Umbrel та знайдіть BTCPay Server. Натисніть кнопку встановлення, і Umbrel покаже, чи встановлені необхідні компоненти та чи потрібен BTCPay Server доступ до цих компонентів. Після встановлення натисніть Відкрити у верхньому правому куті деталей додатку або відкрийте BTCPay Server через панель керування вашого Umbrel.

Umbrel запитає підтвердження слів, які щойно були записані.

![зображення](assets/en/125.webp)

**!?Зауваження!?**

Переконайтеся, що зберігаєте їх у належному місці, як це було раніше вивчено при зберіганні ключів.

Після налаштування вузла Lightning, поверніться до Магазину додатків Umbrel та знайдіть BTCPay Server. Натисніть кнопку встановлення, і Umbrel покаже, чи встановлені необхідні компоненти та чи потрібен BTCPay Server доступ до цих компонентів.

![зображення](assets/en/126.webp)

Після встановлення натисніть Відкрити у верхньому правому куті деталей додатку або відкрийте BTCPay Server через панель керування вашого Umbrel.

![зображення](assets/en/127.webp)

### Підсумок навичок

У цьому розділі ви дізналися:

- Кроки встановлення BTCPay Server з функціоналом Lightning на вузлі Umbrel

### Оцінка знань

#### Концептуальний огляд

Як налаштування на Umbrel відрізняється від двох попередніх хостингових варіантів?

# Висновок

<partId>d72e6fa5-0870-5f00-9143-9466ed22e2bd</partId>



## Дайте нам зворотній зв'язок про цей курс
<chapterId>d90bb93d-b894-551e-9fd6-6855c739a904</chapterId>
<isCourseReview>true</isCourseReview>

## Висновок курсу

<chapterId>c07ac2a5-f97e-5c57-8a80-4955b48128d4</chapterId>

![зображення](assets/en/128.webp)

Ви також повинні мати загальне розуміння того, що таке Bitcoin, як він працює, і як він може масштабуватися за допомогою других рівнів, таких як Lightning Network. У цьому курсі ми детально розглянули, як будь-хто може використовувати BTCPay Server, від початкового встановлення до створення магазину та управління складними інвойсами, щоб стати фінансово незалежною особою або торговцем.

Вітаємо з завершенням цього курсу. Ми сподіваємося, що вам сподобався контент і ви продовжите використовувати та досліджувати BTCPay Server, а також радієте обіцяючому майбутньому Bitcoin та зростаючій спільноті розробників і учасників, як і ми.

> **FOSS неминучий.**

### Глосарій

| Термін                                        | Визначення                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 51% Атака                                  | Дія, спрямована на навмисне створення нового найдовшого ланцюга блоків для заміни блоків у блокчейні. Це дозволяє замінити транзакції, які були додані до блокчейну. Такий вид атаки найлегше виконати, коли у вас є більшість обчислювальної потужності, тому його називають "Атакою більшості" або "51% Атакою".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| AccountKey                                  | Ключ облікового запису для ребейзу                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| AccountKeyPath                              | Шлях від кореня до ключа облікового запису, який починається з відбитка майстер-публічного ключа.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Адреса                                      | Bitcoin адреси компактно кодують інформацію, необхідну для здійснення платежу одержувачу. Сучасна адреса складається з рядка літер та цифр, який починається з bc1 і виглядає як bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kv8f3t4. Адреса є скороченням для блокувального скрипта одержувача, який може бути використаний відправником для передачі коштів одержувачу. Більшість адрес або представляють публічний ключ одержувача, або деяку форму скрипта, який визначає більш складні умови витрат. Попередній приклад - це адреса bech32, яка кодує програму свідка, що блокує кошти до хешу публічного ключа (Див. Pay-to-Witness-Public-Key-Hash). Існують також старіші формати адрес, які починаються з 1 або 3, що використовують кодування адрес Base58Check для представлення хешів публічних ключів або хешів скриптів.                                                                                   || Тип Адреси                                  | Адреса може представляти кілька різних скриптів. Адреси кодуються та мають префікс для передачі їх типу скрипта. Старі адреси використовують Base58, і коли стара адреса є хешем публічного ключа, так звана адреса P2PKH, вона починається з ‘1’. Рідше стара адреса є хешем скрипта, в такому випадку вона почнеться з ‘3’. Наразі всі адреси SegWit кодуються в Bech32 і починаються з префікса ‘bc1’.                                                                                                                                                                                                                                                                                                                                                                                                               |
| Додаток                                     | BTCPay Server має плагіни, які можуть функціонувати як окремий додаток.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| BIP 329                                     | Експорт/імпорт міток гаманця                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| BIP49                                       | Визначає схему похідності для HD гаманців, які використовують формат серіалізації P2WPKH-вкладений-в-P2SH (BIP 141) для транзакцій з відокремленим свідком.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Bitcoin Адреса                              | Алфавітно-цифровий рядок, куди ви відправляєте свої біткоїни, тепер вони “живуть” там. Є ідентифікатором, який складається з рядка приблизно з 33 літер та цифр. У поточній версії протоколу адреса починається з 1, 3, або b. Наявність адреси одержувача є необхідною частиною для ініціації біткоїн-транзакції. Bitcoin адреси генеруються з публічних ключів, і з одного набору публічних ключів може бути згенеровано кілька адрес для покращення приватності. Bitcoin адреси діють так само, як електронна пошта, якщо ви хочете відправити повідомлення, вам потрібно знати, куди воно йде, те саме і з біткоїном. Перед відправленням біткоїн-транзакції, ви повинні переконатися, що адреса одержувача точна, оскільки біткоїн-транзакції є незворотними, і ви можете відправити біткоїни на адресу, яка не належить одержувачу. |
| bitcoin проти Bitcoin                        | Bitcoin - це монетарна мережа, а bitcoin (з маленької літери) - монетарна одиниця в мережі Bitcoin. Ви використовуєте валюту або токен bitcoin для здійснення транзакцій в мережі Bitcoin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Блок                                        | Блок - це структура даних в блокчейні Bitcoin, яка складається з заголовка та тіла транзакцій Bitcoin. Блок маркований часовою міткою та вказує на конкретний попередній (батьківський) блок. Коли заголовок блоку хешується, він надає доказ роботи, який робить блокчейн імовірно незмінним. Блоки повинні дотримуватися правил, що забезпечуються консенсусом мережі для розширення блокчейна. Коли блок додається до блокчейна, включені транзакції вважаються отримавшими своє перше підтвердження.                                                                                                                                                                                                                                                                                                                           |
| Провідник Блоків                            | Онлайн-інструмент, який дозволяє шукати реальну та історичну інформацію про блокчейн, включаючи дані, пов’язані з блоками, транзакціями, адресами та більше.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Хеш блоку                                   | Хеш блоку - це хеш SHA-256 даних блоку, який зазвичай представлений у шістнадцятковому форматі. Хеш блоку можна інтерпретувати як дуже велике число. Щоб задовольнити вимогу Proof-of-Work, хеш блоку має бути нижчим за певний поріг. Таким чином, всі хеші блоків починаються з серії нулів, за якими слідує буквено-цифровий рядок. Деякі блоки мають до двадцяти початкових нулів, тоді як у раніших блоках їх може бути всього вісім. Кількість нулів приблизно демонструє складність майнінгу на момент публікації блоку.                                                                                                                                                                                                                                                                                                 |
| Висота блоку                                | Кожен блок нумерується в порядку зростання, починаючи з нуля.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Винагорода за блок                          | Складається з субсидії за блок (новостворений біткойн) та суми всіх транзакційних комісій з транзакцій, включених у блок.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Розмір блоку                                | Кожен блок має обмежену кількість даних, які він може вмістити. Дані, які не вмістилися в певний блок, будуть записані в одному з наступних блоків. Що стосується блоків біткойна, раніше вони мали розмір блоку 1 МБ, однак після м'якого форку розмір блоку технічно може вміщати до 4 МБ даних.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Субсидія за блок                            | Кількість нового біткойна, що створюється в кожному блоку. Кожен вироблений блок, доданий до блокчейна, дозволяє творцю блоку створити певну кількість нового біткойна. Субсидія починалася з 50 BTC за блок і зменшується вдвічі кожні 210 000 блоків або приблизно кожні 4 роки.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Блокчейн                                    | Розподілений журнал або база даних усіх транзакцій біткойна. Транзакції групуються в окремі оновлення, називані блоками, обмежені до 4 мільйонів вагових одиниць. Блоки виробляються приблизно кожні 10 хвилин за допомогою стохастичного процесу, званого майнінгом. Кожен блок включає обчислювально інтенсивну "доказ роботи". Вимога доказу роботи використовується для регулювання інтервалів блоків і захисту блокчейна від атак з метою переписування історії: нападнику потрібно перевершити існуючий доказ роботи, щоб замінити вже опубліковані блоки, роблячи кожен блок імовірно незмінним, оскільки він закопаний під наступними блоками.                                                                                                                                                                                                                     |
| BTCPAY Server Vault                         | Для оптимального балансу між зручністю використання, безпекою та конфіденційністю рекомендується використовувати гаманець BTCPay Server з апаратним гаманцем. BTCPay Vault створений для з'єднання апаратного гаманця та BTCPay Server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Проблема візантійських генералів            | Проблема теорії ігор, яка описує труднощі, з якими децентралізовані сторони стикаються при досягненні консенсусу без покладання на довірену центральну сторону. Назва походить від сценарію, коли кілька генералів облогли Візантію. Вони оточили місто, але мають колективно вирішити, коли атакувати. Якщо всі генерали атакують одночасно, вони переможуть, але якщо вони атакують у різний час, вони програють. Генерали не мають безпечних каналів зв'язку один з одним, оскільки будь-які повідомлення, які вони надсилають або отримують, могли бути перехоплені або обманно відправлені захисниками Візантії. Як генерали можуть організуватися для одночасної атаки?                                                                                                                                                                                          |
| Цензура                                     | Контроль над тим, яку інформацію можна передавати масам. Що стосується біткойна, цензура стосується можливості зупинити транзакцію третіми сторонами.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Решта                                       | Частина UTXO, яка повертається до гаманця відправника, зазвичай через іншу адресу. Складається з суми входів мінус сума витрачена та комісія за транзакцію.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Child Pays For Parent (CPFP)                | Техніка збільшення комісії, при якій користувач витрачає вихід з непідтвердженої транзакції з низькою комісією у дочірній транзакції з високою комісією, щоб заохотити майнерів включити обидві транзакції в блок.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Coinbase Transaction                        | Перша транзакція в кожному блоку, яка розподіляє винагороду за блок та комісії за транзакції тому, хто замайнив блок.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Coincidence of Wants                        | Економічне явище, коли дві сторони мають предмет, який потрібен іншій стороні, тому вони обмінюються цими предметами безпосередньо без використання грошового посередника.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Cold Storage                                | Спосіб управління даними без підключення до інтернету.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Cold Wallet                                 | Тип біткойн-гаманця, який безпечно зберігає ваші приватні ключі офлайн, зазвичай на фізичному пристрої. Також відомий як апаратний гаманець, і він захищає ваші цифрові біткойни від онлайн-хакерів за допомогою пристрою, схожого на флеш-накопичувач, який не підключений до інтернету.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Command Line Interface (CLI)                | Взаємодія з пристроєм або комп'ютерною програмою за допомогою команд від користувача або клієнта та відповідей від пристрою або програми у вигляді рядків тексту.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Commitment Transaction                      | Транзакція зобов'язання - це біткойн-транзакція, підписана обома партнерами каналу, яка кодує останній баланс каналу. Кожного разу, коли здійснюється новий платіж або пересилання за допомогою каналу, баланс каналу оновлюється, і нова транзакція зобов'язання підписується обома сторонами. Важливо, що в каналі між Алісою та Бобом, обидва Аліса і Боб зберігають свою власну версію транзакції зобов'язання, яка також підписана іншою стороною. У будь-який момент канал може бути закритий будь-якою стороною, якщо вони подадуть свою транзакцію зобов'язання до біткойн-блокчейна. Подання старої (застарілої) транзакції зобов'язання вважається шахрайством (тобто порушенням протоколу) в Lightning Network і може бути покаране іншою стороною, яка заявляє всі кошти в каналі для себе через штрафну транзакцію. |
| Confirmation                                | Як тільки транзакція включена в блок, вона має одне підтвердження. Як тільки на блокчейні видобувається інший блок, транзакція отримує два підтвердження, і так далі. Шість або більше підтверджень вважаються достатнім доказом того, що транзакцію не можна скасувати.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Crowdfund (CF)                              | Плагін за замовчуванням BTCPay Server, який дозволяє власнику магазину легко створити типовий вебсайт для краудфандингу. Вони можуть легко встановити ціль, створити переваги для внесків і налаштувати його відповідно до своїх потреб.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Cryptography                                | Особлива система, в якій оригінальне повідомлення змінюється так, щоб його могли отримати тільки призначені одержувачі.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Dashboard                                   | Центральна сторінка посадки BTCPay Server. Вона надає огляд усієї активності магазину, відображеної на кількох підсумкових плитках.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Demo                                        | Відноситься до віртуального середовища, в якому відбуваються демонстрації програмного забезпечення.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Deployment                                  | Розгортання програмного забезпечення - це всі дії, які роблять програмну систему доступною для використання. Загальний процес розгортання складається з кількох взаємопов'язаних дій з можливими переходами між ними.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Шлях похідності                             | Частина даних, яка повідомляє ієрархічному детермінованому (HD) гаманцю, як отримати конкретний ключ у дереві ключів. Шляхи похідності використовуються як стандарт Bitcoin і були введені з HD гаманцями як частина BIP 32.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Регулювання складності                      | Коригування цілі складності кожні 2016 блоків (приблизно два тижні), щоб намагатися забезпечити, що блоки видобуваються раз на кожні 10 хвилин в середньому. Таким чином, створюється послідовний час між блоками та послідовне введення нових біткойнів у мережу (через винагороду за блок).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Ціль складності                             | Використовується у майнінгу, це число, яке хеш блоку має бути нижчим, щоб блок був доданий до блокчейна.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Цифровий підпис                             | Цифровий підпис - це математична схема для перевірки автентичності та цілісності цифрових повідомлень або документів. Його можна розглядати як криптографічне зобов'язання, в якому повідомлення не приховане.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Ділимість                                   | Властивість товару, який можна розділити на менші частини без втрати вартості. Оскільки економічні транзакції часто відбуваються в різних сумах, валюта має бути ділимою, щоб широко використовуватися в економіці.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Docker                                      | Програмне забезпечення, яке пакує програмне забезпечення в стандартизовані одиниці, звані контейнерами, які містять все необхідне для роботи програми, включаючи бібліотеки, системні інструменти, код та середовище виконання.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Подвійне витрачання                         | Результат успішного витрачання деяких грошей більше ніж один раз. Bitcoin захищає від подвійного витрачання, перевіряючи, що кожна транзакція, додана до блокчейна, дотримується правил консенсусу; це означає перевірку того, що вхідні дані для транзакції не були раніше витрачені.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Довговічність                               | Властивість грошей, за якої валюта може зберігати свій оригінальний стан з часом і витримувати повторне використання. Довговічна валюта повинна витримувати потенційні пошкодження.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Electrum                                    | Electrum - один з найпопулярніших гаманців Bitcoin, створений у 2011 році.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Розширений публічний ключ (Xpub)            | Розширений публічний ключ, також відомий як Xpub, публічний ключ, який функціонує як батько для ключів, що походять від xpub як особливість HD гаманця. Цей Xpub є стандартом, введеним у BIP 32. Гаманці використовують його за лаштунками для отримання публічних ключів. Поділ Xpub не рекомендується, ваші кошти не будуть безпосередньо ризикувати бути переміщеними, xpub не може отримати приватні ключі. Перевага поділу xpub може бути для цілей краудфандингу в BTCPay Server. Xpub передається через онлайн-засоби, тоді як приватні ключі залишаються офлайн на HWW.                                                                                                                                                                                                                                                                                             |
| F.U.D.                                      | Скорочення для Страх, невизначеність і сумнів; Зазвичай викликається навмисно, щоб поставити конкурента в невигідне становище.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Комісія                                     | У контексті Lightning Network, вузли будуть стягувати комісійні за пересилання платежів інших користувачів. Окремі вузли можуть встановлювати власні політики комісій, які будуть розраховуватися як сума фіксованої базової плати та ставки комісії, яка залежить від суми платежу. У контексті Bitcoin, відправник транзакції платить комісію майнерам за включення транзакції в блок. Комісії за транзакції Bitcoin не включають базову плату і залежать лінійно від ваги транзакції, але не від суми.                                                                                                                                                                                                                                                                                                                              |
| Fiat                                        | Валюта, що випускається державою і не підкріплена товаром, наприклад золотом.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Finite                                      | Відноситься до обмеженої кількості Bitcoin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Fork                                        | Зміна в протоколі або частині коду. Forks зазвичай вводяться для оновлення проекту. У спільноті відкритого коду forks існують, оскільки багато осіб вирішують завантажувати та використовувати одне й те саме програмне забезпечення в різний час і не завжди оновлюються. Якщо два користувачі завантажують і використовують версію 1 програмного забезпечення, і лише один користувач оновлюється, коли випускається версія 2, користувач, який оновився, використовує fork версії 1.                                                                                                                                                                                                                                                                                                                                                                                     |
| Funding Transaction                         | Транзакція, що використовується для відкриття платіжного каналу. Значення (у bitcoin) фінансувальної транзакції точно відповідає потужності платіжного каналу. Вихід фінансувальної транзакції є 2-з-2 мультипідписовим скриптом (multisig), де кожен партнер каналу контролює один ключ. Завдяки своїй multisig природі, вона може бути витрачена лише за взаємною згодою між партнерами каналу. Вона буде витрачена однією з транзакцій зобов'язань або закриваючою транзакцією.                                                                                                                                                                                                                                                                                                                                                                                     |
| Fungible                                    | Бути чимось (таким як гроші або товар), що має таку природу, що одна частина або кількість може бути замінена іншою рівною частиною або кількістю при сплаті боргу або врегулюванні рахунку.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Gap Limit                                   | Відноситься до стандартної кількості публічних адрес, які перевіряються на наявність транзакцій у блокчейні для розрахунку балансу рахунку. Транзакції, отримані на адресу за межами ліміту проміжку адрес, не виявляються.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Genesis Block                               | Перший блок у блокчейні Bitcoin. Сатоші Накамото, творець Bitcoin, видобув Genesis блок 3 січня 2009 року і включив у нього заголовок того дня з Financial Times, “Chancellor on brink of second bailout for banks.”                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Github                                      | Платформа та хмарний сервіс для розробки програмного забезпечення та контролю версій за допомогою Git, що дозволяє розробникам зберігати та керувати своїм кодом.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Gossip Protocol                             | Вузли LN надсилають та отримують інформацію про топологію Lightning Network через повідомлення gossip, які обмінюються з їх пірами. Gossip протокол головним чином визначений у BOLT #7 і визначає формат повідомлень node_announcement, channel_announcement та channel_update. Щоб запобігти спаму, повідомлення про оголошення вузла будуть пересилатися лише в тому випадку, якщо вузол вже має канал, а повідомлення про оголошення каналу будуть пересилатися лише в тому випадку, якщо фінансувальна транзакція каналу була підтверджена мережею Bitcoin. Зазвичай, вузли Lightning з'єднуються зі своїми партнерами по каналу, але цілком прийнятно з'єднуватися з будь-яким іншим вузлом Lightning для обробки повідомлень gossip.                                                                                                                                                 |
| Gresham's Law                               | Закон, який стверджує, що “погані гроші витісняють хороші”. Іншими словами, в економіці, де використовуються дві валюти, люди будуть витрачати погані гроші, які постійно знецінюються, і зберігати хороші гроші, які зберігають свою вартість. Таким чином, погані гроші будуть домінувати з точки зору обігу та використання в повсякденних транзакціях, тоді як хороші гроші будуть домінувати з точки зору заощаджень та довгострокових інвестицій.                                                                                                                                                                                                                                                                                                                                                                                                         |
| Halving                                     | Подія, яка зменшує швидкість випуску bitcoin наполовину кожні 210,000 блоків (приблизно кожні чотири роки).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Hard Fork                                   | Зміна консенсусу, яка не є сумісною з попередніми версіями. Несумісність з попередніми версіями виникає, коли раніше недійсна поведінка стає дійсною. Для підтримки консенсусу після жорсткого розділення, всі вузли мережі повинні бути оновлені. В іншому випадку, старі вузли будуть відхиляти транзакції або блоки як недійсні за старими правилами, тоді як оновлені вузли приймуть їх як дійсні. З цієї причини в Bitcoin намагаються уникати жорстких розділень за будь-яку ціну.                                                                                                                                                                                                                                                                                                                                                                                                           |
| Hardware Wallet (HWW)                       | Спеціальний тип Bitcoin гаманця, який зберігає приватні ключі користувача в безпечному апаратному пристрої.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Hash Function                               | Криптографічна хеш-функція - це математичний алгоритм, який перетворює дані довільного розміру в бітовий рядок фіксованого розміру (хеш) і призначений для того, щоб бути односторонньою функцією, тобто функцією, яку неможливо обернути. Єдиний спосіб відтворити вхідні дані з виходу ідеальної криптографічної хеш-функції - це спроба грубої сили пошуку можливих вхідних даних, щоб перевірити, чи вони дають збіг.                                                                                                                                                                                                                                                                                                                                                                                                           |
| Hash Rate                                   | Міра того, скільки хешів майнери виробляють за секунду в мережі Bitcoin. Один хеш - це спроба створити Доказ-Роботи для блоку.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Hot Wallet                                  | Пристрій з зовнішніми з'єднаннями, особливо з інтернетом. Гарячий гаманець - це Bitcoin гаманець, який підключений до інтернету. Такі гаманці зручніші для повсякденних витрат, але не такі безпечні, як варіанти холодного зберігання, оскільки вони взаємодіють з інтернетом.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Initial Block Download (IBD)                | Процес побудови повного блокчейна Bitcoin з нуля. Коли новий вузол налаштовується і приєднується до мережі, він підключається до інших вузлів і запитує у них блоки. Новий вузол обробляє ці блоки і будує блокчейн, поки не наздожене і не синхронізується з мережею.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Invoice                                     | Комерційний документ, виданий продавцем покупцю, що стосується транзакції продажу і вказує продукти, кількості та домовлені ціни за продукти або послуги, які продавець надав покупцю.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Know Your Customer (KYC)                    | Закони, призначені для запобігання використання фінансових установ для незаконних грошових переказів, вимагаючи, щоб всі фінансові рахунки були ідентифіковані для осіб або організацій.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Layer 2                                     | Мережа, побудована поверх блокчейна, наприклад, Lightning Network.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Legacy Address                              | Legacy адреси використовують Base58, і коли legacy адреса є хешем публічного ключа, так звана P2PKH адреса, вона починається з ‘1’.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Lightning Network                           | Протокол поверх Bitcoin. Він створює мережу платіжних каналів, яка дозволяє бездовірче пересилання платежів через мережу за допомогою HTLC та маршрутизації через цибулю. Інші компоненти Lightning Network включають протокол сплету, транспортний шар та запити на платежі.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Liquidity                                   | Міра кількох характеристик книги замовлень певного активу на даному ринку. Ліквідність є індикатором того, який вплив на ціну активу матиме велике замовлення. Актив з більшою ліквідністю має глибшу глибину книги замовлень. Це означає, що він зможе поглинути більше замовлень з меншими рухами ціни.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Найдовший ланцюг                            | Ланцюг блоків, на створення якого було витрачено найбільше зусиль. Названий так, оскільки інтуїтивно блокчейн з більшою кількістю блоків у ньому вимагав більше енергії для побудови, ніж ланцюг з меншою кількістю блоків, але точніше це ланцюг, на створення якого було потрібно більше роботи, тому кращою назвою могло бути "найважчий ланцюг".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Основний ланцюг                             | У контексті Lightning Network це відноситься до Bitcoin мережі.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Засіб обміну                                | Тип товару, який полегшує обмін іншими товарами та послугами в економіці. Історично, такі предмети, як мушлі, намистини та золото, використовувалися як засоби обміну.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Mempool                                     | Скорочення від "пул пам'яті", це тимчасове сховище для транзакцій, які були отримані вузлом.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Майнер                                      | Вузол, зайнятий процесом побудови блокчейну шляхом додавання нових блоків через процес хешування.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Майнінг                                     | Процес створення блоку з недавніх транзакцій Bitcoin і потім вирішення обчислювальної проблеми, необхідної як доказ роботи. Це процес, за допомогою якого оновлюється спільний реєстр Bitcoin (тобто блокчейн Bitcoin) і до якого включаються нові транзакції. Це також процес, за допомогою якого випускається новий bitcoin. Кожного разу, коли створюється новий блок, майнінговий вузол отримує новий bitcoin, створений у транзакції coinbase цього блоку.                                                                                                                                                                                                                                                                                                                                                                      |
| Мультипідпис (multisig)                     | Скрипт, який вимагає більше ніж один підпис для авторизації витрат. Платіжні канали завжди кодуються як адреси multisig, що вимагають одного підпису від кожного партнера платіжного каналу. У стандартному випадку двостороннього платіжного каналу використовується адреса multisig 2 з 2.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Вузол                                       | Комп'ютер, який бере участь у мережі. Зокрема, у мережах Bitcoin або Lightning.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Вихід                                       | Пакет біткойнів, створений у біткойн-транзакції.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Блокування виходу                           | Набір вимог, які ставляться до виходу. Ці вимоги мають бути виконані, щоб можна було використовувати вихід у транзакції. Найпоширеніший приклад - проста вимога мати приватний ключ.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| P2SH адреса                                 | P2SH адреси - це Base58Check кодування 20-байтового хешу скрипта. P2SH адреси починаються з "3". P2SH адреси приховують усю складність, так що відправник платежу не бачить скрипт.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| P2WPKH адреса                               | Формат адреси "рідний SegWit v0", P2WPKH адреси кодуються у форматі bech32 і починаються з "bc1q".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| P2WSH адреса                                | Формат адреси скрипта "рідний Segwit v0", P2WSH адреси кодуються у форматі bech32 і починаються з "bc1q".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Частково підписана біткойн-транзакція (PSBT) | Стандарт Bitcoin, який полегшує портабельність непідписаних транзакцій, що дозволяє кільком сторонам легко підписувати одну й ту саму транзакцію. Це найкорисніше, коли кілька сторін хочуть додати входи до однієї транзакції. PSBT було введено BIP 174 і дозволяє користувачам легше підписувати транзакції на пристрої холодного зберігання, а потім транслювати підписану транзакцію з пристрою, підключеного до Інтернету.                                                                                                                                                                                                                                                                                                                                                          |
| Пошук шляху                                 | Процес знаходження шляху для платежу від джерела до призначення в Lightning Network.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Pay-to-Public-Key-Hash (P2PKH)              | P2PKH - це тип виходу, який блокує біткойни на хеш публічного ключа. Вихід, заблокований скриптом P2PKH, може бути розблокований (витрачений) шляхом пред'явлення публічного ключа, що відповідає хешу, та цифрового підпису, створеного відповідним приватним ключем.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Pay-to-Script-Hash (P2SH)                   | P2SH - це універсальний тип виходу, який дозволяє використовувати складні Bitcoin скрипти. З P2SH складний скрипт, який деталізує умови витрати виходу (скрипт викупу), не представлений у блокувальному скрипті. Натомість, значення блокується на хеш скрипта, який має бути представлений і виконаний для витрати виходу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Pay-to-Taproot (P2TR)                       | Активований у листопаді 2021 року, Taproot - це новий тип виходу, який блокує біткойни на дерево умов витрати або на одну кореневу умову.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Pay-to-Witness-Public-Key-Hash (P2WPKH)     | P2WPKH - це еквівалент SegWit для P2PKH, який використовує відокремлений свідок. Підпис для витрати виходу P2WPKH поміщається в дерево свідків замість поля ScriptSig.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Pay-to-Witness-Script-Hash (P2WSH)          | P2WSH - це еквівалент SegWit для P2SH, який використовує відокремлений свідок. Підпис та скрипт для витрати виходу P2WSH поміщаються в дерево свідків замість поля ScriptSig.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Payjoin                                     | Особливий тип транзакції Bitcoin, де як відправник, так і отримувач вносять входи, щоб порушити загальноприйняту евристику власності входів, припущення, яке використовується для зниження приватності користувачів біткойнів.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Платіжний канал                             | Фінансові відносини між двома вузлами в Lightning Network, створені за допомогою біткойн-транзакції на адресу мультипідпису. Партнери каналу можуть використовувати канал для відправлення біткойнів один одному без необхідності реєстрації всіх транзакцій в блокчейні Bitcoin. У типовому платіжному каналі лише дві транзакції, транзакція фінансування та транзакція зобов'язань, додаються до блокчейну. Платежі, відправлені через канал, не записуються в блокчейн і вважаються такими, що відбуваються "поза ланцюгом".                                                                                                                                                                                                                                                                           |
| Запит на платіж                             | Функція, яка дозволяє власникам магазинів BTCPay створювати довготривалі інвойси. Фонди, сплачені на запит платежу, використовують курс обміну на момент платежу. Це дозволяє користувачам робити платежі на свій розсуд без необхідності узгодження або перевірки курсів обміну з власником магазину на момент платежу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Виплата                                      | Функціональність виплати пов'язана з Pull Payments. Ця функція дозволяє обробляти пулові платежі (повернення коштів, виплати зарплати або зняття коштів).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Плагін                                      | Додаткове програмне забезпечення, яке встановлюється на програму, розширюючи її можливості.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Точка продажу (PoS)                         | Стандартний плагін сервера BTCPay, який дозволяє власнику магазину створити веб-магазин безпосередньо з сервера BTCPay. Власнику магазину не потрібні сторонні електронні комерційні рішення для ведення веб-магазину.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Портативність                               | Здатність товару легко транспортуватися у просторі. Портативність є важливою характеристикою звукових грошей; для того, щоб гроші були широко прийняті, а отже, використовувані, вони мають легко переміщуватися через кордони, між особами та на довгі відстані з відносною легкістю.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Доказ Роботи (PoW)                          | Дані, які вимагають значних обчислень для знаходження, і які будь-хто може легко перевірити, щоб довести обсяг роботи, яка була необхідна для їх створення. У Bitcoin, майнери повинні знайти числове рішення для алгоритму SHA-256, яке відповідає загальносетевому критерію, названому цільовим критерієм складності.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Псевдонім                                   | Вигадане ім'я, яке особи використовують для захисту своєї ідентичності або для створення репутації, відокремленої від їхньої реальної ідентичності. Публічні ключі використовуються, щоб користувачі Bitcoin могли отримувати біткоїни, залишаючись псевдонімними щодо блокчейну.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Криптографія з відкритим ключем             | Включає в себе пару ключів, відомих як відкритий ключ та приватний ключ, які асоційовані з суб'єктом, який потребує електронної аутентифікації своєї ідентичності або для підпису чи шифрування даних. Відкритий ключ публікується, а відповідний приватний ключ зберігається в таємниці. Дані, зашифровані з відкритим ключем, можуть бути розшифровані лише з відповідним приватним ключем.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Відкритий/Приватний ключ                    | Пара ключів, що використовуються в криптографії з відкритим ключем. Відкритий ключ ділиться з іншими відкрито і може розглядатися як номер рахунку, тоді як приватний ключ зберігається в таємниці і може розглядатися як пароль.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Платіж на Вимогу                            | Традиційно, для здійснення платежу в Bitcoin, одержувач ділиться своєю біткоїн-адресою, а відправник пізніше надсилає гроші на цю адресу. Така система називається платежем на вимогу, оскільки відправник ініціює платіж, тоді як одержувач може бути недоступний, фактично "надсилаючи" платіж одержувачу. Замість типового сценарію, коли відправник "надсилає" платіж, відправник дозволяє одержувачу вимагати платіж у зручний для нього час.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Кроляча Нора                                | Посилання на "Алісу в Країні Чудес", де герой розпочинає пригоду, занурюючись у кролячу нору. У контексті Bitcoin це означає здавалося б безкінечні теми, які людина досліджує та бачить у новому світлі, почавши розуміти Bitcoin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Отримання                                   | Процес отримання біткоїнів на надану адресу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Реєстрація                                  | Процес створення облікового запису або реєстрації в сервісі, який зазвичай включає вибір імені користувача та пароля.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Заміна через Комісію (RBF)                  | Транзакція Bitcoin може бути позначена як RBF, щоб дозволити відправнику замінити цю транзакцію іншою подібною транзакцією, яка передбачає вищу комісію. Цей механізм існує, щоб користувачі могли реагувати, якщо мережа стає перевантаженою і комісії несподівано зростають.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Репозиторій                                 | У системах контролю версій репозиторій є структурою даних, яка зберігає метадані для набору файлів або структури директорій.[1] Залежно від того, чи є система контролю версій розподіленою, як Git або Mercurial, або централізованою, як Subversion, CVS або Perforce, весь набір інформації в репозиторії може бути дубльований на системі кожного користувача або зберігатися на одному сервері.[2] Деякі з метаданих, які містить репозиторій, включають, серед іншого, історичний запис змін у репозиторії, набір об'єктів комітів та набір посилань на об'єкти комітів, названих головами.                                                                                                                                                                                                                                  |
| Пересканування                              | Процес сканування поточного стану набору UTXO для монет, що належать до раніше налаштованої схеми похідних.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Ключ Відкликання                            | Кожен Контракт з Послідовністю Зрілості, що Може Бути Відкликаний (RSMC), містить два ключі відкликання. Кожен партнер каналу знає один ключ відкликання. Знаючи обидва ключі відкликання, вихід RSMC може бути витрачений протягом попередньо визначеного таймлоку. Під час переговорів про новий стан каналу, старі ключі відкликання діляться, тим самим "відкликаючи" старий стан. Ключі відкликання використовуються для запобігання трансляції старого стану каналу партнерами каналу.                                                                                                                                                                                                                                                                                                                                                   |
| Маршрутизація                               | Процес використання шляху Мережі Блискавки для здійснення платежу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Комісії за Маршрутизацію                    | У Мережі Блискавки комісії, що стягуються за пересилання платежів інших користувачів. Окремі вузли можуть встановлювати власні політики комісій, які будуть розраховуватися як сума фіксованої базової плати та ставки комісії, що залежить від суми платежу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Продаваність                                | Легкість, з якою товар можна продати на ринку, коли його власник бажає, з мінімальними втратами в його ціні.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Сатоші (sat)                                | Сатоші - це найменша одиниця (номінал) біткойна, яка може бути записана в блокчейні. Один сатоші становить 1/100 мільйона (0.00000001) біткойна і названий на честь творця Біткойна, Сатоші Накамото.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Сатоші Накамото                             | Ім'я, яке використовувала особа або група осіб, які розробили Біткойн і створили його оригінальну референтну реалізацію. У рамках реалізації вони також розробили першу базу даних блокчейна. У процесі вони були першими, хто вирішив проблему подвійних витрат для цифрової валюти. Їхня справжня ідентичність залишається невідомою.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Сатоші за Байт                              | Одиниця вимірювання пріоритету транзакції, визначена як комісія транзакції в сатоші, поділена на розмір транзакції в байтах.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Сатоші за Верабайт                          | Концепція, схожа на Сатоші за Байт, але для новіших адрес, що використовують Segwit. Дорівнює розміру транзакції у вагових одиницях, поділеному на 4. Вагові одиниці розраховуються шляхом множення розміру транзакції (без свідка) на 3, доданого до розміру транзакції, включаючи свідка.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Дефіцитність                                | Властивість товару, який не може бути безкоштовно відтворений. Дефіцитність не залежить від кількості існуючих одиниць товару, а скоріше від вартості виробництва більшої кількості одиниць.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Скрипт                                      | Біткойн використовує систему скриптів для транзакцій, названу Bitcoin Script. Нагадуючи мову програмування Forth, вона є простою, базується на стеку і обробляється зліва направо. Вона навмисно є Тьюрінг-неповною, без циклів або рекурсії.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Сід-Фраза                                   | Список слів, який зберігає всю інформацію, необхідну для відновлення коштів Біткойн в блокчейні. Програмне забезпечення гаманця зазвичай генерує сід-фразу і інструктує користувача записати її на папері. Якщо комп'ютер користувача зламається або його жорсткий диск стане пошкодженим, вони можуть знову завантажити те саме програмне забезпечення гаманця і використовувати паперовий резервний варіант, щоб повернути свої біткойни.                                                                                                                                                                                                                                                                                                                                                                                                       |
| Segregated Witness (SegWit)                 | Segregated Witness (SegWit) — це оновлення протоколу Bitcoin, введене в 2017 році, яке додає нове поле свідка для підписів та інших доказів авторизації транзакцій. Це нове поле свідка не враховується при розрахунку ідентифікатора транзакції, що вирішує більшість класів змінюваності транзакцій третіми сторонами. Segregated Witness було впроваджено як м'яке розгалуження і є зміною, яка технічно робить правила протоколу Bitcoin більш обмежувальними.                                                                                                                                                                                                                                                                                                                                                                                                                |
| Self-Sovereignty                            | Модель управління цифровими ідентифікаторами, в якій індивіди або бізнеси мають виняткове право власності на можливість контролювати свої акаунти та особисті дані.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Send                                        | Процес відправлення біткоїнів на адресу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Sensitivity Mode                            | Активується через перемикач у налаштуваннях магазину, результатом є приховування числових значень (наприклад, кількість біткоїнів) у всіх переглядах.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Server Settings                             | Налаштування в BTCPay Server, які застосовуються на рівні сервера (на відміну від налаштувань магазину, які обмежені одним магазином).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| SHA-256                                     | Криптографічна хеш-функція. Є членом сімейства хеш-функцій, відомих як функції Secure Hashing Algorithm (SHA).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Shopify                                     | Канадська багатонаціональна електронна комерційна компанія з головним офісом в Оттаві, Онтаріо. Shopify — це назва її власної електронної платформи для онлайн-магазинів та систем роздрібної торгівлі.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| SMTP                                        | Простий протокол передачі пошти (Simple Mail Transfer Protocol) — стандартний протокол комунікацій в Інтернеті для передачі електронних листів.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Soft Fork                                   | Оновлення протоколу, яке сумісне вперед і назад, тому дозволяє старим і новим вузлам продовжувати використовувати один і той же ланцюг.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Software Stack                              | У комп'ютерних науках, набір програмного забезпечення або стек програмного забезпечення — це набір програмних підсистем або компонентів, необхідних для створення повної платформи таким чином, щоб додаткове програмне забезпечення не було потрібно для підтримки додатків.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Store                                       | Магазин у BTCPay Server можна розглядати як "Дім" для конкретного біткоїн-гаманця, розширений усіма функціями BTCPay Server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Store Settings                              | Налаштування в BTCPay Server, специфічні для магазину.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Taproot                                     | Оновлення Bitcoin, яке вводило б кілька нових функцій. Оновлення описано в BIPs 340, 341, і 342, і вводить схему підпису Schnorr, Taproot, і Tapscript. Разом ці оновлення вводять нові, більш ефективні, гнучкі та приватні способи передачі біткоїнів.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Thier's Law                                 | Закон, який стверджує, що гарні гроші витісняють погані.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Third-Party Host                            | Коли вебсайт індивіда або компанії розміщений на серверах, які належать і управляються іншою компанією. Альтернативою є розміщення вашого вебсайту на ваших серверах у власному дата-центрі.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Timelock                                    | Таймлок — це тип обтяження, яке обмежує витрату деяких біткоїнів до вказаного майбутнього часу або висоти блоку. Таймлоки широко використовуються в багатьох Bitcoin-контрактах, включаючи платіжні канали та HTLCs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Топологія                                    | Топологія Lightning Network описує форму Lightning Network як математичний граф. Вузли графа - це вузли Lightning (учасники мережі/піри). Ребра графа - це платіжні канали. Топологія Lightning Network публічно транслюється за допомогою протоколу gossip, за винятком неоголошених каналів. Це означає, що Lightning Network може бути значно більшою, ніж оголошена кількість каналів та вузлів. Знання топології є особливо цікавим у процесі маршрутизації платежів на основі джерела, в якому відправник виявляє маршрут.                                                                                                                                                                                                                           |
| Транзакція                                   | Транзакції - це структури даних, які використовуються Bitcoin для переказу біткоїнів з однієї адреси на іншу. Декілька тисяч транзакцій агрегуються в блок, який потім записується (майниться) на блокчейні. Перша транзакція в кожному блоку, названа транзакцією coinbase, генерує нові біткоїни.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Ідентифікатор транзакції (Transaction ID)    | Рядок літер та цифр, який ідентифікує конкретну транзакцію на блокчейні. Рядок є просто подвійним хешем SHA-256 транзакції. Цей хеш можна використовувати для пошуку транзакції на вузлі або експлорері блоків.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Двофакторна аутентифікація (2FA)             | Метод безпеки управління ідентичністю та доступом, який вимагає дві форми ідентифікації для доступу до ресурсів та даних, часто з використанням другого пристрою на додаток до стандартного пароля для входу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Нецензурованість                             | Властивість, за якою жодна сутність не має можливості скасувати транзакцію Bitcoin або чорний список гаманця або адреси.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Неконфіскованість                            | Властивість, за якою жодна сутність не може взяти біткоїни у сутності проти її волі.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Невитрачені вихідні транзакції (UTXO)        | Вихідні дані, які ще не були витрачені, отже доступні для використання в нових транзакціях.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Досвід користувача (UX)                      | Як користувач взаємодіє з продуктом, системою або сервісом та його досвід. Це включає сприйняття людиною корисності, легкості використання та ефективності.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Інтерфейс користувача (UI)                   | Точка взаємодії та комунікації людини з комп'ютером у пристрої.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Перевіряємість                               | Властивість товару, який можна легко відрізнити від підробок та контрафактних товарів.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Віртуальний                                  | Існує на комп'ютері або моделюється на комп'ютерній мережі.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Віртуальна машина (VM)                       | У комп'ютерних науках, віртуальна машина - це віртуалізація або емуляція комп'ютерної системи. Віртуальні машини базуються на архітектурі комп'ютерів і забезпечують функціональність фізичного комп'ютера. Їх реалізації можуть включати спеціалізоване обладнання, програмне забезпечення або їх комбінацію.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Віртуальний приватний сервер                 | Віртуальний приватний сервер - це віртуальна машина, яка продається як сервіс інтернет-хостинговою службою. Термін "віртуальний присвячений сервер" також має подібне значення. Віртуальний приватний сервер працює зі своєю копією операційної системи, і клієнти можуть мати рівень доступу суперкористувача до цієї інстанції операційної системи, тому вони можуть встановлювати майже будь-яке програмне забезпечення, яке працює на цій ОС.                                                                                                                                                                                                                                                                                                                                                   |
| Волатильність                                | Міра ступеня зміни ціни активу з часом. Активи, які регулярно зазнають великих змін у ціні, є більш волатильними, тоді як активи з більш стабільною ціною є менш волатильними.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Гаманець                                      | Біткойн-гаманці зберігають ключі користувача, дозволяючи користувачам отримувати біткойни, підписувати транзакції та перевіряти баланс свого рахунку. Приватні та публічні ключі, що зберігаються у біткойн-гаманці, виконують дві різні функції, але створюються разом. Біткойн-гаманці містять ключі користувача, а не їхні фактичні біткойни. Концептуально, гаманець схожий на брелок, оскільки він тримає багато пар приватних та публічних ключів. Ці ключі використовуються для підписання транзакцій, дозволяючи користувачу довести, що він володіє виходами транзакцій у блокчейні, тобто їхніми біткойнами. Всі біткойни записані у блокчейні у формі виходів транзакцій.                                                                                                                                                                                                                      |
| Wasabi Wallet                               | Відкритий, некастодіальний, зосереджений на конфіденційності біткойн-гаманець для робочого столу, який реалізує бездовірний CoinJoin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Гаманець лише для перегляду                           | Біткойн-гаманці, які дозволяють вам стежити за вашими біткойнами в холодному зберіганні, водночас вимикаючи можливість витрачати кошти. Це тому, що гаманці лише для перегляду не зберігають або не використовують приватні ключі, і тому не можуть авторизувати будь-які витрати від імені користувача.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Вал                                                                 | У контексті Біткойна, валом називають когось, хто володіє великою кількістю біткойнів.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| White-Label                                 | Продукт або послуга White-Label виробляється однією компанією, але інші компанії ребрендують її, щоб створити враження, ніби вони її створили.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Вайтпейпер                                  | Представляє нову ідею або тему для обговорення. Вайтпейпер Біткойна представив Біткойн як "Електронну пірингову готівкову систему", яка "не потребує довірених третіх сторін". Сатоші Накамото опублікував вайтпейпер 31 жовтня 2008 року на електронну поштову розсилку криптографів та кіберпанків.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Wrapped Segwit                              | Реалізація дизайну, включена в оновлення SegWit, призначена для спрощення підтримки SegWit гаманцями та іншим програмним забезпеченням для Біткойна. Для досягнення цього два нативні скрипти SegWit, P2WPKH та P2WSH, використовуються як "redeemScript" транзакції P2SH, що дає обгорнуті типи скриптів SegWit P2SH-P2WPKH та P2SH-P2WSH відповідно.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

![зображення](assets/en/129.webp)