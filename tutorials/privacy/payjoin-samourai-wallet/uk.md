---
name: Payjoin - Samourai Wallet
description: Як виконати транзакцію Payjoin у Samourai Wallet?
---
![samourai payjoin cover](assets/cover.webp)

***УВАГА:** Після арешту засновників Samourai Wallet та конфіскації їхніх серверів 24 квітня, Payjoins Stowaway у Samourai Wallet функціонує лише шляхом ручного обміну PSBT між зацікавленими сторонами, за умови, що обидва користувачі підключені до власного Dojo. Що стосується Sparrow, Payjoins через BIP78 все ще працюють. Однак, можливо, що ці інструменти будуть перезапущені в найближчі тижні. Тим часом, ви все ще можете прочитати цю статтю, щоб зрозуміти теоретичні аспекти функціонування Stowaway.*

_Якщо ви плануєте виконати Stowaway вручну, процедура дуже схожа на описану в цьому навчальному посібнику. Основна відмінність полягає у виборі типу транзакції Stowaway: замість вибору `Online`, натисніть на `In Person / Manual`. Потім вам потрібно буде вручну обмінятися PSBT для створення транзакції Stowaway. Якщо ви фізично поруч зі своїм співробітником, ви можете послідовно сканувати QR-коди. Якщо ви знаходитесь на відстані, файли JSON можна обміняти через захищений канал зв'язку. Решта навчального посібника залишається незмінною._

_Ми уважно стежимо за розвитком цієї справи, а також за розвитком пов'язаних інструментів. Будьте впевнені, що ми оновимо цей навчальний посібник, як тільки з'явиться нова інформація._

_Цей навчальний посібник надається лише для освітніх та інформаційних цілей. Ми не підтримуємо або заохочуємо використання цих інструментів для злочинних цілей. Кожен користувач несе відповідальність за дотримання законів у своїй юрисдикції._

---

> *"Змусьте шпигунів блокчейну переосмислити все, що вони думають, що знають."*

Payjoin - це специфічна структура транзакції Bitcoin, яка підвищує конфіденційність користувача під час витрати шляхом співпраці з одержувачем платежу. Існує кілька реалізацій, які полегшують налаштування та автоматизацію PayJoin. Серед цих реалізацій найвідомішою є Stowaway, розроблена командами Samourai Wallet. Цей навчальний посібник пояснює, як виконати транзакцію Stowaway Payjoin за допомогою додатку Samourai Wallet.

## Як працює Stowaway?

Як зазначалося раніше, Samourai Wallet пропонує інструмент PayJoin під назвою "Stowaway". Він доступний через програмне забезпечення Sparrow Wallet на ПК або додаток Samourai Wallet на Android. Для виконання Payjoin одержувач, який також виступає як співробітник, повинен використовувати програмне забезпечення, сумісне з Stowaway, а саме Sparrow або Samourai. Ці два програмні забезпечення є взаємосумісними, що дозволяє виконати транзакцію Stowaway між гаманцем Sparrow та гаманцем Samourai, і навпаки.

Stowaway покладається на категорію транзакцій, які Samourai називає "Cahoots". Cahoot - це по суті спільна транзакція між кількома користувачами, яка вимагає обміну інформацією поза ланцюгом. На сьогодні Samourai пропонує два інструменти Cahoots: Stowaway (Payjoins) та StonewallX2 (який ми розглянемо в майбутній статті).

Транзакції Cahoots передбачають обмін частково підписаними транзакціями між користувачами. Цей процес може бути тривалим і обтяжливим, особливо коли він виконується на відстані. Однак, його все ще можна виконати вручну з іншим користувачем, що може бути зручно, якщо співробітники фізично поруч. На практиці це передбачає ручний обмін п'ятьма QR-кодами, які потрібно послідовно сканувати.
Коли цей процес відбувається дистанційно, він стає надто складним. Щоб вирішити цю проблему, Samourai розробили протокол зашифрованого зв'язку на основі Tor, який називається "Soroban". За допомогою Soroban, обміни, необхідні для Payjoin, автоматизуються за допомогою зручного інтерфейсу. Це другий метод, який ми розглянемо в цій статті.
Ці зашифровані обміни вимагають встановлення з'єднання та аутентифікації між учасниками Cahoots. Таким чином, комунікації Soroban базуються на Paynyms користувачів. Якщо ви не знайомі з Paynyms, я запрошую вас ознайомитися з цією статтею для отримання додаткової інформації: [BIP47 - PAYNYM](https://planb.network/tutorials/privacy/paynym-bip47)

Коротко кажучи, Paynym - це унікальний ідентифікатор, пов'язаний з вашим гаманцем, який дозволяє використовувати різноманітні функції, включаючи зашифровані повідомлення. Paynym представлений у вигляді ідентифікатора та ілюстрації, яка представляє робота. Ось приклад мого на Testnet: ![paynym samourai wallet](assets/en/1.webp)

**Узагальнено:**
- _Payjoin_ = Специфічна структура співпрацюючих транзакцій;
- _Stowaway_ = Реалізація Payjoin, доступна в Samourai та Sparrow Wallet;
- _Cahoots_ = Назва, дана Samourai всім їхнім типам співпрацюючих транзакцій, включаючи Payjoin Stowaway;
- _Soroban_ = Протокол зашифрованого зв'язку, створений на основі Tor, який дозволяє співпрацю з іншими користувачами в контексті транзакції Cahoots;
- _Paynym_ = Унікальний ідентифікатор гаманця, який дозволяє зв'язок з іншим користувачем на Soroban, з метою проведення транзакції Cahoots.

[**-> Дізнатися більше про транзакції Payjoin та їх користь**](https://planb.network/tutorials/privacy/payjoin)

## Як встановити з'єднання між Paynyms?

Щоб провести дистанційну транзакцію Cahoots, зокрема PayJoin (Stowaway) через Samourai, необхідно "Слідкувати" за користувачем, з яким ви маєте намір співпрацювати, використовуючи їх Paynym. У випадку Stowaway це означає слідкування за особою, якій ви хочете надіслати біткойни.

**Ось процедура встановлення цього з'єднання:**

Для початку вам потрібно отримати платіжний код Paynym одержувача для Payjoin. У додатку Samourai Wallet одержувач повинен торкнутися іконки свого Paynym (маленького робота), розташованої у верхньому лівому куті екрана, а потім натиснути на свій псевдонім Paynym, який починається з `+...`. Наприклад, мій `+namelessmode0aF`. Якщо ваш співробітник використовує Sparrow Wallet, я запрошую вас ознайомитися з нашим спеціальним навчальним посібником, натиснувши тут.

![connexion paynym samourai](assets/notext/2.webp)

Ваш співробітник буде перенаправлений на свою сторінку Paynym. Звідти вони можуть або поділитися своїми обліковими даними Paynym з вами, або поділитися своїм QR-кодом для сканування. Для цього вони повинні натиснути на маленьку іконку "поділитися", розташовану у верхньому правому куті їхнього екрана.
![partager paynym samourai](assets/en/1.webp)

З вашого боку, запустіть додаток Samourai Wallet і доступіть до меню "PayNyms" таким же чином. Якщо ви вперше використовуєте свій Paynym, вам потрібно буде отримати ідентифікатор.

![demander un paynym](assets/notext/3.webp)

Потім натисніть на синій "+" у нижньому правому куті екрана.
![ajouter paynym collaborateur](assets/notext/4.webp)
Ви можете вставити код оплати вашого співпрацівника, обравши `COLLER LE CODE PAIEMENT`, або відкрити камеру для сканування їх QR-коду, натиснувши `SCANNEZ LE CODE QR`. ![вставити ідентифікатор paynym](assets/notext/5.webp)
Натисніть кнопку `SUIVRE`.
![слідкувати за paynym](assets/notext/6.webp)
Підтвердіть, натиснувши `YES`.
![підтвердити слідкування за paynym](assets/notext/7.webp)
Після цього програмне забезпечення запропонує вам кнопку `SE CONNECTER`. Для нашого навчального матеріалу натискати на цю кнопку не потрібно. Цей крок необхідний лише у випадку, якщо ви плануєте здійснювати платежі іншому Paynym в рамках BIP47, що не стосується нашого навчання.
![підключення paynym](assets/notext/8.webp)
Як тільки Paynym одержувача буде слідувати за вашим Paynym, повторіть цю операцію в зворотному напрямку, щоб одержувач також слідував за вами. Після цього ви зможете виконати Payjoin.

## Як здійснити Payjoin у Samourai Wallet?

Якщо ви виконали ці попередні кроки, ви нарешті готові здійснити транзакцію Payjoin! Для цього слідуйте нашому відео-навчанню:

![Відео-навчання Payjoin - Samourai Wallet](https://youtu.be/FXW6XZim0ww?si=EXalYwK1t9DT48aE)

**Зовнішні ресурси:**
- https://docs.samourai.io/en/spend-tools#stowaway.