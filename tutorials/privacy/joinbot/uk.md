---
name: JoinBot
description: Розуміння та використання JoinBot
---

![DALL·E – самурайський робот у червоному лісі, 3D рендер](assets/cover.webp)

***УВАГА:** Після арешту засновників Samourai Wallet та конфіскації їхніх серверів 24 квітня, **сервіс JoinBot більше не доступний**. Наразі використання цього інструменту неможливе. Однак, ви все ще можете здійснювати Stonewall X2, але вам потрібно знайти співробітника та вручну обмінятися PSBT. Цей сервіс може бути відновлений у найближчі місяці залежно від прогресу справи.*

_Ми уважно слідкуємо за розвитком цієї справи, а також за розвитком пов'язаних інструментів. Будьте впевнені, що ми оновимо цей навчальний посібник, як тільки з'явиться нова інформація._

_Цей навчальний посібник надається лише для освітніх та інформаційних цілей. Ми не підтримуємо або заохочуємо використання цих інструментів для злочинних цілей. Кожен користувач несе відповідальність за дотримання законів у своїй юрисдикції._

---

JoinBot - це новий інструмент, який був доданий до набору Samourai Wallet з останнім оновленням 0.99.98f відомого програмного забезпечення для Bitcoin гаманця. Він дозволяє легко здійснювати спільну транзакцію для оптимізації вашої конфіденційності, не потребуючи пошуку партнера.

*Подяка відмінному Фанісу Міхалакісу за ідею використання DALL-E для мініатюри!*

## Що таке спільна транзакція на Bitcoin?

Bitcoin базується на розподіленому та прозорому реєстрі обліку. Будь-хто може відстежувати транзакції користувачів цієї електронної грошової системи. Для забезпечення певного рівня конфіденційності, користувачі Bitcoin можуть здійснювати транзакції зі специфічною структурою, щоб додати плаузибельне заперечення у їх інтерпретації.

Ідея полягає не в тому, щоб безпосередньо приховати інформацію, але заплутати її серед інших. Ця мета використовується в Coinjoins, транзакціях, які переривають історію монети на Bitcoin і роблять її відстеження складним. Для досягнення цього результату, у транзакції має бути створено кілька входів та виходів однакової суми.

Входи - це входи Bitcoin транзакції, а виходи представляють виходи. Транзакція споживає свої входи для створення нових виходів, змінюючи умови витрати монети. Цей механізм дозволяє переміщати біткоїни між користувачами.
Я детально обговорюю це в цій статті: Механізм транзакції Bitcoin: UTXO, Входи та Виходи.

Один із способів замаскувати сліди в транзакції Bitcoin - здійснити спільну транзакцію. Як вже було зазначено, вона передбачає угоду між кількома користувачами, кожен з яких вносить суму біткоїнів як вхід у ту саму транзакцію та отримує суму як вихід.

Як було згадано раніше, найвідомішою структурою спільної транзакції є Coinjoin. Наприклад, у протоколі Coinjoin Whirlpool, транзакції включають 5 учасників як входи та виходи, кожен з однаковою кількістю біткоїнів.

![Діаграма транзакції Coinjoin на Whirlpool](assets/1.webp)

Зовнішній спостерігач цієї транзакції не зможе знати, який вихід належить якому користувачу як вхід. Якщо взяти приклад користувача №4 (фіолетовий), ми можемо розпізнати їх вхідний UTXO, але ми не знаємо, який з 5 виходів насправді їхній. Початкова інформація не прихована, але скоріше заплутана в групі.
Користувач здатен заперечувати володіння певним UTXO як вихід. Це явище називається "плаузибельне заперечення", і воно дозволяє зберігати конфіденційність у прозорій Bitcoin транзакції.

Щоб дізнатися більше про Coinjoin, я пояснюю ВСЕ в цій довгій статті: Розуміння та використання CoinJoin на Bitcoin.
Хоча Coinjoin дуже ефективний у перериванні слідкування за UTXO, він не підходить для прямого витрачання. Справді, його структура передбачає використання входів попередньо визначеної суми та виходів тієї ж вартості (за винятком комісії за майнінг). Однак, транзакція витрати в Bitcoin є критичним моментом для приватності, оскільки часто створює фізичний зв'язок між користувачем та їхньою діяльністю в блокчейні. Тому здається важливим використовувати інструменти приватності для витрат. Існують інші колаборативні структури транзакцій, спеціально розроблені для фактичних платіжних транзакцій.
## Транзакція StonewallX2

Серед безлічі інструментів витрат, що пропонуються в Samourai Wallet, існує колаборативна транзакція StonewallX2. Це міні Coinjoin між двома користувачами, розроблений для платежу. Ззовні ця транзакція може мати кілька можливих тлумачень. Таким чином, вона забезпечує правдоподібне заперечення і, відповідно, конфіденційність для користувача.

Ця колаборативна налаштування транзакції StonewallX2 доступна в Samourai Wallet та Sparrow Wallet. Цей інструмент є взаємосумісним між цими двома програмами.

Його механізм досить простий для розуміння. Ось як це працює на практиці:

> - Користувач хоче здійснити платіж в біткоїнах (наприклад, у торговця).
> - Він отримує адресу отримувача фактичного платежу (торговця).
> - Він створює специфічну транзакцію з кількома входами: принаймні один належить йому та один належить зовнішньому співпрацівнику.
> - Транзакція матиме 4 виходи, включаючи 2 однакових суми: один на адресу торговця для платежу, один як решта, що повертається користувачу, один вихід тієї ж вартості, як платіж, що йде співпрацівнику, та інший вихід, який також повертається співпрацівнику.

Наприклад, ось типова транзакція StonewallX2, в якій я здійснив платіж на 50,125 сатоші. Перший вхід на 102,588 сатоші походить з мого гаманця Samourai. Другий вхід на 104,255 сатоші походить з гаманця мого співпрацівника:

![Діаграма транзакції StonewallX2](assets/2.webp)

Ми можемо спостерігати 4 виходи, включаючи 2 однакових суми, щоб заплутати сліди:

> - 50,125 сатоші, які йдуть фактичному отримувачу мого платежу.
> - 52,306 сатоші, які представляють мою решту і тому повертаються на адресу в моєму гаманці.
> - 50,125 сатоші, які повертаються моєму співпрацівнику.
> - 53,973 сатоші, які повертаються моєму співпрацівнику.
>   В кінці операції співпрацівник матиме відновлений свій початковий баланс (за вирахуванням комісії за майнінг), а користувач заплатив торговцю. Це додає значну кількість ентропії до транзакції та розриває незаперечні зв'язки між відправником та отримувачем платежу.

Сила транзакції StonewallX2 полягає в тому, що вона повністю протидіє одному з емпіричних правил, які використовують аналітики ланцюгів: спільному володінню входами в багатовхідній транзакції. Іншими словами, у більшості випадків, якщо ми спостерігаємо біткоїн-транзакцію з кількома входами, ми можемо припустити, що всі ці входи належать одній особі. Сатоші Накамото вже визначив цю проблему для приватності користувачів у своєму Білому Папері:

> "Як додатковий захисний бар'єр, для кожної транзакції можна було б використовувати нову пару ключів, щоб вони не були пов'язані зі спільним власником. Однак, зв'язок неминучий з багатовхідними транзакціями, які обов'язково виявляють, що їхні входи належали одному власнику."

Це одне з багатьох емпіричних правил, які використовуються в аналізі ланцюгів для створення кластерів адрес. Щоб дізнатися більше про ці евристики, я рекомендую прочитати цю серію з чотирьох статей від Samourai, яка чудово вводить у тему.
Сила транзакції StonewallX2 полягає в тому, що зовнішній спостерігач думатиме, що різні входи транзакції належать одному власнику. Насправді це два різні користувачі, які співпрацюють. Таким чином, аналіз платежу веде до відволікання уваги, і приватність користувача зберігається.

Ззовні транзакцію StonewallX2 не можна відрізнити від транзакції Stonewall. Єдина реальна відмінність між ними полягає в тому, що Stonewall не є співпрацею. Вона використовує лише UTXO одного користувача. Однак, у їх структурах на обліковому реєстрі, Stonewall і StonewallX2 ідентичні. Це дозволяє ще більше можливих інтерпретацій цієї структури транзакції, оскільки зовнішній спостерігач не зможе визначити, чи входи походять від однієї особи або від двох співпрацівників.

Крім того, перевага StonewallX2 перед PayJoin типу Stowaway полягає в тому, що його можна використовувати в будь-якій ситуації. Фактичний одержувач платежу не вносить жодних входів до транзакції. Таким чином, StonewallX2 можна використовувати для оплати в будь-якого торговця, який приймає Bitcoin, навіть якщо торговець не використовує Samourai або Sparrow.
З іншого боку, основним недоліком цієї структури транзакції є те, що вона вимагає співпрацівника, який готовий використовувати свої біткоїни для участі у вашому платежі. Якщо у вас є друзі, які готові допомогти вам у будь-якій ситуації, це не проблема. Однак, якщо ви не знаєте інших користувачів Samourai Wallet, або ніхто не може співпрацювати, то ви застрягли.

Для вирішення цієї проблеми команда Samourai нещодавно додала нову функцію до свого додатку: JoinBot.

# Що таке JoinBot?

Принцип JoinBot простий. Якщо ви не можете знайти нікого для співпраці у транзакції StonewallX2, ви можете співпрацювати з JoinBot. На практиці ви насправді проводите спільну транзакцію безпосередньо з Samourai Wallet.

Ця послуга дуже зручна, особливо для новачків, оскільки вона доступна цілодобово. Якщо вам потрібно зробити терміновий платіж і ви хочете виконати StonewallX2, вам більше не потрібно зв'язуватися з другом або шукати онлайн співпрацівника. JoinBot допоможе вам.

Ще одна перевага JoinBot полягає в тому, що UTXO, які він надає як вхід, є виключно з постміксу Whirlpool, що покращує приватність вашого платежу. Крім того, оскільки JoinBot завжди в мережі, ви повинні співпрацювати з UTXO, які мають великі потенційні Anonsets.

Очевидно, що у JoinBot є деякі компроміси, які слід врахувати:

> Як і в класичній транзакції StonewallX2, ваш співпрацівник обов'язково знає про використані UTXO та їх призначення. У випадку з JoinBot, Samourai знає деталі цієї транзакції. Це не обов'язково погано, але про це слід пам'ятати.
> Щоб уникнути спаму, Samourai стягує сервісний збір у розмірі 3,5% від суми фактичної транзакції, з максимальним лімітом 0,01 BTC. Наприклад, якщо я відправляю реальний платіж у 100 кілосатів з JoinBot, сума сервісного збору складе 3 500 сат.
> Для використання JoinBot у вашому гаманці має бути принаймні два неспоріднені та доступні UTXO.
> У класичній транзакції StonewallX2 витрати на майнінг діляться порівну між двома співпрацівниками. З JoinBot ви, очевидно, повинні будите сплатити повну суму витрат на майнінг.
Для того, щоб транзакція JoinBot була точно такою ж, як класична транзакція StonewallX2 або Stonewall, оплата сервісних зборів здійснюється в рамках повністю окремої транзакції. Повернення половини майнінгових зборів, спочатку сплачених Samourai, буде здійснено під час цієї другої транзакції. Для оптимізації вашої конфіденційності до кінця, розрахунок зборів здійснюється за допомогою структурованої транзакції Stowaway (PayJoin).

## Як користуватися JoinBot?

Для виконання транзакції JoinBot вам потрібно мати гаманець Samourai. Ви можете завантажити його тут або з Google Playstore.

На відміну від більшості інструментів, розроблених Samourai, Sparrow Wallet ще не оголосив про впровадження JoinBot. Таким чином, цей інструмент доступний лише на Samourai.

Відкрийте крок за кроком, як виконати транзакцію StonewallX2 за допомогою JoinBot у цьому відео:

![Як користуватися Joinbot](https://youtu.be/80MoMz2Ne5g)

Ось діаграма транзакції, яку ми щойно виконали у відео:

![Діаграма моєї транзакції StonewallX2 з JoinBot.](assets/3.webp)

Ми можемо побачити 5 входів:

> - 3 входи по 100 кілосатів від Samourai (JoinBot).
> - 2 входи з мого особистого гаманця, по 3,524 сатів і 1.8 мегасат.

Чотири виходи транзакції наступні:

> - 1 на 212,452 сатів до фактичного одержувача моєї платежу.
> - Ще один такої ж суми, який повертається на адресу Samourai.
> - 1 решта, яка також повертається Samourai на 87,302 сатів. Це представляє різницю між загальною сумою їхніх входів (300,000 сатів) і виходом для замаскування (212,452 сатів) мінус майнінгові збори.
> - 1 решта, яка повертається на іншу адресу в моєму гаманці. Це представляє різницю між загальною сумою моїх входів і фактичним платежем, мінус майнінгові збори.

Нагадуємо, що майнінгові збори не представляють виходи транзакції. Вони просто представляють різницю між загальною сумою входів і загальною сумою виходів.

## Висновок

JoinBot є додатковим інструментом, який додає більше вибору та свободи для користувачів Samourai. Він дозволяє здійснювати спільну транзакцію StonewallX2 безпосередньо з Samourai як співучасником. Такий тип транзакції допомагає покращити конфіденційність користувача.

Якщо ви можете виконати класичну транзакцію StonewallX2 з другом, я все одно рекомендую використовувати цей інструмент. Однак, якщо ви застрягли і не можете знайти жодних співучасників для здійснення платежу, знайте, що JoinBot буде доступний 24/7, щоб співпрацювати з вами.

**Зовнішні ресурси:**
- https://medium.com/oxt-research/understanding-bitcoin-privacy-with-oxt-part-1-4-8177a40a5923
- https://www.pandul.fr/post/comprendre-et-utiliser-le-coinjoin-sur-bitcoin